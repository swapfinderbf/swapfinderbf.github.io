(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Swap"],{"0bb0":function(e,t,o){"use strict";o("1c65")},1675:function(e,t,o){"use strict";o("e60c")},"1c65":function(e,t,o){},24500:function(e,t,o){},"284e":function(e,t,o){},"35e3":function(e,t,o){"use strict";o.r(t);o("b0c0"),o("a9e3"),o("ac1f"),o("1276"),o("fb6a"),o("99af");var i=o("7a23"),n=o("e524"),a=o.n(n),l=o("965b"),s=o.n(l),r=function(e){return Object(i["pushScopeId"])("data-v-453f4cd2"),e=e(),Object(i["popScopeId"])(),e},c={class:"swap-content"},u={class:"swap-content_left",ref:"swapLeft"},d=["onClick"],m={class:"select-c"},p={key:0,class:"notice-container"},b={class:"card-container"},f={class:"card-container_top flex justify-between items-center"},h=r((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),v={class:"s-text"},g={class:"flex justify-between items-center mt-20"},k=r((function(){return Object(i["createElementVNode"])("div",{style:{height:"0.12rem"}},null,-1)})),O={class:"card-container"},j={class:"card-container_top flex justify-between items-center"},w=r((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),y={class:"s-text"},S={class:"flex justify-between items-center mt-20"},T={key:0},_={key:1},N={key:0,style:{"font-size":"0.24rem"}},V={key:0,style:{"font-size":"0.24rem",color:"#f8be46",margin:"0.1rem 0"}},$={key:1,style:{"font-size":"0.24rem",color:"#F81111",margin:"0.1rem 0"}},E={key:2,style:{"font-size":"0.24rem",color:"#f8be46",margin:"0.1rem 0"}},x={class:"card-container"},B={class:"card-container_top flex justify-between items-center"},C=r((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),A={class:"s-text"},I={class:"flex justify-between items-center mt-20"},P=r((function(){return Object(i["createElementVNode"])("div",{style:{height:"0.12rem"}},null,-1)})),D={class:"card-container"},L={class:"card-container_top flex justify-between items-center"},F=r((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),U={class:"s-text"},R={class:"flex justify-between items-center mt-20"},M={key:0,class:"limit-price-label"},G={key:1,class:"card-container flex justify-between items-center"},z=["disabled"],W=["disabled"],q={class:"limit-price-label mt-10"},Q={class:"card-container flex justify-between items-center"},H=["disabled"],K=["disabled"],Y={class:"limit-price-label mt-10"},J={class:"card-container flex justify-between items-center"},X=["disabled"],Z=["disabled"],ee=r((function(){return Object(i["createElementVNode"])("div",{class:"swap-content_center"},null,-1)})),te={class:"right-section-1"},oe=Object(i["createTextVNode"])("+"),ie={class:"right-section-2"},ne=Object(i["createTextVNode"])("LP"),ae={key:0,class:"swap-label"},le={class:"swap-label_item-left"},se={key:1,style:{display:"flex","align-items":"center"}},re={style:{"margin-right":"0.1rem"}},ce={class:"swap-label_item-left"},ue={style:{display:"flex","align-items":"center"}},de={class:"swap-label_item-left"},me={class:"swap-label_item-left"},pe={key:0},be={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},fe={key:1},he={key:1},ve={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},ge={key:1},ke={key:0},Oe={key:1,class:"path-amm"},je=r((function(){return Object(i["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},null,-1)})),we={key:0,class:"select-token iconfont icon-collapse-down"},ye={key:0},Se={class:"swap-label_item-left"},Te={class:"flex items-center"},_e={key:1,class:"swap-label"},Ne={key:0},Ve={class:"swap-label_item-left"},$e={key:0,style:{display:"flex","align-items":"center"}},Ee={style:{"margin-right":"0.1rem"}},xe={key:1,style:{display:"flex","align-items":"center"}},Be={style:{"margin-right":"0.1rem"}},Ce={key:1},Ae={class:"swap-label_item-left"},Ie={key:1,style:{display:"flex","align-items":"center"}},Pe={class:"section-bottom"},De={class:"title"},Le=r((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),Fe={key:0,style:{"background-color":"#fff"}},Ue={key:1,style:{"background-color":"#fff"}},Re={key:2,style:{"background-color":"#fff"}},Me={class:"footer-container"},Ge=r((function(){return Object(i["createElementVNode"])("img",{src:s.a,alt:"",srcset:""},null,-1)})),ze={style:{background:"#fff","padding-bottom":"1rem"}},We={class:"token-item header"},qe={class:"flex-2"},Qe={class:"flex-1"},He={class:"flex-1 right-label"},Ke=r((function(){return Object(i["createElementVNode"])("span",{style:{width:"0.32rem"}},null,-1)})),Ye=["onClick"],Je={class:"path-list flex-start flex-2"},Xe={key:0},Ze={key:1,class:"path-amm"},et=r((function(){return Object(i["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},null,-1)})),tt={key:0,class:"tag"},ot={class:"flex-1"},it=Object(i["createTextVNode"])(" <0.01% "),nt=Object(i["createTextVNode"])(" >40% ");function at(e,t,n,a,l,s){var r,at,lt,st,rt,ct,ut,dt,mt,pt,bt,ft,ht,vt,gt,kt,Ot,jt,wt,yt,St,Tt,_t,Nt,Vt,$t,Et,xt,Bt,Ct,At,It,Pt,Dt,Lt,Ft=this,Ut=Object(i["resolveComponent"])("RebateImg"),Rt=Object(i["resolveComponent"])("van-count-down"),Mt=Object(i["resolveComponent"])("v-select"),Gt=Object(i["resolveComponent"])("van-button"),zt=Object(i["resolveComponent"])("SwapSelectToken"),Wt=Object(i["resolveComponent"])("van-field"),qt=Object(i["resolveComponent"])("PercentStep"),Qt=Object(i["resolveComponent"])("van-form"),Ht=Object(i["resolveComponent"])("van-icon"),Kt=Object(i["resolveComponent"])("PriceChart"),Yt=Object(i["resolveComponent"])("SwapModeSet"),Jt=Object(i["resolveComponent"])("SlippageButton"),Xt=Object(i["resolveComponent"])("van-image"),Zt=Object(i["resolveComponent"])("SwapGasSet"),eo=Object(i["resolveComponent"])("SolanaLimitExpired"),to=Object(i["resolveComponent"])("van-tab"),oo=Object(i["resolveComponent"])("van-tabs"),io=Object(i["resolveComponent"])("van-checkbox"),no=Object(i["resolveComponent"])("van-loading"),ao=Object(i["resolveComponent"])("TxItem"),lo=Object(i["resolveComponent"])("DynamicScrollerItem"),so=Object(i["resolveComponent"])("DynamicScroller"),ro=Object(i["resolveComponent"])("van-empty"),co=Object(i["resolveComponent"])("LimitTxItem"),uo=Object(i["resolveComponent"])("NoGasTxItem"),mo=Object(i["resolveComponent"])("confirm-swap"),po=Object(i["resolveComponent"])("confirm-limit"),bo=Object(i["resolveComponent"])("van-action-sheet"),fo=Object(i["resolveDirective"])("animation-trigger");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("section",{class:"swap-container",style:Object(i["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3]})},[Object(i["createVNode"])(Ut,{style:{"padding-left":"0.28rem","padding-right":"0.28rem"}}),Object(i["createVNode"])(Rt,{style:{position:"absolute",opacity:"0",height:"0"},ref:"countDown",class:"icon-countDown",time:15e4,format:"sss",onFinish:s.onCountDownFinish},{default:Object(i["withCtx"])((function(e){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.seconds)+"s ",1)]})),_:1},8,["onFinish"]),Object(i["createElementVNode"])("div",c,[Object(i["createElementVNode"])("div",u,[Object(i["createElementVNode"])("div",{class:"tabs-triangle",style:Object(i["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3]})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(s.typeTabs,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:t,class:Object(i["normalizeClass"])(["tab-item",{active:l.activeTab===e.type,up:0===l.activeTab,down:1===l.activeTab}]),onClick:Object(i["withModifiers"])((function(t){return s.switchTab(e.type)}),["stop"])},Object(i["toDisplayString"])(e.name),11,d)})),128))],4),Object(i["createElementVNode"])("div",m,[Object(i["createVNode"])(Mt,{modelValue:l.selected,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.selected=e}),options:s.types,reduce:function(e){return e.value},label:"name",clearable:!1,searchable:!1},null,8,["modelValue","options","reduce"])]),"solana"===s.chain&&Number(s.wSOLBalance)>0&&s.wSOLAccount.pubkey?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",p,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("youHave"))+" "+Object(i["toDisplayString"])(e.$f.formatNumber2(s.wSOLBalance))+" wSOL,",1),Object(i["createVNode"])(Gt,{loading:l.loadingUnwrap,loadingText:e.$t("unwrap"),type:"primary",style:{"--van-button-mini-padding":"0","--van-button-default-line-height":"1","--van-button-border-width":"0"},plain:"",size:"mini",onClick:t[1]||(t[1]=Object(i["withModifiers"])((function(e){return s.unwrapSol(s.wSOLAccount.pubkey)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("unwrap")),1)]})),_:1},8,["loading","loadingText"])])):Object(i["createCommentVNode"])("",!0),2===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createVNode"])(Qt,{class:"swap-form",onSubmit:s.onSubmit,style:{"--van-cell-horizontal-padding":"0","--van-cell-vertical-padding":"0"}},{default:Object(i["withCtx"])((function(){var o,n,a,r,c,u,d,m,p,V,$,E;return[Object(i["createElementVNode"])("div",b,[Object(i["createElementVNode"])("div",f,[Object(i["createVNode"])(zt,{tokens:s.swapTokens,token:l.token1,"onUpdate:token":[t[2]||(t[2]=function(e){return l.token1=e}),s.handleSelectToken1],chain:e.$store.getters.netId||(null===(o=e.$route.params)||void 0===o||null===(n=o.id)||void 0===n||null===(a=n.split)||void 0===a||null===(r=a.call(n,"-"))||void 0===r?void 0:r[1])||l.token1.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),h,Object(i["createElementVNode"])("div",v,Object(i["toDisplayString"])(e.$t("balance"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(c=l.token1)||void 0===c?void 0:c.balance)||0)),1),1===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[3]||(t[3]=Object(i["withModifiers"])((function(e){return s.handlePercentChange(100)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",g,[0===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Wt,{key:0,modelValue:l.toAmount,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return l.toAmount=e}),s.watchToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[5]||(t[5]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(i["createCommentVNode"])("",!0),1===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Wt,{key:1,modelValue:l.fromAmount,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return l.fromAmount=e}),s.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[7]||(t[7]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(i["createCommentVNode"])("",!0)])]),k,Object(i["createElementVNode"])("div",O,[Object(i["createElementVNode"])("div",j,[Object(i["createVNode"])(zt,{tokens:s.swapTokens,token:l.token2,"onUpdate:token":[t[8]||(t[8]=function(e){return l.token2=e}),s.handleSelectToken2],chain:e.$store.getters.netId||(null===(u=e.$route.params)||void 0===u||null===(d=u.id)||void 0===d||null===(m=d.split)||void 0===m||null===(p=m.call(d,"-"))||void 0===p?void 0:p[1])||l.token2.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),w,Object(i["createElementVNode"])("div",y,Object(i["toDisplayString"])(e.$t("balance"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(V=l.token2)||void 0===V?void 0:V.balance)||0)),1),0===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[9]||(t[9]=Object(i["withModifiers"])((function(e){return s.handlePercentChange(100)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",S,[1===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Wt,{key:0,modelValue:l.toAmount,"onUpdate:modelValue":[t[10]||(t[10]=function(e){return l.toAmount=e}),s.watchToAmount],readonly:l.isPump,placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[11]||(t[11]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue","readonly"])):Object(i["createCommentVNode"])("",!0),0===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Wt,{key:1,modelValue:l.fromAmount,"onUpdate:modelValue":[t[12]||(t[12]=function(e){return l.fromAmount=e}),s.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[13]||(t[13]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(i["createCommentVNode"])("",!0)])]),Object(i["createVNode"])(qt,{ref:"percentStep",onChange:s.handlePercentChange,activeColor:0===l.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]},null,8,["onChange","activeColor"]),!s.isApprove||l.loadingAllowance?(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:0,class:"submit-btn",block:"",color:s.swapButtonColor,"native-type":"submit","loading-text":l.loadingAllowance?e.$t("checkingAllowance"):l.quoteLoading?e.$t("quoting"):l.loadingApprove?e.$t("approve"):"",loading:l.loadingApprove||l.loadingSwap||l.loadingAllowance,disabled:Number(s.fromToken.balance)<Number(Ft.fromAmount)},{default:Object(i["withCtx"])((function(){var t,o;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(0===Number(s.fromToken.balance)||Number(s.fromToken.balance)<Number(Ft.fromAmount)||""===e.$store.state.currentAccount?null!==(t=s.priceImpactV)&&void 0!==t&&null!==(o=t.gt)&&void 0!==o&&o.call(t,.4)?e.$t("priceImpactTooHigh"):s.checkAmountMessage()||e.$t("approve"):e.$t("approve")),1)]})),_:1},8,["color","loading-text","loading","disabled"])):(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:1,class:"submit-btn",block:"",loading:l.loadingSwap||l.quoteLoading||l.loadingAllowance,"loading-text":l.loadingSwap?0===l.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:s.swapButtonColor,disabled:(null===($=s.priceImpactV)||void 0===$||null===(E=$.gt)||void 0===E?void 0:E.call($,.4))||!s.checkAmount()||!l.fromAmount||!l.toAmount,"native-type":"submit"},{default:Object(i["withCtx"])((function(){var t,o,n,a,r;return[0===Number(s.fromToken.balance)||Number(s.fromToken.balance)<Number(Ft.fromAmount)||""===e.$store.state.currentAccount||l.isERC314&&l.token2.address!==l.nativeToken||l.isPump&&"So11111111111111111111111111111111111111112"!==l.token2.address?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",T,Object(i["toDisplayString"])(s.checkAmountMessage()),1)):null!==(t=s.priceImpactV)&&void 0!==t&&null!==(o=t.gt)&&void 0!==o&&o.call(t,.4)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",_,Object(i["toDisplayString"])(e.$t("priceImpactTooHigh")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(null!==(n=s.priceImpactV)&&void 0!==n&&null!==(a=n.gt)&&void 0!==a&&a.call(n,.1)?0===l.activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===l.activeTab?e.$t("buy"):e.$t("sell"))+" "+Object(i["toDisplayString"])((null===(r=l.token1)||void 0===r?void 0:r.symbol)||""),1),s.taxStr?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",N,Object(i["toDisplayString"])(s.taxStr),1)):Object(i["createCommentVNode"])("",!0)],64))]})),_:1},8,["loading","loading-text","color","disabled"]))]})),_:1},8,["onSubmit"]),l.isTaxHigh?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",V,Object(i["toDisplayString"])(e.$t("taxTooHigh")),1)):Object(i["createCommentVNode"])("",!0),l.isCannotSellAll?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",$,Object(i["toDisplayString"])(e.$t("cannotSellAll")),1)):Object(i["createCommentVNode"])("",!0),l.isHotToken?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",E,Object(i["toDisplayString"])(e.$t("hotTokenTips")),1)):Object(i["createCommentVNode"])("",!0)],64)):Object(i["createCommentVNode"])("",!0),0===l.selected||1===this.selected||3===this.selected?(Object(i["openBlock"])(),Object(i["createBlock"])(Qt,{key:2,class:"swap-form",onSubmit:s.onLimitSubmit,style:{"--van-cell-horizontal-padding":"0","--van-cell-vertical-padding":"0"}},{default:Object(i["withCtx"])((function(){var o,n,a,r,c,u,d,m,p,b;return[Object(i["createElementVNode"])("div",x,[Object(i["createElementVNode"])("div",B,[Object(i["createVNode"])(zt,{tokens:s.swapTokens,token:l.limitToken1,"onUpdate:token":[t[14]||(t[14]=function(e){return l.limitToken1=e}),s.handleSelectLimitToken1],chain:e.$store.getters.netId||(null===(o=e.$route.params)||void 0===o||null===(n=o.id)||void 0===n||null===(a=n.split)||void 0===a||null===(r=a.call(n,"-"))||void 0===r?void 0:r[1])||l.limitToken1.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),C,Object(i["createElementVNode"])("div",A,Object(i["toDisplayString"])(e.$t("balance"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(c=l.limitToken1)||void 0===c?void 0:c.balance)||0)),1),1===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[15]||(t[15]=Object(i["withModifiers"])((function(e){return s.handlePercentChange1(100)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",I,[Object(i["createVNode"])(Wt,{modelValue:l.limitAmount1,"onUpdate:modelValue":[t[16]||(t[16]=function(e){return l.limitAmount1=e}),s.watchLimitAmount1],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[17]||(t[17]=function(t){return e.$refs.percentStep1.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])])]),P,Object(i["createElementVNode"])("div",D,[Object(i["createElementVNode"])("div",L,[Object(i["createVNode"])(zt,{tokens:s.swapTokens,token:l.limitToken2,"onUpdate:token":[t[18]||(t[18]=function(e){return l.limitToken2=e}),s.handleSelectLimitToken2],chain:e.$store.getters.netId||(null===(u=e.$route.params)||void 0===u||null===(d=u.id)||void 0===d||null===(m=d.split)||void 0===m||null===(p=m.call(d,"-"))||void 0===p?void 0:p[1])||l.limitToken2.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),F,Object(i["createElementVNode"])("div",U,Object(i["toDisplayString"])(e.$t("balance"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(b=l.limitToken2)||void 0===b?void 0:b.balance)||0)),1),0===l.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[19]||(t[19]=Object(i["withModifiers"])((function(e){return s.handlePercentChange1(100)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",R,[Object(i["createVNode"])(Wt,{modelValue:l.limitAmount2,"onUpdate:modelValue":[t[20]||(t[20]=function(e){return l.limitAmount2=e}),s.watchLimitAmount2],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[21]||(t[21]=function(t){return e.$refs.percentStep1.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])])]),Object(i["createVNode"])(qt,{ref:"percentStep1",onChange:s.handlePercentChange1,activeColor:s.limitButtonColor},null,8,["onChange","activeColor"]),1===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",M,Object(i["toDisplayString"])(e.$t("triggerPrice"))+"("+Object(i["toDisplayString"])(l.limitToken1.symbol||"")+")",1)):Object(i["createCommentVNode"])("",!0),1===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",G,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[22]||(t[22]=Object(i["withModifiers"])((function(){return s.minusTriggerPrice&&s.minusTriggerPrice.apply(s,arguments)}),["stop"])),disabled:!l.triggerPrice},[Object(i["createVNode"])(Ht,{name:"minus"})],8,z),Object(i["createVNode"])(Wt,{modelValue:l.triggerPrice,"onUpdate:modelValue":t[23]||(t[23]=function(e){return l.triggerPrice=e}),placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[24]||(t[24]=Object(i["withModifiers"])((function(){return s.addTriggerPrice&&s.addTriggerPrice.apply(s,arguments)}),["stop"])),disabled:!l.triggerPrice},[Object(i["createVNode"])(Ht,{name:"plus"})],8,W)])):Object(i["createCommentVNode"])("",!0),1===l.selected||0===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},["solana"===s.chain&&0===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",q,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(l.limitToken1.symbol||"")+")",1),Object(i["createElementVNode"])("div",Q,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[25]||(t[25]=Object(i["withModifiers"])((function(){return s.minusLimitSolanaPrice&&s.minusLimitSolanaPrice.apply(s,arguments)}),["stop"])),disabled:!l.limitSolanaPriceU},[Object(i["createVNode"])(Ht,{name:"minus"})],8,H),Object(i["createVNode"])(Wt,{modelValue:l.limitSolanaPriceU,"onUpdate:modelValue":[t[26]||(t[26]=function(e){return l.limitSolanaPriceU=e}),s.watchLimitSolanaPrice],placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue","onUpdate:modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[27]||(t[27]=Object(i["withModifiers"])((function(){return s.addLimitSolanaPrice&&s.addLimitSolanaPrice.apply(s,arguments)}),["stop"])),disabled:!l.limitSolanaPriceU},[Object(i["createVNode"])(Ht,{name:"plus"})],8,K)])],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("div",Y,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(l.limitToken1.symbol||"")+")",1),Object(i["createElementVNode"])("div",J,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[28]||(t[28]=Object(i["withModifiers"])((function(){return s.minusLimitPrice&&s.minusLimitPrice.apply(s,arguments)}),["stop"])),disabled:!l.limitPrice},[Object(i["createVNode"])(Ht,{name:"minus"})],8,X),Object(i["createVNode"])(Wt,{modelValue:l.limitPrice,"onUpdate:modelValue":[t[29]||(t[29]=function(e){return l.limitPrice=e}),s.watchLimitPrice],placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue","onUpdate:modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[30]||(t[30]=Object(i["withModifiers"])((function(){return s.addLimitPrice&&s.addLimitPrice.apply(s,arguments)}),["stop"])),disabled:!l.limitPrice},[Object(i["createVNode"])(Ht,{name:"plus"})],8,Z)])],64))],64)):Object(i["createCommentVNode"])("",!0),s.isLimitApprove&&!l.loadingLimitAllowance||3===l.selected?(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:4,class:"submit-btn",block:"",loading:l.loadingLimit||l.limitQuoteLoading,"loading-text":l.limitQuoteLoading?e.$t("quoting"):l.loadingLimit?0===l.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:s.limitButtonColor,disabled:!s.checkLimitAmount()||!l.limitAmount1||!l.limitAmount2||l.loadingLimitAllowance,"native-type":"submit"},{default:Object(i["withCtx"])((function(){var t;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(s.checkLimitAmountMessage()||(0===l.activeTab?e.$t("buy"):e.$t("sell"))+" "+((null===(t=l.limitToken1)||void 0===t?void 0:t.symbol)||"")),1)]})),_:1},8,["loading","loading-text","color","disabled"])):(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:3,class:"submit-btn",block:"",color:s.limitButtonColor,"native-type":"submit","loading-text":l.loadingLimitAllowance?e.$t("checkingAllowance"):l.quoteLimitLoading?e.$t("quoting"):l.loadingLimitApprove?e.$t("approve"):"",disabled:!s.checkLimitAmount(),loading:l.loadingLimitApprove||l.loadingLimit||l.loadingLimitAllowance},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(s.checkLimitAmountMessage()||e.$t("approve")),1)]})),_:1},8,["color","loading-text","disabled","loading"]))]})),_:1},8,["onSubmit"])):Object(i["createCommentVNode"])("",!0)],512),ee,Object(i["createElementVNode"])("div",{class:"swap-content_right",style:Object(i["normalizeStyle"])({"max-height":l.height/50+"rem"})},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",te,[Object(i["createElementVNode"])("div",null," $"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(r=l.baseToken)||void 0===r||null===(at=r.token)||void 0===at?void 0:at.current_price_usd)||0)),1),Object(i["createElementVNode"])("div",{style:Object(i["normalizeStyle"])({color:(null===(lt=l.baseToken)||void 0===lt||null===(st=lt.token)||void 0===st?void 0:st.price_change)<0?"var(--downColor)":"var(--upColor)"})},[(null===(rt=l.baseToken)||void 0===rt||null===(ct=rt.token)||void 0===ct?void 0:ct.price_change)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[oe],64)):Object(i["createCommentVNode"])("",!0),Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2((null===(ut=l.baseToken)||void 0===ut||null===(dt=ut.token)||void 0===dt?void 0:dt.price_change)||0,2))+"% ",1)],4)])),[[fo,null===(mt=l.baseToken)||void 0===mt||null===(pt=mt.token)||void 0===pt?void 0:pt.current_price_usd,"animation-bg"]]),Object(i["createVNode"])(Kt,{dataX:l.dataX,dataY:l.dataY},null,8,["dataX","dataY"]),Object(i["createElementVNode"])("table",ie,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("pool1")),1),Object(i["createElementVNode"])("th",null,[s.tokenInfo.token&&s.tokenInfo.chain&&l.openLp&&s.isShow&&!l.isERC314?(Object(i["openBlock"])(),Object(i["createBlock"])(Gt,{key:0,icon:"plus",type:"primary",plain:"",size:"small",style:{"--van-padding-base":"0","min-width":"0.8rem",height:"0.4rem"},onClick:Object(i["withModifiers"])(s.goLiquidity,["stop"])},{default:Object(i["withCtx"])((function(){return[ne]})),_:1},8,["onClick"])):Object(i["createCommentVNode"])("",!0)])]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===(bt=l.baseToken)||void 0===bt||null===(ft=bt.pairs)||void 0===ft?void 0:ft.slice(0,2),(function(t,o){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o},[Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(t.target_token===t.token0_address?t.token0_symbol:t.token1_symbol),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(t.target_token===t.token0_address?t.token1_symbol:t.token0_symbol),1)]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve0:t.reserve1)),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve1:t.reserve0)),1)])])),[[fo,t.target_token===t.token0_address?t.token0_price_usd:t.token1_price_usd,"animation-bg"]])})),128)),(null===(ht=l.baseToken)||void 0===ht||null===(vt=ht.pairs)||void 0===vt?void 0:vt.length)>2&&l.isPairShowMore?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(null===(gt=l.baseToken)||void 0===gt||null===(kt=gt.pairs)||void 0===kt?void 0:kt.slice(2),(function(t,o){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o},[Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(t.target_token===t.token0_address?t.token0_symbol:t.token1_symbol),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(t.target_token===t.token0_address?t.token1_symbol:t.token0_symbol),1)]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve0:t.reserve1)),1),Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve1:t.reserve0)),1)])])),[[fo,t.target_token===t.token0_address?t.token0_price_usd:t.token1_price_usd,"animation-bg"]])})),128)):Object(i["createCommentVNode"])("",!0)]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"btn-more",onClick:t[31]||(t[31]=Object(i["withModifiers"])((function(e){return l.isPairShowMore=!0}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("viewMore")),1),Object(i["createVNode"])(Ht,{name:"arrow-down"})],512),[[i["vShow"],!l.isPairShowMore&&(null===(Ot=l.baseToken)||void 0===Ot||null===(jt=Ot.pairs)||void 0===jt?void 0:jt.length)>2]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{class:"btn-more",onClick:t[32]||(t[32]=Object(i["withModifiers"])((function(e){return l.isPairShowMore=!1}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("putAway")),1),Object(i["createVNode"])(Ht,{name:"arrow-up"})],512),[[i["vShow"],l.isPairShowMore&&(null===(wt=l.baseToken)||void 0===wt||null===(yt=wt.pairs)||void 0===yt?void 0:yt.length)>2]])],4)]),2===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",ae,[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",le,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[33]||(t[33]=Object(i["withModifiers"])((function(t){return s.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips"))}),["stop"]))})]),"solana"!==s.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(Yt,{key:0,swapMode:l.customSwapMode,"onUpdate:swapMode":t[34]||(t[34]=function(e){return l.customSwapMode=e}),autoSwapMode:l.autoSwapMode,slippage:l.customSlippage,"onUpdate:slippage":t[35]||(t[35]=function(e){return l.customSlippage=e}),autoSlippage:l.autoSlippageValue},null,8,["swapMode","autoSwapMode","slippage","autoSlippage"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",se,[Object(i["createElementVNode"])("span",re,Object(i["toDisplayString"])(l.solanaSlippage)+"%",1),Object(i["createVNode"])(Jt,{slippage:l.solanaSlippage,"onUpdate:slippage":t[36]||(t[36]=function(e){return l.solanaSlippage=e}),icon:1,onOnSubmit:s.onSubmitSolanaSlippage},null,8,["slippage","onOnSubmit"])]))]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",ce,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("estimatedAveragePrice")),1)]),Object(i["createElementVNode"])("div",ue,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(s.getAvgPrice()),1)])],512),[[i["vShow"],l.fromAmount&&l.toAmount]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",de,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("priceImpact")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[37]||(t[37]=Object(i["withModifiers"])((function(t){return s.alertTips(e.$t("priceImpact"),e.$t("priceImpactTips"))}),["stop"]))})]),Object(i["createElementVNode"])("div",{style:Object(i["normalizeStyle"])({color:s.priceImpactColor})},Object(i["toDisplayString"])(s.priceImpact)+Object(i["toDisplayString"])(null!==(St=s.priceImpactV)&&void 0!==St&&null!==(Tt=St.gt)&&void 0!==Tt&&Tt.call(St,.05)?"(".concat(e.$t("excessivePriceImpact"),")"):""),5)],512),[[i["vShow"],l.fromAmount&&l.toAmount&&!l.isERC314]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",me,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tokenRoute")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[38]||(t[38]=Object(i["withModifiers"])((function(t){return s.alertTips(e.$t("tokenRoute"),e.$t("tokenRouteTips"))}),["stop"]))})]),"solana"===s.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pe,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])([s.fromToken,s.toToken],(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",be)):Object(i["createCommentVNode"])("",!0),e.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",fe,Object(i["toDisplayString"])(e.symbol),1)):Object(i["createCommentVNode"])("",!0)],64)})),128))])):1===(null===(_t=l.swapQuoteInfo)||void 0===_t?void 0:_t.toWrapper)||2===(null===(Nt=l.swapQuoteInfo)||void 0===Nt?void 0:Nt.toWrapper)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",he,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.swapRouterPath,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",ve)):Object(i["createCommentVNode"])("",!0),e.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ge,Object(i["toDisplayString"])(e.symbol),1)):Object(i["createCommentVNode"])("",!0)],64)})),128))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:2,class:"path-list clickable",onClick:t[39]||(t[39]=Object(i["withModifiers"])((function(e){return l.dialogListRouterVisible=!0}),["stop","prevent"]))},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.swapRouterPath,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:n},[t.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ke,Object(i["toDisplayString"])(t.symbol),1)):Object(i["createCommentVNode"])("",!0),t.nextAmm&&"unknown"!==t.nextAmm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Oe,[Object(i["createVNode"])(Xt,{class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"".concat(e.$store.state.s3BaseUrl,"swap/").concat(t.nextAmm,".jpeg"),"error-icon":o("aeccf")},null,8,["src","error-icon"]),je])):Object(i["createCommentVNode"])("",!0)],64)})),128)),l.listRouter.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",we)):Object(i["createCommentVNode"])("",!0)]))],512),[[i["vShow"],l.fromAmount&&l.toAmount]]),"solana"!==s.chain&&"tron"!==s.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",ye,[Object(i["createElementVNode"])("div",Se,Object(i["toDisplayString"])(e.$t("estimatedGas")),1),Object(i["createElementVNode"])("div",Te,[Object(i["createElementVNode"])("span",null,"≈ "+Object(i["toDisplayString"])(s.estimatedFee),1),"bsc"===e.$store.getters.netId?(Object(i["openBlock"])(),Object(i["createBlock"])(Zt,{key:0,class:"ml-5",standardGasPrice:l.gasPrice,gas:this.swapInfo.gasValue,nativePrice:l.nativePrice,onUpdateGasPrice:s.updateGasPrice},null,8,["standardGasPrice","gas","nativePrice","onUpdateGasPrice"])):Object(i["createCommentVNode"])("",!0)])])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),0===l.selected||1===l.selected||3===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",_e,["solana"!==s.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Ne,[Object(i["createElementVNode"])("div",Ve,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[40]||(t[40]=Object(i["withModifiers"])((function(t){return s.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips"))}),["stop"]))})]),0===l.selected||1===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",$e,[Object(i["createElementVNode"])("span",Ee,Object(i["toDisplayString"])(l.limitSlippage)+"%",1),Object(i["createVNode"])(Jt,{slippage:l.limitSlippage,"onUpdate:slippage":t[41]||(t[41]=function(e){return l.limitSlippage=e}),icon:1,onOnSubmit:s.onSubmitLimitSlippage},null,8,["slippage","onOnSubmit"])])):3===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",xe,[Object(i["createElementVNode"])("span",Be,Object(i["toDisplayString"])(l.noGasSlippage)+"%",1),Object(i["createVNode"])(Jt,{slippage:l.noGasSlippage,"onUpdate:slippage":t[42]||(t[42]=function(e){return l.noGasSlippage=e}),icon:1,min:5,slippageList:["5","6","7"],onOnSubmit:s.onSubmitNoGasSlippage},null,8,["slippage","onOnSubmit"])])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),0===l.selected||1===l.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Ce,[Object(i["createElementVNode"])("div",Ae,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("limitExpiredTime")),1)]),0===l.selected&&"solana"===s.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(eo,{key:0,expiredTime:l.solanaLimitExpiredTime,"onUpdate:expiredTime":t[43]||(t[43]=function(e){return l.solanaLimitExpiredTime=e})},null,8,["expiredTime"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ie,Object(i["toDisplayString"])(l.LimitExpiredDays)+" "+Object(i["toDisplayString"])(e.$t("days")),1))])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Pe,[Object(i["createElementVNode"])("div",De,[Object(i["createVNode"])(oo,{active:l.tabActive1,"onUpdate:active":t[44]||(t[44]=function(e){return l.tabActive1=e}),shrink:"",color:"#558BED","title-active-color":"#333333","title-inactive-color":"#999999",style:{"--van-tabs-nav-background-color":"#fff"}},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(to,{name:"swap",title:e.$t("historyExchange")},null,8,["title"]),l.isSupportNoGas&&"solana"!==s.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(to,{key:0,name:"noGas",title:e.$t("historyNoGas")},null,8,["title"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(to,{name:"limit",title:e.$t("historyLimitOrder")},null,8,["title"])]})),_:1},8,["active"]),Le,Object(i["createVNode"])(io,{modelValue:l.isCurrentToken,"onUpdate:modelValue":t[45]||(t[45]=function(e){return l.isCurrentToken=e}),"icon-size":"0.32rem",style:{"--van-checkbox-size":"1.1","--van-checkbox-label-margin":"0.1rem"}},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("currentToken")),1)]})),_:1},8,["modelValue"]),"limit"===l.tabActive1?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[l.loadingGetLimitOrder?(Object(i["openBlock"])(),Object(i["createBlock"])(no,{key:0,size:"0.4rem",style:{"margin-left":"0.36rem"}})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:1,class:"iconfont icon-shuaxin",onClick:t[46]||(t[46]=Object(i["withModifiers"])((function(e){return s.getLimitOrder()}),["stop"]))}))],64)):Object(i["createCommentVNode"])("",!0)]),"swap"===l.tabActive1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Fe,[(null===(Vt=s.txs)||void 0===Vt?void 0:Vt.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(so,{key:0,items:s.txs,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(i["withCtx"])((function(e){var t=e.item,o=e.index,n=e.active;return[Object(i["createVNode"])(lo,{item:t,active:n,"data-index":o},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(ao,{item:t},null,8,["item"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createVNode"])(ro,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[i["vShow"],s.txs&&0===s.txs.length]])])):Object(i["createCommentVNode"])("",!0),"limit"===l.tabActive1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Ue,[(null===($t=s.filterLimitOrders)||void 0===$t?void 0:$t.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(so,{key:0,items:s.filterLimitOrders,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(i["withCtx"])((function(e){var t=e.item,o=e.index,n=e.active;return[Object(i["createVNode"])(lo,{item:t,active:n,"data-index":o},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(co,{item:t,onRefresh:s.refreshLimit},null,8,["item","onRefresh"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createVNode"])(ro,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[i["vShow"],s.filterLimitOrders&&0===s.filterLimitOrders.length]])])):Object(i["createCommentVNode"])("",!0),"noGas"===l.tabActive1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Re,[(null===(Et=s.filterNoGasTxList)||void 0===Et?void 0:Et.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(so,{key:0,items:s.filterNoGasTxList,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(i["withCtx"])((function(e){var t=e.item,o=e.index,n=e.active;return[Object(i["createVNode"])(lo,{item:t,active:n,"data-index":o},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(uo,{item:t,onRefresh:s.getNoGasList},null,8,["item","onRefresh"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createVNode"])(ro,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[i["vShow"],s.filterNoGasTxList&&0===s.filterNoGasTxList.length&&!l.loadingGetNoGasList]])])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Me,[Object(i["createElementVNode"])("div",{class:"section-audit",onClick:t[47]||(t[47]=Object(i["withModifiers"])((function(){return s.goAudit&&s.goAudit.apply(s,arguments)}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("securityAudit"))+": ",1),Ge])])],4),Object(i["createVNode"])(mo,{visible:l.dialogVisibleSwap,"onUpdate:visible":t[48]||(t[48]=function(e){return l.dialogVisibleSwap=e}),swapInfo:l.swapInfo,slippage:"solana"===s.chain?l.solanaSlippage:s.slippage,onSubmit:s.submitSwap,loading:l.loadingConfirmSwap,chain:e.$store.getters.netId||(null===(xt=e.$route.params)||void 0===xt||null===(Bt=xt.id)||void 0===Bt||null===(Ct=Bt.split)||void 0===Ct||null===(At=Ct.call(Bt,"-"))||void 0===At?void 0:At[1])||"",nativePrice:l.nativePrice,gasPrice:s.customGasPrice},null,8,["visible","swapInfo","slippage","onSubmit","loading","chain","nativePrice","gasPrice"]),Object(i["createVNode"])(po,{visible:l.dialogVisibleLimit,"onUpdate:visible":t[49]||(t[49]=function(e){return l.dialogVisibleLimit=e}),limitInfo:l.limitInfo,onSubmit:s.submitLimitOrder,loading:l.loadingConfirmLimit,chain:e.$store.getters.netId||(null===(It=e.$route.params)||void 0===It||null===(Pt=It.id)||void 0===Pt||null===(Dt=Pt.split)||void 0===Dt||null===(Lt=Dt.call(Pt,"-"))||void 0===Lt?void 0:Lt[1])||"",limitGasU:l.limitGasU},null,8,["visible","limitInfo","onSubmit","loading","chain","limitGasU"]),Object(i["createVNode"])(bo,{show:l.dialogListRouterVisible,"onUpdate:show":t[50]||(t[50]=function(e){return l.dialogListRouterVisible=e}),title:e.$t("selectRouter"),style:{height:"60%","--van-popup-background-color":"#fff"}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("ul",ze,[Object(i["createElementVNode"])("li",We,[Object(i["createElementVNode"])("span",qe,Object(i["toDisplayString"])(e.$t("router")),1),Object(i["createElementVNode"])("span",Qe,Object(i["toDisplayString"])(l.isAmount?e.$t("expectedAmount"):e.$t("expectedPay")),1),Object(i["createElementVNode"])("span",He,Object(i["toDisplayString"])(e.$t("priceImpact")),1),Ke]),Object(i["withDirectives"])(Object(i["createVNode"])(ro,{description:e.$t("emptyData"),class:"empty"},null,8,["description"]),[[i["vShow"],l.listRouter&&0===l.listRouter.length]]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.listRouter,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:n,class:"token-item",onClick:Object(i["withModifiers"])((function(e){return s.getSelectedRouter(n)}),["stop"])},[Object(i["createElementVNode"])("div",Je,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.path,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:n},[t.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Xe,Object(i["toDisplayString"])(t.symbol),1)):Object(i["createCommentVNode"])("",!0),t.nextAmm&&"unknown"!==t.nextAmm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ze,[Object(i["createVNode"])(Xt,{class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"".concat(e.$store.state.s3BaseUrl,"swap/").concat(t.nextAmm,".jpeg"),"error-icon":o("aeccf")},null,8,["src","error-icon"]),et])):Object(i["createCommentVNode"])("",!0)],64)})),128)),0===n?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",tt,Object(i["toDisplayString"])(e.$t("best")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",ot,Object(i["toDisplayString"])(e.$f.formatNumber2(t.amount)),1),t.priceImpact<10?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"right-label flex-1",style:Object(i["normalizeStyle"])({color:s.formatPriceImpactColor(t.priceImpact)})},[Number(t.priceImpact)<.01?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[it],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(t.priceImpact,2))+"% ",1)],64))],4)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:"right-label flex-1",style:Object(i["normalizeStyle"])({color:s.formatPriceImpactColor(t.priceImpact)})},[Number(t.priceImpact)>40?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[nt],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(t.priceImpact,2))+"% ",1)],64))],4)),l.selectedRouterIndex===n?(Object(i["openBlock"])(),Object(i["createBlock"])(Ht,{key:2,size:"0.32rem",color:"#558BED",name:"success"})):(Object(i["openBlock"])(),Object(i["createBlock"])(Ht,{key:3,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,Ye)})),128))])]})),_:1},8,["show","title"])],64)}var lt=o("fc11"),st=o("c964"),rt=o("f3f3"),ct=o("d0ff"),ut=o("d0af"),dt=(o("96cf"),o("4de4"),o("d3b7"),o("7db0"),o("2ca0"),o("b680"),o("4e82"),o("159b"),o("25f0"),o("c740"),o("5319"),o("466d"),o("4d63"),o("c607"),o("2c3e"),o("d81d"),o("00b4"),o("3ca3"),o("ddb0"),o("e9c4"),o("caad"),o("2532"),o("b64b"),o("a15b"),o("a630"),o("6062"),o("0481"),o("4069"),o("85b6")),mt=o("57c9"),pt=o("9587"),bt=function(e){return Object(i["pushScopeId"])("data-v-b98c9484"),e=e(),Object(i["popScopeId"])(),e},ft={class:"flex items-center"},ht={class:"label mr-20"},vt={key:0,class:"token-container"},gt={class:"icon-token-container mr-5"},kt=["src"],Ot={class:"mr-5"},jt=bt((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),wt={class:"flex items-center mt-10"},yt={class:"label mr-20"},St={key:0,class:"token-container"},Tt={class:"icon-token-container mr-5"},_t=["src"],Nt={class:"mr-5"},Vt={class:"flex items-center justify-between mt-10"},$t={class:"label mr-20"},Et=bt((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)}));function xt(e,t,o,n,a,l){var s,r,c,u,d,m=Object(i["resolveComponent"])("van-image"),p=Object(i["resolveComponent"])("van-loading");return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"tx-li-item van-hairline--bottom clickable",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(){return l.goLink&&l.goLink.apply(l,arguments)}),["stop"]))},[Object(i["createElementVNode"])("div",ft,[Object(i["createElementVNode"])("span",ht,Object(i["toDisplayString"])(e.$t("from")),1),o.item.from_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",vt,[Object(i["createElementVNode"])("div",gt,[Object(i["createVNode"])(m,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(s=o.item)&&void 0!==s&&s.from_token_logo_url?e.$f.formatIcon({logo_url:o.item.from_token_logo_url}):"/icon-default.png","error-icon":a.defaultIcon},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(o.item.chain,".png"),alt:"",srcset:""},null,8,kt)]),Object(i["createElementVNode"])("span",Ot,Object(i["toDisplayString"])(e.$f.formatNumber2(l.formatUnits(o.item.from_amount,o.item.from_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.item.from_token_symbol||""),1)])):Object(i["createCommentVNode"])("",!0),jt]),Object(i["createElementVNode"])("div",wt,[Object(i["createElementVNode"])("span",yt,Object(i["toDisplayString"])(e.$t("to")),1),o.item.to_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",St,[Object(i["createElementVNode"])("div",Tt,[Object(i["createVNode"])(m,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(r=o.item)&&void 0!==r&&r.to_token_logo_url?e.$f.formatIcon({logo_url:o.item.to_token_logo_url}):"/icon-default.png","error-icon":a.defaultIcon},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(o.item.chain,".png"),alt:"",srcset:""},null,8,_t)]),Object(i["createElementVNode"])("span",Nt,Object(i["toDisplayString"])(e.$f.formatNumber2(l.formatUnits(o.item.to_amount,o.item.to_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===(c=o.item)||void 0===c?void 0:c.to_token_symbol)||""),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Vt,[Object(i["createElementVNode"])("span",$t,Object(i["toDisplayString"])(e.$f.formatDate(o.item.created_at)),1),1===o.item.status||2===o.item.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(i["normalizeStyle"])({color:l.formatStatusColor(o.item.status)})},Object(i["toDisplayString"])(l.formatStatus(o.item.status)),5)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Et,0===(null===(u=o.item)||void 0===u?void 0:u.status)||-1===(null===(d=o.item)||void 0===d?void 0:d.status)?(Object(i["openBlock"])(),Object(i["createBlock"])(p,{key:0,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("pending")),1)]})),_:1})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:"status-txt",style:Object(i["normalizeStyle"])({color:l.formatStatusColor(o.item.status)})},Object(i["toDisplayString"])(l.formatStatus(o.item.status)),5))],64))])])}var Bt=o("6779"),Ct=o("aeccf"),At=o.n(Ct),It={name:"NoGasTxItem",props:{item:Object},emits:["refresh"],data:function(){return{defaultIcon:At.a,loading:!1}},methods:{formatUnits:Bt["utils"].formatUnits,formatStatus:function(e){var t,o={0:"",1:this.$t("cancelled"),2:this.$t("completed"),3:this.$t("unknownError1"),7:this.$t("unknownError1"),4:this.$t("notEnoughBalance"),5:this.$t("insufficientSlippage1"),8:this.$t("insufficientSlippage1"),6:this.$t("transferFailed"),10:this.$t("fail1")+"(".concat(this.$t("nonceError"),")"),11:this.$t("fail1")+"(".concat(this.$t("chainError"),")"),12:this.$t("fail1")+"(".concat(this.$t("signatureError"),")"),13:this.$t("fail1")+"(".concat(this.$t("approveGasPriceLow"),")"),15:this.$t("fail1")+"(".concat(this.$t("gasLimitHigh"),")"),16:this.$t("fail1")+"(".concat(this.$t("swapTokenRiskHigh"),")"),"-1":""};return null!==(t=o[e])&&void 0!==t?t:e},formatStatusColor:function(e){return 1===e||10===e||11===e||12===e?"#999999":2===e?"#12B886":0===e?"#3F80F7":"#FF0000"},goLink:function(){var e=this.$f.formatExplorerUrl(this.item.chain,this.item.executed_tx_hash,"tx");e&&this.item.executed_tx_hash&&this.$f.openBrowser(e)}}},Pt=(o("f7ee"),o("6b0d")),Dt=o.n(Pt);const Lt=Dt()(It,[["render",xt],["__scopeId","data-v-b98c9484"]]);var Ft=Lt,Ut=function(e){return Object(i["pushScopeId"])("data-v-2eac6f28"),e=e(),Object(i["popScopeId"])(),e},Rt={class:"select-box"},Mt=["disabled"],Gt={key:0,class:"token-container"},zt={key:1},Wt=Ut((function(){return Object(i["createElementVNode"])("i",{class:"iconfont icon-collapse-down"},null,-1)})),qt={class:"rules-content"},Qt={class:"search-bar",action:"/"},Ht={key:0,class:"pop-title"},Kt={style:{background:"#fff"}},Yt=["onClick"],Jt={class:"main"},Xt={key:0,class:"risk-status high"},Zt={key:0,class:"minor"},eo=Ut((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),to={class:"right-label"},oo=Ut((function(){return Object(i["createElementVNode"])("br",null,null,-1)})),io={key:0,class:"minor"};function no(e,t,n,a,l,s){var r=Object(i["resolveComponent"])("van-image"),c=Object(i["resolveComponent"])("van-search"),u=Object(i["resolveComponent"])("van-empty"),d=Object(i["resolveComponent"])("van-icon"),m=Object(i["resolveComponent"])("DynamicScrollerItem"),p=Object(i["resolveComponent"])("DynamicScroller"),b=Object(i["resolveComponent"])("van-action-sheet");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Rt,[Object(i["createElementVNode"])("button",{class:"select-container",disabled:n.disabled,type:"button",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return l.show=!0}),["stop"]))},[n.token.address||n.token.token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Gt,[(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:n.token.logo_url||0,round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:n.token.logo_url?e.$f.formatIcon({logo_url:n.token.logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"])),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.replaceSymbol?n.replaceSymbol.replace("{s}",n.token.symbol||""):n.token.symbol||""),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",zt,Object(i["toDisplayString"])(e.$t("pleaseSelectToken")),1)),Wt],8,Mt),Object(i["createVNode"])(b,{show:l.show,"onUpdate:show":t[2]||(t[2]=function(e){return l.show=e}),title:e.$t("selectToken"),style:{height:"80vh","--van-popup-background-color":"#fff"},"lazy-render":!1},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",qt,[Object(i["createElementVNode"])("form",Qt,[Object(i["createVNode"])(c,{modelValue:l.keyword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.keyword=e}),modelModifiers:{trim:!0},background:"#fff",shape:"round",placeholder:e.$t("searchContractORName"),onSearch:s.onSearch,onCancel:s.onCancel},null,8,["modelValue","placeholder","onSearch","onCancel"])]),""!==l.keyword||n.isBalance?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ht,Object(i["toDisplayString"])(e.$t("popularTokens")),1)),Object(i["createElementVNode"])("ul",Kt,[Object(i["withDirectives"])(Object(i["createVNode"])(u,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[i["vShow"],l.searchTokens&&0===l.searchTokens.length&&!l.loading]]),Object(i["createVNode"])(p,{items:l.searchTokens,"min-item-size":30,"key-field":"address",class:"tokens"},{default:Object(i["withCtx"])((function(t){var a=t.item,c=t.index,u=t.active;return[Object(i["createVNode"])(m,{item:a,active:u,"data-index":c},{default:Object(i["withCtx"])((function(){var t;return[Object(i["createElementVNode"])("li",{class:"token-item",onClick:Object(i["withModifiers"])((function(e){return s.handleSelectToken(a)}),["stop"])},[Object(i["createVNode"])(r,{class:"icon-token",round:"",width:"0.6rem",height:"0.6rem","icon-size":"0.6rem","lazy-load":"","show-loading":"",src:a.logo_url?e.$f.formatIcon({logo_url:a.logo_url}):l.errorIcon,"error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",Jt,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.symbol),1),(a.risk_score>55||a.risk_level<0)&&1!==a.risk_level?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Xt,Object(i["toDisplayString"])(e.$t("highRisk")),1)):Object(i["createCommentVNode"])("",!0)]),(null!==a&&void 0!==a&&null!==(t=a.tags)&&void 0!==t&&t.includes("tokens")||null===a||void 0===a||!a.tags)&&a.address!==l.nativeToken?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Zt,Object(i["toDisplayString"])(a.address.slice(0,6)+"..."+a.address.slice(-6)),1)):Object(i["createCommentVNode"])("",!0)]),eo,Object(i["createElementVNode"])("div",to,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.value?e.$f.formatNumber2(a.value):""),1),oo,void 0!==a.price?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",io,"$"+Object(i["toDisplayString"])(a.value?e.$f.formatNumber2(a.value*a.price):""),1)):Object(i["createCommentVNode"])("",!0)]),a.address===(n.token.address||n.token.token)?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:0,size:"0.32rem",color:"#558BED",name:"success"})):(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:1,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,Yt)]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])])])]})),_:1},8,["show","title"])])}o("841c");var ao=o("365c"),lo=o("c9d9"),so=o("aeccf"),ro=null,co={name:"SwapSelectToken",props:{tokens:Array,token:{type:Object,default:function(){return{address:"",chain:"",symbol:"",isbaseToken:!1}}},chain:String,hasNative:{type:Boolean,default:!0},isBalance:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},replaceSymbol:{type:String,default:""}},emits:["update:token"],data:function(){return{errorIcon:so,show:!1,keyword:"",searchTokens:this.tokens||[],loading:!1,nativeToken:lo["k"]}},computed:{searchResultTokens:function(){var e,t=this;return(null===(e=this.searchTokens)||void 0===e?void 0:e.length)>0?this.searchTokens:this.tokens.filter((function(e){return t.hasNative||e.address!==lo["k"]}))}},watch:{keyword:function(e){""!==e?this.tokenSearch():this.searchTokens=this.tokens},show:function(e){var t,o,i;e&&(this.searchTokens=this.tokens,this.keyword=""),console.log("isRefreshEnable",e),null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)}},methods:{onSearch:function(e){console.log(e),ro&&(clearTimeout(ro),ro=null),this.search()},onCancel:function(){this.keyword="",this.show=!1},handleSelectToken:function(e){var t=this;if(null!==e&&void 0!==e&&e.address||null!==e&&void 0!==e&&e.token){var o=Object(rt["a"])(Object(rt["a"])({},e),{},{address:e.address||e.token,isbaseToken:this.token.isbaseToken});this.$emit("update:token",o),Object.keys(o).forEach((function(e){t.token[e]=o[e]})),this.show=!1}},tokenSearch:function(){var e=this;ro&&(clearTimeout(ro),ro=null),ro=setTimeout((function(){e.search()}),800)},search:function(){var e=this;if(""!==this.keyword){var t=new RegExp(this.keyword,"i"),o=this.tokens.filter((function(o){return(t.test(o.address)||t.test(o.symbol)||t.test(o.name))&&(e.hasNative||o.address!==lo["k"])}));this.loading=!0;var i=this.keyword;Object(ao["qb"])(this.keyword,this.chain).then((function(t){var n,a,l;if(i===e.keyword){var s=null===(n=t.filter)||void 0===n||null===(a=n.call(t,(function(t){return t.chain===e.chain&&!o.some((function(e){return e.token===t.token}))})))||void 0===a||null===(l=a.map)||void 0===l?void 0:l.call(a,(function(e){return Object(rt["a"])(Object(rt["a"])({},e),{},{address:e.token,decimals:e.decimals||e.decimal})}));e.searchTokens=[].concat(Object(ct["a"])(o),Object(ct["a"])(s))}})).catch((function(t){console.log(t),e.searchTokens=[]})).finally((function(){e.loading=!1}))}else this.searchTokens=this.tokens.filter((function(t){return e.hasNative||t.address!==lo["k"]}))}}};o("fae6");const uo=Dt()(co,[["render",no],["__scopeId","data-v-2eac6f28"]]);var mo=uo,po=o("a2ef"),bo=o("ce94"),fo=o("cf1a"),ho=o("449c"),vo=o("497e"),go=o("fadf"),ko=function(e){return Object(i["pushScopeId"])("data-v-f897fa40"),e=e(),Object(i["popScopeId"])(),e},Oo={class:"select-box"},jo={class:"flex items-center"},wo={style:{background:"#fff",padding:"0.2rem 0.3rem 1rem 0.3rem","--van-cell-background-color":"transparent"}},yo={class:"setting-title"},So={class:"card-container"},To={class:"font-500"},_o={class:"color-999 ml-5"},No=ko((function(){return Object(i["createElementVNode"])("div",{class:"setting-title"},"Gas Price(GWEI)",-1)})),Vo={class:"slippage-setting"},$o=["onClick"],Eo={class:"color-999"},xo={class:"mt-5 font-500"};function Bo(e,t,o,n,a,l){var s=Object(i["resolveComponent"])("van-field"),r=Object(i["resolveComponent"])("van-button"),c=Object(i["resolveComponent"])("van-action-sheet");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Oo,[Object(i["createElementVNode"])("div",jo,[Object(i["createElementVNode"])("i",{class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return a.show=!0}),["stop"]))})]),Object(i["createVNode"])(c,{show:a.show,"onUpdate:show":t[2]||(t[2]=function(e){return a.show=e}),title:e.$t("gasSetting"),style:{"--van-popup-background-color":"#fff","min-height":"40%"}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",wo,[Object(i["createElementVNode"])("div",yo,Object(i["toDisplayString"])(e.$t("gasFee"))+"(BNB)",1),Object(i["createElementVNode"])("div",So,[Object(i["createElementVNode"])("span",To,Object(i["toDisplayString"])(l.estimatedB),1),Object(i["createElementVNode"])("span",_o,"≈"+Object(i["toDisplayString"])(l.estimatedU),1)]),No,Object(i["createElementVNode"])("div",Vo,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.gasPriceList,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:t,type:"button",class:Object(i["normalizeClass"])({active:a.gasPriceValue===e.value}),onClick:function(t){return a.gasPriceValue=e.value}},[Object(i["createElementVNode"])("span",Eo,Object(i["toDisplayString"])(e.name),1),Object(i["createElementVNode"])("span",xo,Object(i["toDisplayString"])(e.value),1)],10,$o)})),128)),Object(i["createVNode"])(s,{class:"input",type:"number",min:l.standardGasPriceD,placeholder:e.$t("custom"),modelValue:a.gasPriceValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.gasPriceValue=e}),onBlur:l.handleBlur,clearable:""},null,8,["min","placeholder","modelValue","onBlur"])]),Object(i["createVNode"])(r,{block:"",type:"primary","native-type":"button",color:"#3F80F7",class:"submit-btn",style:Object(i["normalizeStyle"])({marginTop:"1.5rem"}),onClick:Object(i["withModifiers"])(l.submitSwapGasSet,["stop"])},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["style","onClick"])])]})),_:1},8,["show","title"])])}var Co=o("901e"),Ao=o.n(Co),Io=o("2c28"),Po={name:"SwapGasSet",props:{standardGasPrice:{type:[Number,String],default:"3000000000"},gas:{type:[Number,String],default:lo["d"]},nativePrice:[Number,String]},emits:["updateGasPrice"],setup:function(){var e=Object(Io["useStorage"])("gasSetting",{},localStorage);return{gasSetting:e}},data:function(){var e=this.$store.getters.netId,t=this.standardGasPrice;if(e){var o,i=null===(o=this.gasSetting)||void 0===o?void 0:o[e];t=(null===i||void 0===i?void 0:i.customGasPrice)||("bsc"===e?lo["c"]:this.standardGasPrice)}return{show:!1,gasPriceValue:new Ao.a(t||this.standardGasPrice).div(Math.pow(10,9)).toFixed()}},computed:{standardGasPriceD:function(){return new Ao.a(this.standardGasPrice).div(Math.pow(10,9)).toFixed(0)},gasPriceList:function(){var e=new Ao.a(this.standardGasPrice).div(Math.pow(10,9)),t=new Ao.a(4).div(3),o=new Ao.a(6).div(3);return[{name:this.$t("standard"),value:e.toFixed(0)},{name:this.$t("fast1"),value:t.times(e).toFixed(0)},{name:this.$t("instant"),value:o.times(e).toFixed(0)}]},estimatedB:function(){var e=this.gas;return e?this.$f.formatNumber2(new Ao.a(e.toString()).times(this.gasPriceValue).div(String(Math.pow(10,9))).toFixed()||"0",2):"0"},estimatedU:function(){var e=this.gas;if(!e)return"0";var t=this.nativePrice;return this.$f.formatNumberCurrencyUnit(new Ao.a(e.toString()).times(t).times(this.gasPriceValue).div(String(Math.pow(10,9))).toFixed()||"0",2)}},watch:{show:function(e){if(e){var t=this.$store.getters.netId,o=this.standardGasPrice;if(t){var i,n=null===(i=this.gasSetting)||void 0===i?void 0:i[t];o=(null===n||void 0===n?void 0:n.customGasPrice)||("bsc"===t?lo["c"]:this.standardGasPrice)}this.gasPriceValue=new Ao.a(o).div(Math.pow(10,9)).toFixed()||this.standardGasPrice}}},methods:{handleBlur:function(){var e=new Ao.a(this.standardGasPrice).div(Math.pow(10,9));this.show&&e.gt(this.gasPriceValue)&&(this.gasPriceValue=e.toFixed(0))},submitSwapGasSet:function(){var e=new Ao.a(this.gasPriceValue||"0").times(Math.pow(10,9)).toFixed(0),t=this.$store.getters.netId;if(t){var o=this.gasSetting[t];this.gasSetting=Object(rt["a"])(Object(rt["a"])({},this.gasSetting),{},Object(lt["a"])({},t,Object(rt["a"])(Object(rt["a"])({},o),{},{customGasPrice:e}))),this.$emit("updateGasPrice",this.gasSetting)}this.show=!1}}};o("eb18");const Do=Dt()(Po,[["render",Bo],["__scopeId","data-v-f897fa40"]]);var Lo=Do,Fo=function(e){return Object(i["pushScopeId"])("data-v-225cd86e"),e=e(),Object(i["popScopeId"])(),e},Uo=Fo((function(){return Object(i["createElementVNode"])("i",{class:"select-token iconfont icon-collapse-down"},null,-1)}));function Ro(e,t,o,n,a,l){var s=Object(i["resolveComponent"])("van-action-sheet");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("button",{class:"select-container clickable",type:"button",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return a.dialogVisible=!0}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(l.expiredTimeName),1),Uo]),Object(i["createVNode"])(s,{show:a.dialogVisible,"onUpdate:show":t[1]||(t[1]=function(e){return a.dialogVisible=e}),title:e.$t("limitExpiredTime"),actions:l.actions,onSelect:l.onSelect,style:{"--van-popup-background-color":"#fff","--van-action-sheet-item-background":"#fff"},"cancel-text":e.$t("cancel")},null,8,["show","title","actions","onSelect","cancel-text"])])}var Mo={name:"SolanaLimitExpired",props:{expiredTime:Number},emits:["update:visible","update:expiredTime"],data:function(){return{dialogVisible:!1}},computed:{actions:function(){var e=this,t=[{name:this.$t("never"),value:null},{name:this.$t("10min"),value:600},{name:this.$t("1h"),value:3600},{name:this.$t("1d"),value:86400},{name:this.$t("3d"),value:259200},{name:this.$t("7d"),value:604800}];return t.map((function(t){return t.value===e.expiredTime?Object(rt["a"])(Object(rt["a"])({},t),{},{color:"#3F80F7 "}):t}))},expiredTimeName:function(){var e,t=this;return null===(e=this.actions.find((function(e){return e.value===t.expiredTime})))||void 0===e?void 0:e.name}},methods:{onSelect:function(e){this.$emit("update:expiredTime",e.value),this.dialogVisible=!1}}};o("1675");const Go=Dt()(Mo,[["render",Ro],["__scopeId","data-v-225cd86e"]]);var zo=Go,Wo=o("3edc"),qo=o("940b"),Qo=o("f465"),Ho=o("335a"),Ko=o("847c"),Yo=o("8e2e"),Jo=o("ddd2"),Xo=o("ddc3"),Zo=null,ei=null,ti=null,oi=null,ii=null,ni=null,ai=null,li=null;Wo["a"].props.components.default=function(){return{OpenIndicator:{render:function(){return Object(i["h"])("span",{innerHTML:'<svg height="8" viewBox="0 0 14 8" width="14" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="matrix(0 1 -1 0 16 -5)"><path d="m0 0h18v18h-18z"/><path d="m12.8008158 9.14463395c-.0305856.13208319-.0973435.25748808-.2002738.36041835l-6.0104076 6.0104076c-.29289322.2928933-.76776696.2928933-1.06066017 0-.29289322-.2928932-.29289322-.7677669 0-1.0606601l5.48233267-5.48233272-5.48147681-5.48147682c-.29289322-.29289322-.29289322-.76776696 0-1.06066017.29289321-.29289322.76776695-.29289322 1.06066017 0l6.01040764 6.01040764c.1909127.19091266.2573853.45914247.1994179.70389622z" fill="#999"/></g></svg>'})}}}};var si="2",ri=["limit","limit","swap","noGas"],ci={name:"Swap",components:{PercentStep:dt["a"],TxItem:mt["a"],SwapSelectToken:mo,ConfirmSwap:po["a"],PriceChart:fo["a"],SlippageButton:ho["a"],ConfirmLimit:bo["a"],LimitTxItem:pt["a"],vSelect:Wo["a"],RebateImg:vo["a"],SwapModeSet:go["a"],NoGasTxItem:Ft,SwapGasSet:Lo,SolanaLimitExpired:zo},setup:function(){var e,t,o=Object(Io["useStorage"])("solanaTxs",[]),i=Object(Yo["a"])("solanaTxs1",o.value.slice()),n=Object(Yo["a"])("ERC314SwapTxs",[]);return i.value=null===(e=i.value)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(function(e){return 1===(null===e||void 0===e?void 0:e.is_merged)||1!==e.is_merged&&1e3*(null===e||void 0===e?void 0:e.time)<=Date.now()-864e5})),{solanaTxs:i,ERC314SwapTxs:n}},data:function(){var e,t,o,i,n,a,l,s,r,c,u,d,m=null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o?void 0:o.call(t,"-"),p=Object(ut["a"])(m,2),b=p[0],f=p[1],h=!localStorage.autoSlippage||JSON.parse(localStorage.autoSlippage),v=localStorage.swapSlippage||"auto",g=this.$route.params.type?Number(this.$route.params.type):2;return 3!==g||null!==(i=window)&&void 0!==i&&null!==(n=i._tw_)&&void 0!==n&&n.appExchangeNoGas&&"bsc"===f||(g=2),{LimitExpiredDays:lo["f"],nativeToken:lo["k"],height:100,swapTokenInfo:{},tokens:[],token1:{address:b||"",chain:f||"",balance:0,symbol:""},token2:{address:"",chain:"",balance:0,symbol:""},fromAmount:"",toAmount:"",baseToken:{token:{symbol:""},pairs:[]},baseTokenExtra:{},selected:g,dataX:[],dataY:[],swapQuoteInfo:{},isPairShowMore:!1,quoteLoading:!1,allowance:0,loadingApprove:!1,loadingSwap:!1,dialogVisibleSwap:!1,swapSubmitInfo:{},swapInfo:{fromToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},toToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},isAmountOut:!1},loadingConfirmSwap:!1,tokensPrice:{},swapRouterPath:[],nativePrice:0,initTxs:[],txsLoading:!1,isCurrentToken:!0,userBalanceTokens:[],isAndroid:!(null===(a=window)||void 0===a||null===(l=a._tw_)||void 0===l||!l.appGetPlatform),gasPrice:"0",spender:"",isTaxHigh:!1,isCannotSellAll:!1,baseTokenPrice:0,isTax:!1,txsTokens:sessionStorage.txsTokens?JSON.parse(sessionStorage.txsTokens||[]):[],isAmount:!0,swapPathList:[],listRouter:[],dialogListRouterVisible:!1,selectedRouterIndex:0,openLp:null===(s=window)||void 0===s||null===(r=s._tw_)||void 0===r?void 0:r.openLp,tx:{},userTokenList:[],activeTab:Number(this.$route.query.dir)||0,limitFromToken:{address:"",chain:"",balance:0,symbol:"",price:0},limitFromAmount:"",limitToToken:{address:b||"",chain:f||"",balance:0,symbol:"",price:0},limitToAmount:"",limitPrice:"",loadingLimit:!1,dialogVisibleLimit:!1,loadingConfirmLimit:!1,limitInfo:{fromToken:{address:"",chain:"",balance:0,symbol:"",price:0},toToken:{address:b||"",chain:f||"",balance:0,symbol:"",price:0},fromAmount:"",toAmount:"",targetToken:"",targetLimitPrice:""},limitAllowance:0,loadingLimitApprove:!1,quoteLimitLoading:!1,tabActive1:null!==(c=ri[g])&&void 0!==c?c:"limit",limitOrders:[],limitMinReturn:0,loadingGetLimitOrder:!1,limitToken1:{address:b||"",chain:f||"",balance:0,symbol:"",price:0},limitAmount1:"",limitToken2:{address:"",chain:"",balance:0,symbol:"",price:0},limitAmount2:"",rateType:!0,autoSlippage:h,slippageInfo:{slippage:si,autoSlippage:!0},limitQuoteLoading:!1,limitSlippage:localStorage.limitSlippage||"5",loadingAllowance:!1,loadingLimitAllowance:!1,triggerPrice:"",limitGasU:"0",autoSwapMode:"fast",customSwapMode:localStorage.swapMode||"auto",autoSlippageValue:si,customSlippage:v,hasMEVBot:!1,isHotToken:!1,noGasSlippage:localStorage.noGasSlippage||"5",noGasTxList:[],loadingGetNoGasList:!1,isHasUnTx:!1,isSupportNoGas:null===(u=window)||void 0===u||null===(d=u._tw_)||void 0===d?void 0:d.appExchangeNoGas,gasBalance:0,isNoGas:!1,gasPriceKey:0,gasSetting:Ho["a"].get("gasSetting",{}),solanaQuoteResponse:{},solanaSwapTokenPrice:[0,0],quoteSolanaPreParams:{},solanaSwapBaseTokenPrice:0,solanaSlippage:localStorage.solanaSlippage||"9",loadingUnwrap:!1,solanaPriceChg:{solanaAutoSlippage:new Ao.a(9),k0_price_chg:new Ao.a(0),k1_price_chg:new Ao.a(0)},getKlineTime:0,priceImpactSolana:0,limitSolanaPrice:0,solanaLimitExpiredTime:null,limitSolanaError:"",getSolanaLimitOrderTime:0,limitSolanaPriceU:0,isERC314:!1,isPump:!1}},computed:{swapMode:function(){return"auto"===this.customSwapMode?this.autoSwapMode:this.customSwapMode},slippage:function(){return"auto"===this.customSlippage?this.autoSlippageValue:this.customSlippage},typeTabs:function(){return[{name:this.$t("buy"),type:0},{name:this.$t("sell"),type:1}]},types:function(){var e,t,o,i,n,a;if(this.isERC314||this.isPump)return[{name:this.$t("swapT"),value:2}];var l=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"",s="solana"===l?[]:[{name:this.$t("stopLimit"),value:1}];return[].concat(Object(ct["a"])(null!==(n=window)&&void 0!==n&&null!==(a=n._tw_)&&void 0!==a&&a.appExchangeNoGas&&"eth"!==this.$store.getters.netId&&this.isNoGas?[{name:this.$t("noGasSwapT"),value:3}]:[{name:this.$t("swapT"),value:2}]),[{name:this.$t("limitT"),value:0}],s)},typeName:function(){var e,t,o,i=this;return null===(e=this.types)||void 0===e||null===(t=e.find)||void 0===t||null===(o=t.call(e,(function(e){return e.value===i.selected})))||void 0===o?void 0:o.name},netId:function(){return this.$store.getters.netId||""},chain:function(){var e,t,o,i,n,a,l,s,r,c=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"";return"evm"!==localStorage.okxwallet_chain&&(window.solana||null!==(n=window)&&void 0!==n&&null!==(a=n.trustwallet)&&void 0!==a&&a.solana&&(null===(l=window.ethereum)||void 0===l||null===(s=l.address)||void 0===s||null===(r=s.startsWith)||void 0===r||!r.call(s,"0x"))&&window.ethereum.address)&&(c="solana"),c},tokenInfo:function(){var e,t,o,i;if("Swap"!==this.$route.name)return{id:"",token:"",chain:""};var n=null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o?void 0:o.call(t,"-"),a=Object(ut["a"])(n,2),l=a[0],s=a[1];return{id:null===(i=this.$route.params)||void 0===i?void 0:i.id,token:l,chain:s}},tabs:function(){return[{name:this.$t("buy"),value:"buy"},{name:this.$t("sell"),value:"sell"}]},isApprove:function(){var e;if("solana"===this.chain)return!0;if(this.isERC314)return!0;if((null===(e=this.fromToken)||void 0===e?void 0:e.address)===lo["k"])return!0;if(!this.allowance)return!1;var t=this.fromToken.decimals||0;return Bt["utils"].parseUnits(new Ao.a(this.fromAmount||0).toFixed(t),t).lte(this.allowance)},isLimitApprove:function(){if("solana"===this.chain)return!0;if(!this.limitAllowance)return!1;var e=0===this.activeTab?this.limitToken2:this.limitToken1,t=e.decimals||0,o=0===this.activeTab?this.limitAmount2:this.limitAmount1;return Bt["utils"].parseUnits(new Ao.a(o||0).toFixed(t),t).lte(this.limitAllowance)},minReceived:function(){var e,t=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.routerPath)||{},o=t[t.length-1];return new Ao.a(null===o||void 0===o?void 0:o.amount).times(100-Number(this.slippage)).div(Math.pow(10,((null===o||void 0===o?void 0:o.decimals)||0)+2)).toFixed((null===o||void 0===o?void 0:o.decimals)||0)},maxSold:function(){var e,t=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.routerPath)||{},o=t[0];return new Ao.a(null===o||void 0===o?void 0:o.amount).times(1+Number(this.slippage)/100).div(Math.pow(10,(null===o||void 0===o?void 0:o.decimals)||0)).toFixed((null===o||void 0===o?void 0:o.decimals)||0)},txs:function(){var e,t,o=this,i=this.ERC314SwapTxs.filter((function(e){var t;return!(null!==(t=o.initTxs)&&void 0!==t&&t.some((function(t){return t.id===e.id})))&&e.chain===o.$store.getters.netId&&e.wallet_address===o.$store.state.currentAccount})),n=[].concat(Object(ct["a"])(i),Object(ct["a"])(this.initTxs)).sort((function(e,t){return Number(t.time)-Number(e.time)})),a="solana"===this.chain?null===(e=this.solanaTxs)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(function(e){return e.wallet_address===o.$store.state.currentAccount||!e.wallet_address})):n;if(this.isCurrentToken){var l,s,r,c,u,d,m,p,b=null===(l=this.$route.params)||void 0===l||null===(s=l.id)||void 0===s||null===(r=s.split)||void 0===r||null===(c=r.call(s,"-"))||void 0===c?void 0:c[0],f=null===(u=this.$route.params)||void 0===u||null===(d=u.id)||void 0===d||null===(m=d.split)||void 0===m||null===(p=m.call(d,"-"))||void 0===p?void 0:p[1],h=Ho["a"].get("chainConfig",lo["l"])||{},v=null===h||void 0===h?void 0:h[f],g=null===v||void 0===v?void 0:v.wmainWrapper;return b=b===lo["k"]?g:b,null===a||void 0===a?void 0:a.filter((function(e){return e.from_address===b||e.to_address===b||(b===lo["k"]||b===g)&&(e.from_address===lo["k"]||e.from_address===g||e.to_address===lo["k"]||e.to_address===g)}))}return a},filterLimitOrders:function(){if(this.isCurrentToken){var e,t=this.limitToken1.address;if("solana"===this.chain){var o,i=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"];return null===(o=this.limitOrders)||void 0===o?void 0:o.filter((function(e){var o=i.indexOf(e.from_token),n=i.indexOf(e.to_token);return o<=n?e.from_token===t:e.to_token===t}))}return null===(e=this.limitOrders)||void 0===e?void 0:e.filter((function(e){return e.target_token===t}))}return this.limitOrders},filterNoGasTxList:function(){if(this.isCurrentToken){var e,t=this.limitToken1.address;return null===(e=this.noGasTxList)||void 0===e?void 0:e.filter((function(e){return e.from_token===t||e.to_token===t}))}return this.noGasTxList},taxStr:function(){var e,t,o,i,n,a,l,s=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.totalTax)||((null===(t=this.swapQuoteInfo)||void 0===t?void 0:t.total_sell_tax)||0)+((null===(o=this.swapQuoteInfo)||void 0===o?void 0:o.total_buy_tax)||0);return s>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(s,1),"%)"):0===this.activeTab&&(null===(i=this.baseTokenExtra)||void 0===i?void 0:i.buy_tax)>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(null===(a=this.baseTokenExtra)||void 0===a?void 0:a.buy_tax,1),"%)"):1===this.activeTab&&(null===(n=this.baseTokenExtra)||void 0===n?void 0:n.sell_tax)>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(null===(l=this.baseTokenExtra)||void 0===l?void 0:l.sell_tax,1),"%)"):""},priceImpactV:function(){var e,t,o,i,n,a,l,s,r;if(!Number(this.fromAmount)&&!Number(this.toAmount))return"";if(this.isERC314)return"";var c,u,d=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"";if("evm"!==localStorage.okxwallet_chain&&(window.solana||null!==(n=window)&&void 0!==n&&null!==(a=n.trustwallet)&&void 0!==a&&a.solana&&(null===(l=window.ethereum)||void 0===l||null===(s=l.address)||void 0===s||null===(r=s.startsWith)||void 0===r||!r.call(s,"0x"))&&window.ethereum.address)&&(d="solana"),"solana"===d)return 1===Number(null===(c=this.solanaQuoteResponse)||void 0===c?void 0:c.priceImpactPct)?new Ao.a(this.priceImpactSolana||0):new Ao.a((null===(u=this.solanaQuoteResponse)||void 0===u?void 0:u.priceImpactPct)||this.priceImpactSolana||0);var m=this.swapQuoteInfo.routerPath,p=(null===m||void 0===m?void 0:m.length)>0?null===m||void 0===m?void 0:m[0]:null,b=(null===m||void 0===m?void 0:m.length)>0?null===m||void 0===m?void 0:m[m.length-1]:null;if(p&&b){var f=this.swapQuoteInfo.from_price,h=this.swapQuoteInfo.to_price,v=Bt["utils"].formatUnits(p.amount,p.decimals),g=Bt["utils"].formatUnits(b.amount,b.decimals);return new Ao.a(v).times(f).div(new Ao.a(g).times(h)).minus(1).abs()}return""},priceImpact:function(){return this.priceImpactV?this.$f.formatNumber2(this.priceImpactV.times(100).toFixed(),2)+"%":""},swapButtonColor:function(){var e,t,o,i;return this.$store.state.currentAccount?null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#999":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},limitButtonColor:function(){return this.$store.state.currentAccount?0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},priceImpactColor:function(){var e,t,o,i,n,a;return null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#F81111":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":null!==(n=this.priceImpactV)&&void 0!==n&&null!==(a=n.gt)&&void 0!==a&&a.call(n,.05)?"#f8be46":""},swapTokens:function(){var e,t=Object(ct["a"])(null===(e=this.userBalanceTokens.slice())||void 0===e?void 0:e.filter((function(e){return!e.isWrapped})));return this.tokens.slice().forEach((function(e){var o=t.find((function(t){return t.id===e.id}));o?o.logo_url=e.logo_url:t.push(e)})),t.length>0?t:this.tokens.slice()},isShow:function(){var e,t,o,i,n,a,l,s,r=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"",c=Ho["a"].get("chainConfig",lo["l"])||{};return!(!c||!r)&&(null!==(n=null===(a=c[r])||void 0===a||null===(l=a.swaps)||void 0===l||null===(s=l.some)||void 0===s?void 0:s.call(l,(function(e){return e.router_address})))&&void 0!==n&&n)},fromToken:function(){return 1===this.activeTab?this.token1:this.token2},toToken:function(){return 1===this.activeTab?this.token2:this.token1},disabled1:function(){var e,t;if(!Number(this.limitPrice))return!0;var o=null===(e=this.baseToken)||void 0===e||null===(t=e.token)||void 0===t?void 0:t.current_price_usd;return 1===this.activeTab&&this.limitPrice<o},disabled2:function(){var e,t;if(!Number(this.limitPrice))return!0;var o=null===(e=this.baseToken)||void 0===e||null===(t=e.token)||void 0===t?void 0:t.current_price_usd;return 0===this.activeTab&&this.limitPrice>o},estimatedFee:function(){var e,t,o=null!==(e=this.swapInfo.gasValue)&&void 0!==e?e:lo["d"];if(!o)return"0";var i=this.$store.getters.netId,n=i?Object(rt["a"])({},(null===(t=this.gasSetting)||void 0===t?void 0:t[i])||{}):{},a=(null===n||void 0===n?void 0:n.customGasPrice)||lo["c"],l="bsc"===i?a:this.gasPrice,s=this.nativePrice;return this.$f.formatNumberCurrencyUnit(new Ao.a(o.toString()).times(s).times(l).div(String(Math.pow(10,18))).toFixed()||"0",2)},customGasPrice:function(){var e,t,o=this.$store.getters.netId,i=(null===(e=this.gasSetting)||void 0===e||null===(t=e[o])||void 0===t?void 0:t.customGasPrice)||lo["c"],n="bsc"===o?i:this.gasPrice;return n},wSOLAccount:function(){var e;if(!this.$store.state.currentAccount||"solana"!==this.chain)return null;var t=null===(e=this.userBalanceTokens)||void 0===e?void 0:e.find((function(e){return e.isWrapped}));return t},wSOLBalance:function(){var e,t;if(!this.$store.state.currentAccount||"solana"!==this.chain)return"0";var o=null===(e=this.userBalanceTokens)||void 0===e||null===(t=e.find((function(e){return e.isWrapped})))||void 0===t?void 0:t.balance;return console.log("balance",o),o||"0"},isPumpCanSwap:function(){return!(this.isPump&&"So11111111111111111111111111111111111111112"!==this.token2.address&&"solana"===this.token2.chain)}},watch:{"$route.params.id":function(e){e&&"Swap"===this.$route.name&&(this.autoSlippageValue=si,this.isTaxHigh=!1,this.isCannotSellAll=!1,this.baseTokenExtra={},this.baseTokenPrice=0,this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.selectedRouterIndex=0,this.getBaseToken(),this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getTokenDetails(),2===this.selected?this.supportChain():0!==this.selected&&1!==this.selected&&3!==this.selected||this.supportChainLimit(),this.getLimitAllowance())},"$store.state.currentAccount":function(e){e&&"Swap"===this.$route.name&&(this.autoSlippageValue=si,this.isTaxHigh=!1,this.isCannotSellAll=!1,this.selectedRouterIndex=0,this.getUserAllTxs(),this.getUserTokenList(),this.getSwapTokenList(),this.getAllowance(),this.getTokenDetails(),this.getLimitAllowance())},isPairShowMore:function(){this.getLeftHeight()},"$store.state.ws.tx":function(e){var t=this;this.tx=e,oi||(oi=setTimeout((function(){var e,o=t.tx,i=t.baseToken.token.chain||"",n=Ho["a"].get("chainConfig",lo["l"])||{},a=null===n||void 0===n?void 0:n[i],l=null===a||void 0===a?void 0:a.wmainWrapper,s=null===(e=t.baseToken)||void 0===e?void 0:e.token.token;s===lo["k"]&&i&&l&&(s=l);var r=t.baseToken.token.price_change,c=100*Number(t.baseToken.token.current_price_usd)/(100+Number(r));o.from_address===s?(t.baseToken.token.current_price_usd=o.from_price_usd,t.baseToken.token.price_change=100*(o.from_price_usd-c)/c):o.to_address===s&&(t.baseToken.token.current_price_usd=o.to_price_usd,t.baseToken.token.price_change=100*(o.to_price_usd-c)/c),o.from_address===t.limitToken1.address?t.limitToken1.price=o.from_price_usd:o.to_address===t.limitToken1.address&&(t.limitToken1.price=o.to_price_usd),o.to_address===t.limitToken2.address?t.limitToken2.price=o.to_price_usd:o.from_address===t.limitToken2.address&&(t.limitToken2.price=o.from_price_usd),t.updateKline(o);var u=t.baseToken.pairs.findIndex((function(e){return e.pair===o.pair_address}));if(u>-1){var d=t.baseToken.pairs[u];o.from_address===d.token0_address?(o.from_reserve&&(t.baseToken.pairs[u].reserve0=o.from_reserve,t.baseToken.pairs[u].token0_price_usd=o.from_price_usd),o.to_reserve&&(t.baseToken.pairs[u].reserve1=o.to_reserve,t.baseToken.pairs[u].token1_price_usd=o.to_price_usd)):(o.to_reserve&&(t.baseToken.pairs[u].reserve0=o.to_reserve,t.baseToken.pairs[u].token0_price_usd=o.to_price_usd),o.from_reserve&&(t.baseToken.pairs[u].reserve1=o.from_reserve,t.baseToken.pairs[u].token1_price_usd=o.from_price_usd))}oi=null}),1e3))},types:function(e){var t,o=this,i=(e||[]).some((function(e){return e.value===o.selected}));i||(this.selected=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.value)||2)},selected:function(e){var t,o,i;(this.$router.replace({name:"Swap",params:Object(rt["a"])(Object(rt["a"])({},this.$route.params),{},{type:e})}),2===this.selected)?(null===(t=this.$refs)||void 0===t||null===(o=t.percentStep)||void 0===o||null===(i=o.handleClick)||void 0===i||i.call(o,0),this.fromAmount="",this.toAmount="",this.getAllowance(),this.tabActive1="swap"):0===this.selected||1===this.selected?(this.supportChainLimit(),this.getLimitAllowance(),"solana"!==this.chain?(this.limitPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.triggerPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):""):this.limitSolanaPriceU=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.tabActive1="limit",this.quoteLimitSolana()):3===this.selected&&(this.supportChainLimit(),this.getLimitAllowance(),this.tabActive1="noGas")},tabActive1:function(e){"swap"===e?this.getUserAllTxs():"limit"===e?this.getLimitOrder():"noGas"===e&&this.getNoGasList()}},mounted:function(){var e,t,o,i,n,a,l,s=this;if(this.getFeeInfo(),"evm"!==localStorage.okxwallet_chain&&(null!==(e=window)&&void 0!==e&&e.solana||null!==(t=window)&&void 0!==t&&null!==(o=t.trustwallet)&&void 0!==o&&o.solana&&(null===(i=window.ethereum)||void 0===i||null===(n=i.address)||void 0===n||null===(a=n.startsWith)||void 0===a||!a.call(n,"0x"))&&window.ethereum.address))Object(Ko["c"])().then((function(e){s.initActivated()}));else if(null!==(l=window)&&void 0!==l&&l.tronLink)Object(qo["a"])().then((function(e){console.log("connectTron",e),s.initActivated()}));else try{window.ethereum?Object(Jo["a"])().then((function(e){s.initActivated()})):this.initActivated()}catch(r){console.log(r)}},activated:function(){},methods:{init:function(){this.getBaseToken(),this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getSwapTokenList(),2===this.selected?this.supportChain():0!==this.selected&&1!==this.selected&&3!==this.selected||this.supportChainLimit(),this.getLimitAllowance(),this.getLimitOrder(),this.getNoGasList()},initActivated:function(){var e,t,o,i,n,a,l,s,r,c,u;this.$f.setSwapSendType(""),this.handleWalletAddress(!1),this.selected=this.$route.params.type?Number(this.$route.params.type):2,3!==this.selected||null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appExchangeNoGas&&"eth"!==this.$store.getters.netId||(this.selected=2),this.tabActive1=null!==(o=ri[this.selected])&&void 0!==o?o:"swap";var d=sessionStorage.swap_token1?JSON.parse(sessionStorage.swap_token1):"",m=null===(i=this.$route.params)||void 0===i||null===(n=i.id)||void 0===n||null===(a=n.split)||void 0===a||null===(l=a.call(n,"-"))||void 0===l?void 0:l[0],p=this.$store.getters.netId||(null===(s=this.$route.params)||void 0===s||null===(r=s.id)||void 0===r||null===(c=r.split)||void 0===c||null===(u=c.call(r,"-"))||void 0===u?void 0:u[1])||"";m&&(m!==this.token1.address||d&&d.address!==m)?(this.token1={address:m||"",chain:p||"",balance:0,symbol:""},this.limitToken1=Object(rt["a"])({},this.token1)):m||!d||p!==d.chain||this.token1.address||(this.limitToken1=Object(rt["a"])({},this.swap_token1));var b=sessionStorage.swap_token2?JSON.parse(sessionStorage.swap_token2):"";b&&p===b.chain&&!this.token2.address&&(this.token2=Object(rt["a"])({},b),this.limitToken2=Object(rt["a"])({},b)),this.getBaseToken(),this.getUserTokenList(),this.getAllowance(),this.getSwapTokenList(),2===this.selected?this.supportChain():0!==this.selected&&1!==this.selected&&3!==this.selected||this.supportChainLimit(),"swap"===this.tabActive1?this.getUserAllTxs():"limit"===this.tabActive1?this.getLimitOrder():"noGas"===this.tabActive1&&this.getNoGasList(),this.getLimitAllowance(),this.getNativeTokenPrice(),this.getGasPrice()},formatUnits:Bt["utils"].formatUnits,formatPrice:function(e){return this.$f.formatNumber(e&&""!==e&&this.$store.state.tokensPrice[e]||0)},getPrice:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new Ao.a(t).times(100-o).div(100*e).toFixed(7))||"0"},getFeeInfo:function(){var e=this;Object(ao["A"])().then((function(t){var o=e.$store.getters.netId;e.$store.state.feeInfo=e.$f.formatFee(t,o)}))},watchFromAmount:function(){if(!this.quoteLoading||this.isAmount){var e=this.fromAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.toAmount)?(this.toAmount=0,this.quoteLoading=!1):t&&(this.isAmount=!0,this.toAmount="",this.getQuoteInfo())}},watchToAmount:function(){if(!this.quoteLoading||!this.isAmount){var e=this.toAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.fromAmount)?(this.fromAmount=0,this.quoteLoading=!1):t&&(this.fromAmount="",this.isAmount=!1,this.getQuoteInfo(!1))}},handleFromAmountMax:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.fromToken.balance||0;if(e){var o,i=this.fromToken.decimals||0;if((null===(o=this.fromToken)||void 0===o?void 0:o.address)===lo["k"]){var n=this.fromToken.chain,a=lo["j"][n]||.01;t=new Ao.a(t).minus(a).times(e).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(i,"})?")))[0]}else t=new Ao.a(t).times(e).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(i,"})?")))[0];0===Number(t)&&(t="")}this.fromAmount=t<0?0:t,this.watchFromAmount()},handlePercentChange:function(e,t){if(!t){var o=e/100,i=this.fromToken.balance||0;if(o){var n,a,l=this.fromToken.decimals||0;if((null===(n=this.fromToken)||void 0===n?void 0:n.address)===lo["k"]||"So11111111111111111111111111111111111111112"===(null===(a=this.fromToken)||void 0===a?void 0:a.address)){var s=this.fromToken.chain,r=lo["j"][s]||.01;if(new Ao.a(i).lt(r))return void this.$dialog.alert({title:this.$t("tips"),message:this.$t("balanceNotEnough",{n:r,s:this.fromToken.symbol}),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"});i=new Ao.a(i).minus(r).times(o).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0]}else i=new Ao.a(i).times(o).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0];0===Number(i)&&(i="")}else i="";this.fromAmount!==i&&(this.fromAmount=i<0?0:i,this.watchFromAmount())}},handleToAmountMax:function(){this.toAmount=this.toToken.balance||0,this.watchToAmount()},switchTab:function(e){this.activeTab=e,2===this.selected?(this.$refs.percentStep.handleClick(0),this.fromAmount="",this.toAmount="",this.getAllowance()):0!==this.selected&&1!==this.selected&&3!==this.selected||(this.$refs.percentStep1.handleClick(0),this.limitAmount1="",this.limitAmount2="",this.getLimitAllowance())},handlePercentChange1:function(e,t){if(!t){var o=e/100,i=0===this.activeTab?this.limitToken2:this.limitToken1,n=i.balance||0;if(o){var a=i.decimals||18;if((null===i||void 0===i?void 0:i.address)===lo["k"]||"So11111111111111111111111111111111111111112"===(null===i||void 0===i?void 0:i.address)){var l=i.chain,s=lo["j"][l]||.01;n=new Ao.a(n).minus(s).times(o).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0]}else n=new Ao.a(n).times(o).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0];0===Number(n)&&(n="")}else n="";0===this.activeTab?this.limitAmount2!==n&&(this.limitAmount2=n<0?0:n,this.watchLimitAmount2()):this.limitAmount1!==n&&(this.limitAmount1=n<0?0:n,this.watchLimitAmount1())}},watchLimitAmount1:function(){var e=this;this.limitQuoteLoading||(ii&&(clearTimeout(ii),ii=null),ii=setTimeout((function(){var t=e.limitAmount1,o=Number(t);""===t||"."===t?(e.limitAmount1="",e.limitAmount2=""):0===o&&0!==Number(e.limitAmount2)?e.limitAmount2=0:o&&(e.limitAmount2="",e.watchLimitPrice())}),500))},watchLimitAmount2:function(){var e=this;this.limitQuoteLoading||(ni&&(clearTimeout(ni),ni=null),ni=setTimeout((function(){var t=e.limitAmount2,o=Number(t);""===t||"."===t?(e.limitAmount1="",e.limitAmount2=""):0===o&&0!==Number(e.limitAmount1)?e.limitAmount1=0:o&&(e.limitAmount1="",e.watchLimitPrice())}),500))},watchLimitPrice:function(){var e=this;"solana"!==this.chain?this.supportChainLimit()&&(Number(this.limitPrice)&&(Number(this.limitAmount1)||Number(this.limitAmount2))&&this.limitToken1.address!==this.limitToken2.address&&""!==this.$store.state.wallet?(ai&&(clearTimeout(ai),ai=null),ai=setTimeout((function(){var t=0===e.activeTab?e.limitToken2:e.limitToken1,o=1===e.activeTab?e.limitToken2:e.limitToken1,i=Bt["utils"].parseUnits((0===e.activeTab?e.limitAmount2:e.limitAmount1)||"0",t.decimals).toString(),n=Bt["utils"].parseUnits((1===e.activeTab?e.limitAmount2:e.limitAmount1)||"0",o.decimals).toString(),a=t.address,l=o.address,s={from_token:a,to_token:l,amountIn:i,amountOut:n};3===e.selected&&(s.extraGas="250000"),e.limitQuoteLoading=!0,Object(ao["ob"])(s).then((function(t){var i,n,a,l;if(console.log("quoteLimit",t,"solana"===(null===t||void 0===t?void 0:t.chain)),1!==t.toWrapper&&2!==t.toWrapper){e.limitGasU=t.gasU;var s=null===t||void 0===t||null===(i=t.routerPath)||void 0===i||null===(n=i.find)||void 0===n?void 0:n.call(i,(function(t){return t.address===e.limitToken1.address})),r=null===t||void 0===t||null===(a=t.routerPath)||void 0===a||null===(l=a.find)||void 0===l?void 0:l.call(a,(function(t){return t.address===e.limitToken2.address}));if(e.limitToken1.price=null===s||void 0===s?void 0:s.price,e.limitToken2.price=null===r||void 0===r?void 0:r.price,new Ao.a((null===s||void 0===s?void 0:s.amount)||0).lte(0)||new Ao.a((null===r||void 0===r?void 0:r.amount)||0).lte(0)||!t.isCanUseGas)e.$dialog.alert({title:e.$t("tips"),message:e.$t("limitOrderAmount"),confirmButtonText:e.$t("okay"),confirmButtonColor:"#558BED"});else{3===e.selected?e.limitAmount1&&e.limitAmount2?0===e.activeTab?e.limitAmount1=Bt["utils"].formatUnits(s.amount,s.decimals):e.limitAmount2=Bt["utils"].formatUnits(r.amount,r.decimals):e.limitAmount1?e.limitAmount2=Bt["utils"].formatUnits(r.amount,r.decimals):e.limitAmount2&&(e.limitAmount1=Bt["utils"].formatUnits(s.amount,s.decimals)):e.limitPrice&&e.limitAmount1&&e.limitAmount2?0===e.activeTab?e.limitAmount1=new Ao.a(Bt["utils"].formatUnits(s.amount,s.decimals)).times(s.price||0).div(e.limitPrice||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken1.decimals,"})?")))[0]:e.limitAmount2=new Ao.a(Bt["utils"].formatUnits(r.amount,r.decimals)).times(e.limitPrice||0).div(s.price||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken2.decimals,"})?")))[0]:e.limitPrice&&e.limitAmount1?e.limitAmount2=new Ao.a(Bt["utils"].formatUnits(r.amount,r.decimals)).times(e.limitPrice||0).div(s.price||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken2.decimals,"})?")))[0]:e.limitPrice&&e.limitAmount2&&(e.limitAmount1=new Ao.a(Bt["utils"].formatUnits(s.amount,s.decimals)).times(s.price||0).div(e.limitPrice||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken1.decimals,"})?")))[0]);var c=new Ao.a(e.limitSlippage||0);3===e.selected&&(c=new Ao.a(e.noGasSlippage||0)),c=new Ao.a(1).minus(c.div(100));var u=0===e.activeTab?e.limitAmount1:e.limitAmount2;e.limitMinReturn=new Ao.a(u||0).times(c).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(o.decimals,"})?")))[0]}}else e.limitQuoteLoading=!1})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.limitQuoteLoading=!1}))}),500)):this.limitToken1.address===this.limitToken2.address&&this.$toast({position:"top",message:this.$t("twoIdenticalTokens")})):this.watchLimitSolanaPrice()},minusLimitPrice:function(){this.limitPrice&&new Ao.a(this.limitPrice).gt("0")&&(this.limitPrice=this.$f.formatNumber(new Ao.a(this.limitPrice).times(.99).toFixed()),this.watchLimitPrice())},addLimitPrice:function(){this.limitPrice&&new Ao.a(this.limitPrice).gt("0")&&(this.limitPrice=this.$f.formatNumber(new Ao.a(this.limitPrice).times(1.01).toFixed()),this.watchLimitPrice())},quoteLimitTokenPrice:function(){var e=this,t=this.limitToken1.chain,o=this.limitToken1.address+"-"+t,i=this.limitToken2.address+"-"+t;return Object(ao["fb"])([o,i]).then(function(){var t=Object(st["a"])(regeneratorRuntime.mark((function t(o){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.limitToken1.price=(null===o||void 0===o||null===(i=o[0])||void 0===i?void 0:i.current_price_usd)||0,e.limitToken2.price=(null===o||void 0===o||null===(n=o[1])||void 0===n?void 0:n.current_price_usd)||0,t.abrupt("return",[e.limitToken1.price,e.limitToken2.price]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getLeftHeight:function(){var e=this;this.$nextTick((function(){var t=Object(Qo["o"])(e.$refs.swapLeft),o=t.height;e.height=o}))},handleWalletAddress:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet?window.ethereum?(this.$store.state.importAddressVisible=!1,null!==(e=window)&&void 0!==e&&e.tronLink||this.$store.commit("changeConnectVisible",!0)):this.$toast({message:this.$t("browserWalletNotDetected"),position:"top"}):t&&this.$store.commit("changeDisconnectVisible",!0)},handleTaxSlippage:function(){if(1===this.activeTab){var e,t;if(Number(this.autoSlippageValue)>Number(null===(e=this.baseTokenExtra)||void 0===e?void 0:e.sell_tax)+1)return;var o=Math.max(Math.min(Number(null===(t=this.baseTokenExtra)||void 0===t?void 0:t.sell_tax)+1,49.99),.5);this.autoSlippageValue=String(Number(o.toFixed(2)))}else{var i,n;if(Number(this.autoSlippageValue)>Number(null===(i=this.baseTokenExtra)||void 0===i?void 0:i.buy_tax)+1)return;var a=Math.max(Math.min(Number(null===(n=this.baseTokenExtra)||void 0===n?void 0:n.buy_tax)+1,49.99),.5);this.autoSlippageValue=String(Number(a.toFixed(2)))}},onSubmit:function(){try{var e,t,o,i;if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChain())return;var n=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"";if(n!==this.netId)return void this.$toast({message:this.$t("plsSwitchChain",{chain:n}),position:"top"});2===this.selected&&(this.isApprove?this.getSwapTx():this.approve())}catch(a){console.log(a)}},getSwapTokenList:function(){var e,t,o,i,n=this,a=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"bsc";Object(ao["bb"])(a).then((function(e){var t,o;(n.tokens=(null===e||void 0===e?void 0:e.map((function(e){return Object(rt["a"])(Object(rt["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token})})))||[],"solana"===a)&&(n.tokens=null===(t=n.tokens)||void 0===t||null===(o=t.filter)||void 0===o?void 0:o.call(t,(function(e){return e.token!==lo["k"]})).sort((function(e,t){return"So11111111111111111111111111111111111111112"===e.token?-1:1})));if((!n.token2.address||n.token1.address===n.token2.address||n.isERC314&&n.token2.address!==lo["k"]||n.isPump&&"solana"===a&&"So11111111111111111111111111111111111111112"===n.token2.address)&&n.tokens.length>0){var i=n.tokens.findIndex((function(e){return/USDT/.test(e.symbol)}));i=i<0?n.tokens.findIndex((function(e){return/USD/.test(e.symbol)})):i,i=i<0?0:i;var l,s=n.tokens[i];if(n.token1.address===s.address)s=0===i&&null!==(l=n.tokens[1])&&void 0!==l?l:n.tokens[0];if(n.isERC314||n.isPump){var r,c,u=null===(r=n.tokens)||void 0===r||null===(c=r.slice)||void 0===c?void 0:c.call(r).find((function(e){return e.address===lo["k"]}));console.log("token",u),n.token2=Object(rt["a"])({},u)}else n.token2=Object(rt["a"])({},s)}if((!n.limitToken2.address||n.limitToken1.address===n.limitToken2.address)&&n.tokens.length>0){var d=n.tokens.findIndex((function(e){return/USDT/.test(e.symbol)}));d=d<0?n.tokens.findIndex((function(e){return/USD/.test(e.symbol)})):d,d=d<0?0:d;var m,p=n.tokens[d];if(n.limitToken1.address===p.address)p=0===d&&null!==(m=n.tokens[1])&&void 0!==m?m:n.tokens[0];n.limitToken2=Object(rt["a"])({},p)}n.getTokenDetails()}))},getUserTokenList:function(){var e,t,o,i,n=this,a=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"bsc";Object(ao["jb"])(a).then((function(e){var t,o;"solana"===a?n.userBalanceTokens=null===e||void 0===e?void 0:e.map((function(e){return Object(rt["a"])(Object(rt["a"])({},e),{},{value:e.balance})})):n.userBalanceTokens=(null===e||void 0===e||null===(t=e.map((function(e){return Object(rt["a"])(Object(rt["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token})})))||void 0===t||null===(o=t.filter)||void 0===o?void 0:o.call(t,(function(e){return(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag})))||[];n.userBalanceTokens.length>0&&"tron"!==a&&"brc20"!==a&&"solana"!==a&&/^0x[0-9a-zA-Z]{40}$/.test(n.$store.state.currentAccount)&&Object(ao["p"])(n.userBalanceTokens.map((function(e){return e.token||""})),a).then((function(e){var t,o,i;n.userBalanceTokens=null===(t=n.userBalanceTokens)||void 0===t||null===(o=t.map)||void 0===o||null===(i=o.call(t,(function(t,o){return Object(rt["a"])(Object(rt["a"])({},t),{},{value:Bt["utils"].formatUnits(e[o],t.decimals||0)})})))||void 0===i?void 0:i.filter((function(e){return!!Number(e.value)}))}))}))},getTokenDetails:function(){var e=this;Promise.all([this.getToken2Info(),this.getToken1Info()]).then((function(){0===e.activeTab?e.allowance=e.token2.allowance||"0":e.allowance=e.token1.allowance||"0"}))},getToken2Info:function(){var e,t,o=this;return Object(ao["cb"])(null===(e=this.token2)||void 0===e?void 0:e.address,null===(t=this.token2)||void 0===t?void 0:t.chain,this.$f.getSwapContract(this.$store.getters.netId)).then(function(){var e=Object(st["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("token2---",t),i=Object(rt["a"])({},t),i.address===o.token2.address&&(o.token2=Object(rt["a"])(Object(rt["a"])({},o.token2),i),sessionStorage.swap_token2=JSON.stringify(o.token2)),o.limitToken2=Object(rt["a"])(Object(rt["a"])({},o.limitToken2),i),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getToken1Info:function(){var e,t,o=this;return Object(ao["cb"])(null===(e=this.token1)||void 0===e?void 0:e.address,null===(t=this.token1)||void 0===t?void 0:t.chain,this.$f.getSwapContract(this.$store.getters.netId)).then(function(){var e=Object(st["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("token1",t),i=Object(rt["a"])({},t),o.token1=Object(rt["a"])(Object(rt["a"])({},o.token1),i),sessionStorage.swap_token1=JSON.stringify(o.token1),o.limitToken1=Object(rt["a"])(Object(rt["a"])({},o.limitToken1),i),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getBaseToken:function(){var e,t,o,i=this,n=(null===(e=this.$route.params)||void 0===e?void 0:e.id)||"",a=null===(t=n.split("-"))||void 0===t?void 0:t[0],l=null===(o=n.split("-"))||void 0===o?void 0:o[1];if(this.token1.address&&(a=this.token1.address),this.token1.chain&&(l=this.token1.chain),a&&l){var s=a+"-"+l,r=Ho["a"].get("chainConfig",lo["l"])||{},c=null===r||void 0===r?void 0:r[l],u=null===c||void 0===c?void 0:c.wmainWrapper,d=null===c||void 0===c?void 0:c.mainName;a===lo["k"]&&l&&u&&(s=u+"-"+l);var m=Object(ao["K"])(s).then(function(){var e=Object(st["a"])(regeneratorRuntime.mark((function e(t){var o,n,l,r,c,u,m,p,b,f,h,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("baseToken",t),i.baseToken=Object(rt["a"])(Object(rt["a"])({},t),a===lo["k"]?{token:Object(rt["a"])(Object(rt["a"])({},t.token),{},{token:a,symbol:d,logoURI:i.$f.formatIcon(s)})}:{}),u=null===t||void 0===t||null===(o=t.pairs)||void 0===o?void 0:o[0],m=null===u||void 0===u?void 0:u.pair,m&&((null===u||void 0===u?void 0:u.target_token)===m||new RegExp(null===u||void 0===u?void 0:u.target_token,"i").test(m))?(i.isERC314=!0,i.token2.address!==lo["k"]&&(null===(p=i.tokens)||void 0===p?void 0:p.length)>0&&(h=Object(rt["a"])({},null===(b=i.tokens)||void 0===b||null===(f=b.slice())||void 0===f?void 0:f.find((function(e){return e.address===lo["k"]}))),i.token2=Object(rt["a"])({},h),setTimeout((function(){i.handleSelectToken2(h)}),1e3))):i.isERC314=!1,i.getSolanaPumpInfo().catch(Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))),v=null===u||void 0===u?void 0:u.chain,m&&i.getKlineHistory(m+"-"+v),i.token1=Object(rt["a"])(Object(rt["a"])(Object(rt["a"])({},i.token1),{},{address:i.baseToken.token.token},i.baseToken.token),{},{decimals:(null===(n=i.baseToken.token)||void 0===n?void 0:n.decimal)||(null===(l=i.baseToken.token)||void 0===l?void 0:l.decimals)}),sessionStorage.swap_token1=JSON.stringify(i.token1),i.limitToken1=Object(rt["a"])(Object(rt["a"])(Object(rt["a"])({},i.limitToken1),{},{address:i.baseToken.token.token},i.baseToken.token),{},{decimals:(null===(r=i.baseToken.token)||void 0===r?void 0:r.decimal)||(null===(c=i.baseToken.token)||void 0===c?void 0:c.decimals)}),i.getLeftHeight(),"solana"===v?i.limitSolanaPriceU=i.baseToken.token.current_price_usd?i.$f.formatNumber(i.baseToken.token.current_price_usd):"":(i.limitPrice=i.baseToken.token.current_price_usd?i.$f.formatNumber(i.baseToken.token.current_price_usd):"",i.triggerPrice=i.baseToken.token.current_price_usd?i.$f.formatNumber(i.baseToken.token.current_price_usd):""),i.quoteLimitSolana(),e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(ao["db"])(n).then(function(){var e=Object(st["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.baseTokenExtra=Object(rt["a"])(Object(rt["a"])({},t),{},{buy_tax:Number(Number(t.buy_tax).toFixed(2)),sell_tax:Number(Number(t.sell_tax).toFixed(2))}),i.handleTaxSlippage(),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all([m,p]).finally((function(){console.log("initWs",s),i.$store.dispatch("initWs",s)}));var b=["0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-eth","0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2-eth","0xdac17f958d2ee523a2206206994597c13d831ec7-eth","0x4fabb145d64652a948d72533023f6e7a623c7c53-eth","0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48-eth"];a===lo["k"]||b.includes(n)?(this.hasMEVBot=!1,this.isHotToken=!1):Object(ao["F"])(n).then((function(e){i.hasMEVBot=(null===e||void 0===e?void 0:e.has_MEVBot)||!1,i.isHotToken=(null===e||void 0===e?void 0:e.is_hot_token)||!1})).catch((function(e){i.hasMEVBot=!1,i.isHotToken=!1}))}},getSelectedRouter:function(e){this.dialogListRouterVisible=!1,this.selectedRouterIndex=e,this.selectedRouter()},getQuoteInfo:function(){var e,t,o,i,n=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("Swap"===this.$route.name&&this.supportChain())if(Number(this.fromAmount)||Number(this.toAmount))if(this.token1.address!==this.token2.address){Zo&&(clearTimeout(Zo),Zo=null);var l=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"";Zo=setTimeout((function(){n.dealGetQuoteInfo(a,l)}),500)}else this.$toast({position:"top",message:this.$t("twoIdenticalTokens")});else this.quoteLoading=!1},dealGetQuoteInfo:function(e,t){var o=this;return Object(st["a"])(regeneratorRuntime.mark((function i(){var n,a,l,s,r,c,u,d,m,p,b,f,h,v,g,k,O,j,w,y,S,T,_,N,V,$,E;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!o.fromAmount&&!o.toAmount||!o.fromToken.address||!o.toToken.address){i.next=30;break}if(r=o.fromToken.decimals,c=o.toToken.decimals,"solana"!==t){i.next=6;break}return o.quoteSolana(e,t),i.abrupt("return");case 6:if(o.quoteLoading=!0,u={from_token:o.fromToken.address,to_token:o.toToken.address,amountIn:e?Bt["utils"].parseUnits(new Ao.a(o.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(r,"})?")))[0],r).toString():0,amountOut:e?0:Bt["utils"].parseUnits(new Ao.a(o.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(c,"})?")))[0],c).toString()},d=null===(n=o.baseToken)||void 0===n?void 0:n.pairs,(null===d||void 0===d||null===(a=d[0])||void 0===a?void 0:a.target_token)!==(null===d||void 0===d||null===(l=d[0])||void 0===l?void 0:l.pair)||null===d||void 0===d||null===(s=d[0])||void 0===s||!s.pair){i.next=26;break}return i.next=12,Object(ao["nb"])(u,t);case 12:if(m=i.sent,console.log("res",m),!m){i.next=26;break}return e?o.toAmount=Bt["utils"].formatUnits(m||"0",null===(w=o.toToken)||void 0===w?void 0:w.decimals):o.fromAmount=Bt["utils"].formatUnits(m||"0",null===(y=o.fromToken)||void 0===y?void 0:y.decimals),o.isERC314=!0,o.swapRouterPath=[{symbol:null===(p=o.fromToken)||void 0===p?void 0:p.symbol,nextAmm:null===d||void 0===d||null===(b=d[0])||void 0===b?void 0:b.amm},{symbol:null===(f=o.toToken)||void 0===f?void 0:f.symbol,nextAmm:""}],o.swapQuoteInfo.fromAmount=Bt["utils"].parseUnits(o.fromAmount,null===(h=o.fromToken)||void 0===h?void 0:h.decimals).toString(),o.swapQuoteInfo.toAmount=Bt["utils"].parseUnits(o.toAmount,null===(v=o.toToken)||void 0===v?void 0:v.decimals).toString(),o.swapQuoteInfo.fromToken=Object(rt["a"])(Object(rt["a"])({},o.fromToken),{},{amount:o.swapQuoteInfo.fromAmount}),o.swapQuoteInfo.toToken=Object(rt["a"])(Object(rt["a"])({},o.toToken),{},{amount:o.swapQuoteInfo.toAmount}),S=(null===(g=o.fromToken)||void 0===g?void 0:g.address)+"-"+(null===(k=o.fromToken)||void 0===k?void 0:k.chain),T=(null===(O=o.toToken)||void 0===O?void 0:O.address)+"-"+(null===(j=o.toToken)||void 0===j?void 0:j.chain),Object(ao["fb"])([S,T]).then(function(){var e=Object(st["a"])(regeneratorRuntime.mark((function e(t){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.swapQuoteInfo.from_price=(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.current_price_usd)||0,o.swapQuoteInfo.to_price=(null===t||void 0===t||null===(n=t[1])||void 0===n?void 0:n.current_price_usd)||0,o.swapQuoteInfo.isERC314=!0;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.quoteLoading=!1,i.abrupt("return");case 26:_="","core"===t&&(null===d||void 0===d?void 0:d.length)>0&&(console.log("pairs",d),V=(null===d||void 0===d||null===(N=d.find)||void 0===N?void 0:N.call(d,(function(e){var t=[e.token0_address,e.token1_address];return t.includes(u.token0_address)||t.includes(u.token1_address)})))||(null===d||void 0===d?void 0:d[0]),$=null===V||void 0===V?void 0:V.amm,E={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"},_=(null===E||void 0===E?void 0:E[$])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f",console.log("wrapper",_)),o.isERC314=!1,Object(ao["mb"])(u,_,t).then((function(e){console.log("swapPathList",e),o.swapPathList=e,o.selectedRouter(e),o.getSwapGas()})).catch((function(t){o.$f.handleError(t),e?o.toAmount="":o.fromAmount="",o.$nextTick((function(){setTimeout((function(){o.quoteLoading=!1,o.countDownFinishReset()}),800)}))}));case 30:case"end":return i.stop()}}),i)})))()},quoteSolana:function(e,t){var o=this;return Object(st["a"])(regeneratorRuntime.mark((function i(){var n,a,l,s,r,c,u,d,m,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("solana"!==t){i.next=25;break}if(n=!(o.isPump&&"So11111111111111111111111111111111111111112"!==o.token2.address&&"solana"===o.token2.chain),n){i.next=4;break}return i.abrupt("return");case 4:if(a=o.fromToken.decimals,l=o.toToken.decimals,console.log("fromAmount",o.fromAmount,o.fromToken),console.log("toToken",o.toToken),localStorage.solanaSlippage||!(Date.now()>o.getKlineTime+15e3)){i.next=15;break}if(c=null===(s=o.baseToken)||void 0===s||null===(r=s.pairs)||void 0===r?void 0:r[0],u=null===c||void 0===c?void 0:c.pair,d=null===c||void 0===c?void 0:c.chain,!u){i.next=15;break}return i.next=15,o.getKlineHistory(u+"-"+d);case 15:if(m={inputMint:o.fromToken.address,inputDecimals:a,inputMintSymbol:o.fromToken.symbol,inputMintName:o.fromToken.symbol,inputAmount:o.fromAmount||0,outputMint:o.toToken.address,outputDecimals:l,outputMintSymbol:o.toToken.symbol,outputMintName:o.toToken.symbol,amount:e?Bt["utils"].parseUnits(new Ao.a(o.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],a).toString():Bt["utils"].parseUnits(new Ao.a(o.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0],l).toString(),slippageBps:new Ao.a(o.solanaSlippage).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:o.solanaSlippage||19,isPump:o.isPump},p=o.quoteSolanaPreParams.amount&&Object.keys(o.quoteSolanaPreParams).every((function(e){return m[e]===o.quoteSolanaPreParams[e]})),!p){i.next=21;break}return i.abrupt("return");case 21:o.quoteSolanaPreParams=Object(rt["a"])({},m),setTimeout((function(){o.quoteSolanaPreParams={}}),15e3);case 23:return o.quoteLoading=!0,i.abrupt("return",Object(Ko["g"])(m).then((function(t){var i,n;if(console.log("solanaQuoteResponse",t),t.routeInfo&&t.transaction){var s,r,c,u,d,m,p,b,f,h;if(o.solanaQuoteResponse=t,console.log("amountIn",t.routeInfo),null!==(s=t.routeInfo)&&void 0!==s&&s.isExactOut)o.fromAmount=(null===(d=t.routeInfo)||void 0===d||null===(m=d.amountOut)||void 0===m||null===(p=m.amount)||void 0===p?void 0:p.toFixed())||"0";else o.toAmount=(null===(b=t.routeInfo)||void 0===b||null===(f=b.amountOut)||void 0===f||null===(h=f.amount)||void 0===h?void 0:h.toFixed())||"0";console.log("amountOut",(null===(r=t.routeInfo)||void 0===r||null===(c=r.amountOut)||void 0===c||null===(u=c.amount)||void 0===u?void 0:u.toFixed())||"0"),o.quoteSwapTokenPrice()}else{var v,g;if(e)if(t.outAmount)o.solanaQuoteResponse=t,o.toAmount=Bt["utils"].formatUnits(t.outAmount||"0",l||(null===(v=o.toToken)||void 0===v?void 0:v.decimals)),o.quoteSwapTokenPrice();else o.$f.handleError("can not get quote");else if(t.inAmount)o.solanaQuoteResponse=t,o.fromAmount=Bt["utils"].formatUnits(t.inAmount||"0",a||(null===(g=o.fromToken)||void 0===g?void 0:g.decimals)),o.quoteSwapTokenPrice();else o.$f.handleError("can not get quote")}return o.solanaSwapBaseTokenPrice=null===(i=o.baseToken)||void 0===i||null===(n=i.token)||void 0===n?void 0:n.current_price_usd,o.getSwapTx(!1),o.quoteLoading=!1,o.quoteSolanaPreParams={},t})).catch((function(e){return console.log(e),o.$f.handleError((null===e||void 0===e?void 0:e.error)||e),o.$nextTick((function(){setTimeout((function(){o.quoteLoading=!1,o.quoteSolanaPreParams={},o.countDownFinishReset()}),800)})),Promise.resolve("")})));case 25:case"end":return i.stop()}}),i)})))()},quoteSwapTokenPrice:function(){var e=this,t=this.fromToken.chain,o=this.fromToken.address+"-"+t,i=this.toToken.address+"-"+t;return Object(ao["fb"])([o,i]).then(function(){var t=Object(st["a"])(regeneratorRuntime.mark((function t(o){var i,n,a,l,s,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=(null===o||void 0===o||null===(i=o[0])||void 0===i?void 0:i.current_price_usd)||0,l=(null===o||void 0===o||null===(n=o[1])||void 0===n?void 0:n.current_price_usd)||0,e.solanaSwapTokenPrice=[a,l],s=e.fromAmount||0,r=e.toAmount||0,c=Math.abs(Number(s)*a/(Number(r)*l)-1),console.log("priceImpactSolana",s,a,r,l,c),e.priceImpactSolana=c,console.log("priceImpactSolana",c);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},selectedRouter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.swapPathList,o=t[this.selectedRouterIndex],i=t[this.selectedRouterIndex].routerPath,n=this.isAmount,a=this.fromToken.decimals,l=this.toToken.decimals,s=!1;if(n){var r,c=Bt["utils"].parseUnits(new Ao.a(this.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],a).toString(),u=(null===(r=i[0])||void 0===r?void 0:r.amount)||0;s=c===u}else{var d,m=Bt["utils"].parseUnits(new Ao.a(this.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0],l).toString(),p=(null===(d=i[i.length-1])||void 0===d?void 0:d.amount)||0;s=m===p}if(s){if(1===o.from_cannot_sell_all){var b,f=new Ao.a(Bt["utils"].parseUnits(String(this.fromToken.balance),null===(b=this.fromToken)||void 0===b?void 0:b.decimals).toString()),h=new Ao.a(null===o||void 0===o?void 0:o.routerPath[0].amount);this.isCannotSellAll=f.gt(0)&&h.div(f).gt(.99999)}else this.isCannotSellAll=!1;this.isTax=o.totalTax>0||o.total_sell_tax>0||o.total_buy_tax>0;var v=this.getPriceImpact(o);if(this.isTax||v.gt(.5)){this.isTaxHigh=o.total_sell_tax+o.total_buy_tax+1>49.99;var g=o.totalTax||o.total_sell_tax+o.total_buy_tax,k=Number(v);if(this.autoSlippage){var O=g+k+(g>5||k>5?2.5:2);console.log("swapPathList",t),O=Math.max(Math.min(O,49.99),.5),this.autoSlippageValue=String(Number(O.toFixed(2)))}}else this.isTaxHigh=!1,"auto"===this.customSlippage&&(this.autoSlippageValue=si);if((o.weight>5e4||o.totalTax>0||o.total_sell_tax>0||o.total_buy_tax>0)&&!this.hasMEVBot?this.autoSwapMode="fast":0===this.activeTab?this.autoSwapMode="protect":this.autoSwapMode="private",console.log("autoSwapMode",this.autoSwapMode),this.swapQuoteInfo=o,this.swapRouterPath=i.map((function(e,t){var i,n;return{symbol:e.symbol,nextAmm:(null===o||void 0===o||null===(i=o.pair_path)||void 0===i||null===(n=i[t])||void 0===n?void 0:n.amm)||""}})),this.listRouter=t.map((function(t){var o=0,i=0;if(n){var a,l=t.routerPath[t.routerPath.length-1];o=Bt["utils"].formatUnits(l.amount||"0",(null===l||void 0===l?void 0:l.decimals)||(null===(a=e.toToken)||void 0===a?void 0:a.decimals))}else{var s=t.routerPath[0];i=Bt["utils"].formatUnits(s.amount||"0",(null===s||void 0===s?void 0:s.decimals)||e.fromToken.decimals)}var r=t.routerPath.map((function(e,o){var i,n;return{symbol:e.symbol,nextAmm:(null===t||void 0===t||null===(i=t.pair_path)||void 0===i||null===(n=i[o])||void 0===n?void 0:n.amm)||""}}));return{path:r,amount:n?o:i,priceImpact:t.priceImpact}})),n){var j,w=i[i.length-1];this.toAmount=Bt["utils"].formatUnits(w.amount||"0",(null===w||void 0===w?void 0:w.decimals)||(null===(j=this.toToken)||void 0===j?void 0:j.decimals))}else{var y,S=i[0];this.fromAmount=Bt["utils"].formatUnits(S.amount||"0",(null===S||void 0===S?void 0:S.decimals)||(null===(y=this.fromToken)||void 0===y?void 0:y.decimals))}var T=o.totalTax||o.total_sell_tax+o.total_buy_tax||0;this.baseTokenPrice=new Ao.a(this.toAmount).div(this.fromAmount).times(100-T).div(100).toFixed(),s&&this.$nextTick((function(){setTimeout((function(){e.quoteLoading=!1,e.countDownFinishReset()}),800)}))}},handleSelectToken2:function(e){sessionStorage.swap_token2=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.autoSlippageValue=si,this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",this.getAllowance(),this.getToken2Info()},handleSelectToken1:function(e){sessionStorage.swap_token1=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.autoSlippageValue=si,this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",this.getToken1Info(),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}})},handleSelectLimitToken1:function(e){this.autoSlippageValue=si,this.limitAmount1="",this.limitAmount2="",this.$refs.percentStep1.handleClick(0),1===this.activeTab&&this.getLimitAllowance(),sessionStorage.swap_token1=JSON.stringify(e),this.token1=Object(rt["a"])({},e),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}}).catch((function(e){console.log("err",e)})),this.getToken1Info(),"solana"===this.chain&&this.quoteLimitSolana()},handleSelectLimitToken2:function(e){this.autoSlippageValue=si,this.limitAmount1="",this.limitAmount2="",this.$refs.percentStep1.handleClick(0),sessionStorage.swap_token2=JSON.stringify(e),this.token2=Object(rt["a"])({},e),this.getToken2Info(),0===this.activeTab&&this.getLimitAllowance(),"solana"===this.chain&&this.quoteLimitSolana()},getAllowance:function(){var e=this;if(this.$store.getters.netId&&this.$store.getters.netId===this.fromToken.chain&&this.fromToken.address){var t=this.$store.getters.netId;if("solana"===t)return void(this.allowance=lo["i"]);var o=this.$f.getSwapContract(this.$store.getters.netId);this.loadingAllowance=!0,Object(ao["f"])(this.fromToken.address,o).then((function(t){e.allowance=t.toString()})).catch((function(){e.allowance="0"})).finally((function(){e.loadingAllowance=!1}))}},approve:function(){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadingApprove=!0,"bsc"!==e.$store.getters.netId&&"eth"!==e.$store.getters.netId||e.$f.setSwapSendType("fast"),Object(ao["j"])(e.fromToken.address,{approveAmount:0===e.activeTab?"":lo["i"]}).then((function(e){return e.wait()})).then((function(t){console.log(t),e.getAllowance(),e.getGasBalance()})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.loadingApprove=!1,e.$f.setSwapSendType("")}));case 3:case"end":return t.stop()}}),t)})))()},getSwapGas:function(){var e=this;ei&&(clearTimeout(ei),ei=null),ei=setTimeout((function(){var t,o,i;e.checkAmount()&&e.isApprove&&e.$store.state.currentAccount&&!e.loadingSwap&&(null!==(t=e.swapQuoteInfo)&&void 0!==t&&t.isERC314?Object(ao["a"])(e.swapQuoteInfo).then(function(){var t=Object(st["a"])(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.swapSubmitInfo=Object(rt["a"])(Object(rt["a"])({},o),{},{isERC314:!0}),e.swapInfo=o.swapInfo,e.swapInfo.gasValue=o.gasValue,console.log("gasValue",o.gasValue),e.swapInfo.swapRouterPath=e.swapRouterPath;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$f.handleError(t)})):(null===(o=e.swapQuoteInfo)||void 0===o||null===(i=o.routerPath)||void 0===i?void 0:i.length)>0&&(Object(ao["ub"])(e.swapQuoteInfo,e.slippage).then(function(){var t=Object(st["a"])(regeneratorRuntime.mark((function t(o){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.swapSubmitInfo=o,e.swapInfo=Object(rt["a"])(Object(rt["a"])({},o.swapInfo),{},{fromToken:Object(rt["a"])(Object(rt["a"])({},e.fromToken),(null===o||void 0===o||null===(i=o.swapInfo)||void 0===i?void 0:i.fromToken)||{}),toToken:Object(rt["a"])(Object(rt["a"])({},e.toToken),(null===o||void 0===o||null===(n=o.swapInfo)||void 0===n?void 0:n.toToken)||{})}),e.swapInfo.gasValue=o.gasValue,console.log("gasValue",o.gasValue),e.swapInfo.swapRouterPath=e.swapRouterPath;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$f.handleError(t)})),e.getNativeTokenPrice(),e.getGasPrice()))}),1e3)},getSwapTx:function(){var e,t,o,i=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(ei&&(clearTimeout(ei),ei=null),this.checkAmount())if("solana"===this.chain){var a=[this.fromToken,this.toToken].map((function(e,t){return{symbol:e.symbol,nextAmm:""}}));this.swapInfo={swapRouterPath:a,fromAmount:this.fromAmount,toAmount:this.toAmount,fromToken:this.fromToken,toToken:this.toToken},n&&(this.dialogVisibleSwap=!0)}else null!==(e=this.swapQuoteInfo)&&void 0!==e&&e.isERC314?(this.loadingSwap=!0,Object(ao["a"])(this.swapQuoteInfo).then(function(){var e=Object(st["a"])(regeneratorRuntime.mark((function e(t){var o,a,l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.swapSubmitInfo=Object(rt["a"])(Object(rt["a"])({},t),{},{isERC314:!0}),i.swapInfo=t.swapInfo,i.swapInfo.gasValue=t.gasValue,i.swapInfo.swapRouterPath=i.swapRouterPath,i.loadingSwap=!1,n&&(s=(null===(o=window)||void 0===o||null===(a=o._tw_)||void 0===a||null===(l=a.appGetFreePay)||void 0===l?void 0:l.call(a))||!1,s=s&&"false"!==s,s?i.submitSwap():i.dialogVisibleSwap=!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){i.loadingSwap=!1,i.$f.handleError(e)})),this.getNativeTokenPrice(),this.getGasPrice()):(null===(t=this.swapQuoteInfo)||void 0===t||null===(o=t.routerPath)||void 0===o?void 0:o.length)>0&&(this.loadingSwap=!0,Object(ao["ub"])(this.swapQuoteInfo,this.slippage,this.activeTab).then(function(){var e=Object(st["a"])(regeneratorRuntime.mark((function e(t){var o,a,l,s,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.swapSubmitInfo=t,i.swapInfo=Object(rt["a"])(Object(rt["a"])({},t.swapInfo),{},{fromToken:Object(rt["a"])(Object(rt["a"])({},i.fromToken),(null===t||void 0===t||null===(o=t.swapInfo)||void 0===o?void 0:o.fromToken)||{}),toToken:Object(rt["a"])(Object(rt["a"])({},i.toToken),(null===t||void 0===t||null===(a=t.swapInfo)||void 0===a?void 0:a.toToken)||{})}),i.swapInfo.gasValue=t.gasValue,i.swapInfo.swapRouterPath=i.swapRouterPath,i.swapInfo.subTxs=t.subTxs,i.loadingSwap=!1,n&&(c=(null===(l=window)||void 0===l||null===(s=l._tw_)||void 0===s||null===(r=s.appGetFreePay)||void 0===r?void 0:r.call(s))||!1,c=c&&"false"!==c,c?i.submitSwap():i.dialogVisibleSwap=!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){i.loadingSwap=!1,i.$f.handleError(e)})),this.getNativeTokenPrice(),this.getGasPrice());else this.$dialog.alert({title:this.$t("tips"),message:this.checkAmountMessage(),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})},submitSwap:function(){var e=arguments,t=this;return Object(st["a"])(regeneratorRuntime.mark((function o(){var i,n,a,l,s,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:t.swapSubmitInfo,o.prev=1,"solana"!==t.chain){o.next=5;break}return t.submitSolanaSwap(),o.abrupt("return");case 5:return t.loadingConfirmSwap=!0,t.loadingSwap=!0,console.log("swapSubmitInfo",i),o.next=10,i.swapCallStatic();case 10:n=o.sent,console.log("swapCallStaticResult",n.toString()),a=i.swapInfo,l=!(a.fromToken.isWrapper&&a.toToken.isETH||a.toToken.isWrapper&&a.fromToken.isETH),console.log("isSwap",l),s={from_address:a.fromToken.address,from_symbol:a.fromToken.symbol,from_amount:Number(Bt["utils"].formatUnits(a.fromTokenAmount||0,a.fromToken.decimals)),to_address:a.toToken.address,to_symbol:a.toToken.symbol,to_amount:Number(Bt["utils"].formatUnits(a.toTokenAmount||0,a.toToken.decimals)),chain:t.netId,transaction:"",wallet_address:t.$store.state.currentAccount},r={},"bsc"!==t.$store.getters.netId&&"eth"!==t.$store.getters.netId||(console.log("set swapMode",t.swapMode||"fast"),t.$f.setSwapSendType(t.swapMode||"fast")),i.swap().then((function(e){var o,n,c,u,d,m,p;(console.warn("swap confirm time end",t.$f.formatDate(Date.now())),console.log("---confirm transaction---",e),t.swapInfo.transaction=e.hash,l)&&(s.transaction=e.hash,r={time:parseInt(Date.now()/1e3),id:s.transaction,chain:t.netId,transaction:e.hash,from_address:s.from_address,from_price_eth:0,from_price_usd:(null===(u=t.swapQuoteInfo)||void 0===u?void 0:u.from_price)||0,from_symbol:a.fromToken.symbol,from_amount:Number(Bt["utils"].formatUnits(a.fromTokenAmount||0,a.fromToken.decimals)),to_address:s.to_address,to_price_eth:0,to_price_usd:(null===(d=t.swapQuoteInfo)||void 0===d?void 0:d.to_price)||0,to_symbol:a.toToken.symbol,to_amount:Number(Bt["utils"].formatUnits(a.toTokenAmount||0,a.toToken.decimals)),is_merged:0,isERC314:(null===i||void 0===i?void 0:i.isERC314)||!1,wallet_address:t.$store.state.currentAccount,from_address_logo_url:null===(m=t.fromToken)||void 0===m?void 0:m.logo_url,to_address_logo_url:null===(p=t.toToken)||void 0===p?void 0:p.logo_url},t.initTxs.unshift(r));t.loadingSwap=!1,t.loadingConfirmSwap=!1,t.fromAmount="",t.toAmount="",null===(o=t.$refs)||void 0===o||null===(n=o.percentStep)||void 0===n||null===(c=n.handleClick)||void 0===c||c.call(n,0),t.dialogVisibleSwap=!1;try{Object(ao["h"])(i.subTxs)}catch(b){console.log(b)}return e.wait()})).then((function(e){return console.warn("swap transaction end",t.$f.formatDate(Date.now())),console.log("----transaction---",e),1===e.status?(t.$notify({type:"success",message:t.$t("tradeSuccess")}),t.getTokenDetails(),t.getUserTokenList(),t.getAllowance(),l&&(t.initTxs.forEach((function(o){var i,n,a,l;o.transaction===e.transactionHash&&(o.is_merged=1,o.time=parseInt(Date.now()/1e3),console.log(o,null===o||void 0===o?void 0:o.isERC314),null!==o&&void 0!==o&&o.isERC314&&(t.ERC314SwapTxs=[o].concat(Object(ct["a"])(null===(i=t.ERC314SwapTxs)||void 0===i||null===(n=i.slice)||void 0===n||null===(a=n.call(i))||void 0===a||null===(l=a.filter)||void 0===l?void 0:l.call(a,(function(t){return t.transaction!==e.transactionHash}))))))})),null!==i&&void 0!==i&&i.isERC314||t.getUserAllTxs(r)),t.getGasBalance()):(t.$notify({type:"danger",message:t.$t("tradeFail")}),l&&(t.initTxs=t.initTxs.filter((function(t){return t.transaction!==e.transactionHash})))),t.$f.setSwapSendType(""),e})).catch((function(e){console.log("err",e),t.$refs.countDown.reset(),t.loadingSwap=!1,t.loadingConfirmSwap=!1,l&&t.getUserAllTxs(),t.$f.handleError(e,"swap"),t.$f.setSwapSendType("")})),o.next=27;break;case 21:o.prev=21,o.t0=o["catch"](1),t.loadingSwap=!1,t.loadingConfirmSwap=!1,t.$f.handleError(o.t0,"swap"),t.$f.setSwapSendType("");case 27:case"end":return o.stop()}}),o,null,[[1,21]])})))()},submitSolanaSwap:function(){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function t(){var o,i,n,a,l,s,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.loadingConfirmSwap=!0,e.loadingSwap=!0,n=(null===(o=e.baseToken)||void 0===o||null===(i=o.token)||void 0===i?void 0:i.current_price_usd)||0,a=!e.solanaSwapBaseTokenPrice||new Ao.a(n).minus(e.solanaSwapBaseTokenPrice).times(100).div(e.solanaSwapBaseTokenPrice).abs().gt(e.solanaSlippage),console.log("price",n,e.solanaSwapBaseTokenPrice,a),!a){t.next=9;break}return t.next=9,e.quoteSolana(e.isAmount,"solana");case 9:l=e.swapInfo,s={from_address:l.fromToken.address,from_symbol:l.fromToken.symbol,from_amount:Number(Bt["utils"].formatUnits(l.fromTokenAmount||0,l.fromToken.decimals)),to_address:l.toToken.address,to_symbol:l.toToken.symbol,to_amount:Number(Bt["utils"].formatUnits(l.toTokenAmount||0,l.toToken.decimals)),chain:e.netId,transaction:"",wallet_address:e.$store.state.currentAccount},r={},setTimeout((function(){e.dialogVisibleSwap||(e.loadingSwap=!1,e.loadingConfirmSwap=!1)}),6e3),c=!0,Object(Ko["j"])(e.solanaQuoteResponse).then((function(t){var o,i,n,a,u;(console.warn("swap confirm time end",e.$f.formatDate(Date.now())),console.log("---confirm transaction---",t),e.swapInfo.transaction=t.hash,c)&&(s.transaction=t.hash,r={time:parseInt(Date.now()/1e3),id:s.transaction,chain:e.netId,transaction:t.hash,from_address:s.from_address,from_price_eth:0,from_price_usd:"",from_symbol:l.fromToken.symbol,from_amount:l.fromAmount,to_address:s.to_address,to_price_eth:0,to_price_usd:"",to_symbol:l.toToken.symbol,to_amount:l.toAmount,is_merged:0,wallet_address:e.$store.state.currentAccount||"",from_address_logo_url:l.fromToken.logo_url,to_address_logo_url:l.toToken.logo_url},e.solanaTxs.unshift(r),e.solanaTxs=null===(a=e.solanaTxs)||void 0===a||null===(u=a.slice)||void 0===u?void 0:u.call(a,0,500));return e.loadingSwap=!1,e.loadingConfirmSwap=!1,e.fromAmount="",e.toAmount="",null===(o=e.$refs)||void 0===o||null===(i=o.percentStep)||void 0===i||null===(n=i.handleClick)||void 0===n||n.call(i,0),e.dialogVisibleSwap=!1,t.wait()})).then((function(t){if(console.warn("swap transaction end",e.$f.formatDate(Date.now())),console.log("----transaction---",t),t){var o=Object(Ko["i"])(t,l.fromToken.address,l.toToken.address),i=Object(ut["a"])(o,2),n=i[0],a=i[1];e.$notify({type:"success",message:e.$t("tradeSuccess")}),e.getTokenDetails(),e.getUserTokenList(),c&&(e.solanaTxs=e.solanaTxs.slice().map((function(e){var o,i=Object(rt["a"])({},e);return e.transaction===(null===t||void 0===t||null===(o=t.transaction)||void 0===o?void 0:o.signatures[0])&&(i.is_merged=1,i.time=null===t||void 0===t?void 0:t.blockTime,n&&Number(n)>0&&(i.from_amount=n),a&&Number(a)>0&&(i.to_amount=a)),i})))}else e.$notify({type:"danger",message:e.$t("tradeFail")}),c&&(e.solanaTxs=e.solanaTxs.filter((function(e){return e.transaction!==t.transactionHash})));return e.$f.setSwapSendType(""),t})).catch((function(t){if(console.warn("solana error",t),"Timeout"===(t||(null===t||void 0===t?void 0:t.message)))e.solanaTxs=e.solanaTxs.map((function(e){return e.transaction===s.transaction?Object(rt["a"])(Object(rt["a"])({},e),{},{status:"timeout"}):Object(rt["a"])({},e)}));else if("Swap fail"===(t||(null===t||void 0===t?void 0:t.message)))e.solanaTxs=e.solanaTxs.map((function(e){return e.transaction===s.transaction?Object(rt["a"])(Object(rt["a"])({},e),{},{status:"fail"}):Object(rt["a"])({},e)}));else{var o,i;e.solanaTxs=(null===(o=e.solanaTxs)||void 0===o||null===(i=o.filter)||void 0===i?void 0:i.call(o,(function(e){return e.transaction!==s.transaction})))||[]}e.solanaSwapBaseTokenPrice=0,e.$refs.countDown.reset(),e.loadingSwap=!1,e.loadingConfirmSwap=!1,e.$f.handleError(t,"solana"),e.$f.setSwapSendType("")})),t.next=24;break;case 17:t.prev=17,t.t0=t["catch"](0),e.solanaSwapBaseTokenPrice=0,e.loadingSwap=!1,e.loadingConfirmSwap=!1,e.$f.handleError(t.t0,"solana"),e.$f.setSwapSendType("");case 24:case"end":return t.stop()}}),t,null,[[0,17]])})))()},checkAmount:function(){if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return!0;var e=this.fromToken.balance||0,t=this.isPump&&"So11111111111111111111111111111111111111112"!==this.token2.address;return!(0===Number(e)||Number(e)<Number(this.fromAmount)||""===this.$store.state.wallet||"0"===String(this.fromAmount)||this.token1.address===this.token2.address||this.isERC314&&this.token2.address!==lo["k"]||t)},checkAmountMessage:function(){var e,t,o,i=this.fromToken.balance||0,n=this.isPump&&"So11111111111111111111111111111111111111112"!==this.token2.address;return this.$store.state.currentAccount?!this.$store.state.currentAccount||window.ethereum||null!==(e=window)&&void 0!==e&&e.solana||null!==(t=window.trustwallet)&&void 0!==t&&t.solana||null!==(o=window)&&void 0!==o&&o.tronWeb?this.isERC314&&this.token2.address!==lo["k"]||n?this.$t("ERC314Tips"):0===Number(i)||Number(i)<Number(this.fromAmount)||!this.$store.state.currentAccount?this.$t("insufficientBalance"):"0"===String(this.fromAmount)?this.$t("AmountCannotBeZero"):void 0:this.$t("observeAddressNotSwap"):this.$t("pConnectWallet")},getNativeTokenPrice:function(){var e,t,o,i,n,a,l,s,r=this;if(this.$store.getters.netId===(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])){var c=this.$store.getters.netId||(null===(n=this.$route.params)||void 0===n||null===(a=n.id)||void 0===a||null===(l=a.split)||void 0===l||null===(s=l.call(a,"-"))||void 0===s?void 0:s[1])||"";Object(ao["L"])(c).then((function(e){var t;r.nativePrice=e;var o=(null===(t=r.gasSetting)||void 0===t?void 0:t[c])||{};r.gasSetting=Object(rt["a"])(Object(rt["a"])({},r.gasSetting),{},Object(lt["a"])({},c,Object(rt["a"])(Object(rt["a"])({},o),{},{nativePrice:e}))),Ho["a"].set("gasSetting",r.gasSetting)}))}},getKlineHistory:function(e){var t,o,i,n,a=this;return Object(ao["G"])(e,"1",(null===(t=this.$route.params)||void 0===t||null===(o=t.id)||void 0===o||null===(i=o.split)||void 0===i||null===(n=i.call(o,"-"))||void 0===n?void 0:n[1])||"").then((function(e){var t,o=(null===e||void 0===e||null===(t=e.slice)||void 0===t?void 0:t.call(e,-10))||[];if(a.dataX=o.map((function(e){return e.time})),a.dataY=o.map((function(e){return e.close})),"solana"===a.chain){var i=o[o.length-2],n=o[o.length-1],l=new Ao.a(i.high).minus(i.low).div(i.low),s=new Ao.a(n.high).minus(n.low).div(n.low),r=Ao.a.max(2,Ao.a.min(9,l.plus(s).times(100).div(2)));a.solanaPriceChg={solanaAutoSlippage:r,k0_price_chg:l,k1_price_chg:s},r.gte(2)&&(a.solanaSlippage=localStorage.solanaSlippage||r.toFixed(0)),l.gt(.1)&&s.gt(.1)&&(a.isHotToken=!0),a.getKlineTime=Date.now()}return Promise.resolve(e)}))},updateKline:function(e){var t,o=null===(t=this.token1)||void 0===t?void 0:t.address;if(o){var i=this.dataX[this.dataX.length-1],n=this.dataY[this.dataY.length-1];e.from_address===o?n=e.from_price_usd:e.to_address===o&&(n=e.to_price_usd);var a=parseInt(i/60),l=parseInt(e.time/60);a===l?this.dataY[this.dataY.length-1]=n:a<l&&(this.dataY=[].concat(Object(ct["a"])(this.dataY),[n]).slice(-10),this.dataX=[].concat(Object(ct["a"])(this.dataX),[Number(e.time)]).slice(-10))}},getUserAllTxs:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this.$store.state.currentAccount;o&&(this.txsLoading=!0,Object(ao["hb"])().then((function(o){var i,n,a,l,s=Array.isArray(o)?o:[],r=t&&!(null!==s&&void 0!==s&&null!==(i=s.some)&&void 0!==i&&i.call(s,(function(e){return e.transaction===t.transaction})))&&Date.now()-1e3*t.time<6e5;r&&setTimeout((function(){e.getUserAllTxs(t)}),1e4),s.length>0&&(e.initTxs=(null===s||void 0===s?void 0:s.map((function(e){return e.id?Object(rt["a"])({},e):Object(rt["a"])(Object(rt["a"])({},e),{},{id:e.transaction})})))||[]),!r||null!==(n=(a=e.initTxs).some)&&void 0!==n&&n.call(a,(function(e){return e.transaction===t.transaction}))||e.initTxs.unshift(t);var c=[],u={};null===s||void 0===s||null===(l=s.forEach)||void 0===l||l.call(s,(function(e){u[e.from_address]||(c.push({address:e.from_address,symbol:e.from_symbol,chain:e.chain}),u[e.from_address]=!0),u[e.to_address]||(c.push({address:e.to_address,symbol:e.to_symbol,chain:e.chain}),u[e.to_address]=!0)})),e.txsTokens=c,sessionStorage.txsTokens=JSON.stringify(c||[])})).finally((function(){e.txsLoading=!1})))},alertTips:function(e,t){this.$dialog.alert({title:e,message:t,confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED"}).then((function(){}))},alertSupportChainTips:function(e){var t,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i?this.$dialog.confirm({title:"",message:e,confirmButtonText:null!==(t=window)&&void 0!==t&&null!==(o=t._tw_)&&void 0!==o&&o.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){var e,t,o,i;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(o=window)||void 0===o||null===(i=o._tw_)||void 0===i||i.appSwitchChain())})):this.$dialog.alert({title:"",message:e,confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED"})},supportChain:function(){if("Swap"===this.$route.name){var e,t,o,i,n,a,l,s,r,c,u,d,m,p=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"",b=Object.keys(lo["x"]),f=Ho["a"].get("chainConfig",lo["l"])||{},h=null===b||void 0===b||null===(n=b.map)||void 0===n||null===(a=n.call(b,(function(e){var t;return null===f||void 0===f||null===(t=f[e])||void 0===t?void 0:t.name})))||void 0===a||null===(l=a.join)||void 0===l?void 0:l.call(a,", "),v=null===f||void 0===f||null===(s=f[p])||void 0===s?void 0:s.name;if("solana"===p)return!0;if(!this.$store.getters.netId&&this.$store.state.chainId)return this.alertSupportChainTips(this.$t("notYetSupportedChainTips",{chains:h}),!0),!1;if(p&&(null===b||void 0===b||null===(r=b.includes)||void 0===r||!r.call(b,p)))return this.alertSupportChainTips(this.$t("notYetSupportedChainTips1",{chain:v,chains:h}),!0),!1;if((null===(c=this.$route.params)||void 0===c||null===(u=c.id)||void 0===u||null===(d=u.split)||void 0===d||null===(m=d.call(u,"-"))||void 0===m?void 0:m[1])!==this.$store.getters.netId&&this.$store.getters.netId)return this.alertSupportChainTips(this.$t("chainNotSame"),!0),!1}return!0},getGasPrice:function(){var e,t,o,i,n,a,l,s,r,c=this,u=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"";"evm"!==localStorage.okxwallet_chain&&(window.solana||null!==(n=window)&&void 0!==n&&null!==(a=n.trustwallet)&&void 0!==a&&a.solana&&(null===(l=window.ethereum)||void 0===l||null===(s=l.address)||void 0===s||null===(r=s.startsWith)||void 0===r||!r.call(s,"0x"))&&window.ethereum.address)&&(u="solana"),"solana"!==u&&Object(ao["C"])(u).then((function(e){var t,o,i=e.toString();"bsc"===u&&null!==e&&void 0!==e&&null!==(t=e.lt)&&void 0!==t&&t.call(e,"3000000000")&&(i="3000000000"),c.gasPrice=i;var n=(null===(o=c.gasSetting)||void 0===o?void 0:o[u])||{};c.gasSetting=Object(rt["a"])(Object(rt["a"])({},c.gasSetting),{},Object(lt["a"])({},u,Object(rt["a"])(Object(rt["a"])({},n),{},{gasPrice:i}))),Ho["a"].set("gasSetting",c.gasSetting)})).catch((function(e){console.log(e),c.gasPrice="0","bsc"===u&&(c.gasPrice="3000000000")}))},getPriceImpact:function(e){if(!Number(this.fromAmount)&&!Number(this.toAmount))return new Ao.a(0);if(this.isERC314||null!==e&&void 0!==e&&e.isERC314)return new Ao.a(0);var t=e.routerPath,o=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[0]:null,i=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[t.length-1]:null;if(o&&i){var n=e.from_price,a=e.to_price,l=Bt["utils"].formatUnits(o.amount,o.decimals),s=Bt["utils"].formatUnits(i.amount,i.decimals);return new Ao.a(l).times(n).div(new Ao.a(s).times(a)).minus(1).abs().times(100)}return new Ao.a(0)},goAudit:function(){this.$f.openBrowser("https://beosin.com/audits/SwapFinder_202209021725.pdf")},onCountDownFinish:function(){2===this.selected&&this.token1.address!==this.token2.address&&(this.loadingConfirmSwap||this.loadingApprove||"hidden"===document.visibilityState?this.$refs.countDown.reset():this.isAmount?this.watchFromAmount():this.watchToAmount())},countDownFinishReset:function(){this.$refs.countDown.reset(),this.dialogVisibleSwap&&this.isApprove&&!this.loadingConfirmSwap&&this.getSwapTx(!1)},appSwitchChain:function(e){var t,o,i,n;null!==(t=window)&&void 0!==t&&null!==(o=t._tw_)&&void 0!==o&&o.appSwitchChain&&(null===(i=window)||void 0===i||null===(n=i._tw_)||void 0===n||n.appSwitchChain(),e.stopPropagation())},formatPriceImpactColor:function(e){return e>40?"#F81111":e>10?"#F7933F":e>5?"#f8be46":""},goLiquidity:function(){var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.openLp){var o,i,n,a,l,s,r=Ho["a"].get("chainConfig",lo["l"])||{},c=this.$store.getters.netId||(null===(o=this.$route.params)||void 0===o||null===(i=o.id)||void 0===i||null===(n=i.split)||void 0===n||null===(a=n.call(i,"-"))||void 0===a?void 0:a[1])||"",u=null===r||void 0===r?void 0:r[c],d=null===u||void 0===u?void 0:u.wmainWrapper,m=null===(l=r[c])||void 0===l?void 0:l.swaps,p=null===(s=this.baseToken)||void 0===s?void 0:s.pairs,b=p.find((function(e){return m.some((function(t){return t.name===e.amm&&t.router_address}))}));if(b){var f,h,v=b.token0_address===d?lo["k"]:b.token0_address,g=b.token1_address===d?lo["k"]:b.token1_address,k=b.amm;null===(f=window)||void 0===f||null===(h=f._tw_)||void 0===h||h.openLp(v,g,k)}else{var O,j,w,y,S=this.tokenInfo.address||(null===(O=this.baseToken)||void 0===O||null===(j=O.token)||void 0===j?void 0:j.token)||"";S=S===d?lo["k"]:S,null===(w=window)||void 0===w||null===(y=w._tw_)||void 0===y||y.openLp(S,"","")}}},checkLimitAmount:function(){if("solana"===this.chain&&this.limitSolanaError)return!1;var e=0===this.activeTab?this.limitToken2:this.limitToken1;if(e.address===lo["k"]&&3===this.selected)return!1;var t=e.balance||0,o=0===this.activeTab?this.limitAmount2:this.limitAmount1;return!(0===Number(t)||Number(t)<Number(o)||""===this.$store.state.wallet||"0"===String(o)||this.limitToken1.address===this.limitToken2.address)},checkLimitAmountMessage:function(){var e,t,o;if("solana"===this.chain&&this.limitSolanaError)return this.$t("noSToken");var i=0===this.activeTab?this.limitToken2:this.limitToken1;if(i.address===lo["k"]&&3===this.selected)return this.$t("noSNativeToken");var n=i.balance||0,a=0===this.activeTab?this.limitAmount2:this.limitAmount1;return this.$store.state.currentAccount?!this.$store.state.currentAccount||window.ethereum||null!==(e=window)&&void 0!==e&&e.solana||null!==(t=window.trustwallet)&&void 0!==t&&t.solana||null!==(o=window)&&void 0!==o&&o.tronWeb?Number(0===n||Number(n)<Number(a)||""===this.$store.state.wallet)?this.$t("insufficientBalance"):"0"===String(a)?this.$t("AmountCannotBeZero"):"":this.$t("observeAddressNotSwap"):this.$t("pConnectWallet")},getLimitAllowance:function(){var e=this,t=0===this.activeTab?this.limitToken2:this.limitToken1;if(this.$store.getters.netId&&this.$store.getters.netId===t.chain&&t.address){var o=t.chain||this.$store.getters.netId;if("solana"===o)return;var i=lo["u"][o];this.loadingLimitAllowance=!0,Object(ao["f"])(t.address,i).then((function(t){e.limitAllowance=t.toString(),console.log("limitAllowance",e.limitAllowance)})).finally((function(){e.loadingLimitAllowance=!1}))}},getLimitOrder:function(e,t){var o=this;if(this.$store.getters.netId){var i=this.limitToken1.chain||this.$store.getters.netId||"bsc";if("solana"===i)return void this.getSolanaLimitOrder(e,t);this.loadingGetLimitOrder=!0,Object(ao["I"])({chain:i}).then((function(e){o.limitOrders=e})).finally((function(){setTimeout((function(){o.loadingGetLimitOrder=!1}),800)}))}},getSolanaLimitOrder:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("solana"===this.$store.getters.netId)return this.loadingGetLimitOrder=!0,Promise.all([Object(ao["S"])({wallet:this.$store.state.currentAccount}),Object(ao["T"])({wallet:this.$store.state.currentAccount,take:100})]).then(function(){var i=Object(st["a"])(regeneratorRuntime.mark((function i(n){var a,l,s,r,c,u,d,m,p,b,f,h,v,g,k,O,j,w;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return p=null===n||void 0===n||null===(a=n[0])||void 0===a||null===(l=a.map)||void 0===l?void 0:l.call(a,(function(e){var t,o;return[(null===e||void 0===e||null===(t=e.account)||void 0===t?void 0:t.inputMint)+"-solana",(null===e||void 0===e||null===(o=e.account)||void 0===o?void 0:o.outputMint)+"-solana"]})),b=null===n||void 0===n||null===(s=n[1])||void 0===s||null===(r=s.map)||void 0===r?void 0:r.call(s,(function(e){return[(null===e||void 0===e?void 0:e.inputMint)+"-solana",(null===e||void 0===e?void 0:e.outputMint)+"-solana"]})),f=Array.from(new Set([].concat(Object(ct["a"])(null===p||void 0===p?void 0:p.flat()),Object(ct["a"])(null===b||void 0===b?void 0:b.flat())))),i.next=5,Object(ao["gb"])(f).catch(function(){var e=Object(st["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",{});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:if(h=i.sent,v=null===n||void 0===n||null===(c=n[0])||void 0===c||null===(u=c.map)||void 0===u?void 0:u.call(c,(function(e){var t,o,i,n,a,l,s,r,c=e.account;return Object(rt["a"])(Object(rt["a"])(Object(rt["a"])({},e),c),{},{from_token:c.inputMint,from_token_symbol:null===(t=h[c.inputMint+"-solana"])||void 0===t?void 0:t.symbol,from_token_decimals:null===(o=h[c.inputMint+"-solana"])||void 0===o?void 0:o.decimal,from_token_price:null===(i=h[c.inputMint+"-solana"])||void 0===i?void 0:i.current_price_usd,to_token:c.outputMint,to_token_symbol:null===(n=h[c.outputMint+"-solana"])||void 0===n?void 0:n.symbol,to_token_decimals:null===(a=h[c.outputMint+"-solana"])||void 0===a?void 0:a.decimal,to_token_price:null===(l=h[c.outputMint+"-solana"])||void 0===l?void 0:l.current_price_usd,from_amount:Number(c.oriInAmount)||0,to_amount:Number(c.oriOutAmount)||0,id:e.publicKey,orderKey:e.publicKey,chain:"solana",created_at:0,state:"Pending",from_amount_used:new Ao.a(c.oriInAmount).minus(c.inAmount).toFixed(),to_amount_used:new Ao.a(c.oriOutAmount).minus(c.outAmount).toFixed(),percent:new Ao.a(c.oriInAmount).minus(c.inAmount).div(c.oriInAmount).times(100).toFixed(),from_token_logo_url:null===(s=h[c.inputMint+"-solana"])||void 0===s?void 0:s.logo_url,to_token_logo_url:null===(r=h[c.outputMint+"-solana"])||void 0===r?void 0:r.logo_url})})),g=null===n||void 0===n||null===(d=n[1])||void 0===d||null===(m=d.map)||void 0===m?void 0:m.call(d,(function(e){var t,o,i,n,a,l,s,r;return Object(rt["a"])(Object(rt["a"])({},e),{},{from_token:e.inputMint,from_token_symbol:null===(t=h[e.inputMint+"-solana"])||void 0===t?void 0:t.symbol,from_token_decimals:null===(o=h[e.inputMint+"-solana"])||void 0===o?void 0:o.decimal,from_token_price:null===(i=h[e.inputMint+"-solana"])||void 0===i?void 0:i.current_price_usd,to_token:e.outputMint,to_token_symbol:null===(n=h[e.outputMint+"-solana"])||void 0===n?void 0:n.symbol,to_token_decimals:null===(a=h[e.outputMint+"-solana"])||void 0===a?void 0:a.decimal,to_token_price:null===(l=h[e.outputMint+"-solana"])||void 0===l?void 0:l.current_price_usd,from_amount:Number(e.oriInAmount)||0,to_amount:Number(e.oriOutAmount)||0,chain:"solana",from_amount_used:new Ao.a(e.oriInAmount).minus(e.inAmount).toFixed(),to_amount_used:new Ao.a(e.oriOutAmount).minus(e.outAmount).toFixed(),percent:new Ao.a(e.oriInAmount).minus(e.inAmount).div(e.oriInAmount).times(100).toFixed(),from_token_logo_url:null===(s=h[e.inputMint+"-solana"])||void 0===s?void 0:s.logo_url,to_token_logo_url:null===(r=h[e.outputMint+"-solana"])||void 0===r?void 0:r.logo_url})})),k=[].concat(Object(ct["a"])(v),Object(ct["a"])(g)),O=null===k||void 0===k?void 0:k.some((function(t){return t.orderKey===e})),j=null===k||void 0===k?void 0:k.some((function(t){return t.orderKey===e&&"Cancelled"===t.state})),console.log("limitOrderList",k),!(e&&t.getSolanaLimitOrderTime<=30&&(0!==o&&!O||0===o&&!j))){i.next=17;break}return li&&(clearTimeout(li),li=null),i.abrupt("return",new Promise((function(i,n){li=setTimeout((function(){t.getSolanaLimitOrderTime+=5,t.getSolanaLimitOrder(e,o).then((function(e){i(e)}))}),5e3)})));case 17:return t.loadingGetLimitOrder=!1,t.limitOrders=null===k||void 0===k||null===(w=k.filter)||void 0===w?void 0:w.call(k,(function(t){return!(t.orderKey===e&&"Pending"===t.state&&0===o)})),t.getSolanaLimitOrderTime=0,i.abrupt("return",k);case 21:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).catch((function(){t.getSolanaLimitOrderTime=0,t.loadingGetLimitOrder=!1}))},refreshLimit:function(e,t){var o=this;"solana"===e.chain?this.getSolanaLimitOrder(e.publicKey,0).then((function(i){console.log("refreshLimit",i),t[e.publicKey]=!1,e.from_token===o.limitToken1.address?o.getToken1Info():e.from_token===o.limitToken2.address&&o.getToken2Info()})):(this.getLimitOrder(),e.from_token===lo["k"]&&(e.from_token===this.limitToken1.address?this.getToken1Info():e.from_token===this.limitToken2.address&&this.getToken2Info()))},approveLimit:function(){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function t(){var o,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.supportChainLimit()){t.next=2;break}return t.abrupt("return");case 2:e.loadingLimitApprove=!0,o=e.limitToken1.chain||e.$store.getters.netId||"bsc",i=lo["u"][o],n=0===e.activeTab?e.limitToken2:e.limitToken1,"bsc"!==e.$store.getters.netId&&"eth"!==e.$store.getters.netId||e.$f.setSwapSendType("fast"),Object(ao["i"])(n.address,i).then((function(e){return e.wait()})).then((function(t){console.log(t),e.getLimitAllowance(),e.getGasBalance()})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.loadingLimitApprove=!1,e.$f.setSwapSendType("")}));case 8:case"end":return t.stop()}}),t)})))()},supportChainLimit:function(){if("Swap"===this.$route.name){var e,t,o,i,n,a,l,s,r,c,u,d,m,p,b=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"",f=Object.keys(lo["u"]).concat("solana"),h=Ho["a"].get("chainConfig",lo["l"])||{},v=f.map((function(e){return h[e].name})).join(", ");if(null!==(n=this.$store.state.currentAccount)&&void 0!==n&&null!==(a=n.startsWith)&&void 0!==a&&a.call(n,"T")||b&&(null===f||void 0===f||null===(l=f.includes)||void 0===l||!l.call(f,b))){this.$t("notYetSupportedChainNoGasTips",{chains:v});return this.$toast({message:this.$t("notYetSupportedChainLimitTips",{chains:v}),position:"top"}),!1}if(console.warn(null===(s=this.$route.params)||void 0===s?void 0:s.id,this.$store.getters.netId),(null===(r=this.$route.params)||void 0===r||null===(c=r.id)||void 0===c||null===(u=c.split)||void 0===u||null===(d=u.call(c,"-"))||void 0===d?void 0:d[1])!==this.$store.getters.netId&&this.$store.getters.netId)return this.$dialog.confirm({title:"",message:this.$t("chainNotSame"),confirmButtonText:null!==(m=window)&&void 0!==m&&null!==(p=m._tw_)&&void 0!==p&&p.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){var e,t,o,i;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(o=window)||void 0===o||null===(i=o._tw_)||void 0===i||i.appSwitchChain())})),!1}return!0},onLimitSubmit:function(){try{var e,t,o,i;if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChainLimit())return;var n=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(o=t.split)||void 0===o||null===(i=o.call(t,"-"))||void 0===i?void 0:i[1])||"";if(n!==this.netId)return void this.$toast({message:this.$t("plsSwitchChain",{chain:n}),position:"top"});0!==this.selected&&1!==this.selected&&3!==this.selected||(this.isLimitApprove||3===this.selected?this.openConfirmLimit():this.approveLimit())}catch(a){console.log(a)}},openConfirmLimit:function(){var e=this,t=0===this.activeTab?this.limitToken2:this.limitToken1,o=0===this.activeTab?this.limitToken1:this.limitToken2,i=0===this.activeTab?this.limitAmount2:this.limitAmount1,n=0===this.activeTab?this.limitAmount1:this.limitAmount2,a=0===this.activeTab?this.limitToken1.decimals:this.limitToken2.decimals;if(t.address===lo["k"]){var l=window.navigator.userAgent;if(l.includes("OSType/2")){var s=l.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),r=Xo.lte(s,"2.4.0")&&"1.0.6"!==s;if(r)return void this.$dialog.alert({title:this.$t("tips"),message:this.$t("limitOrderTips1"),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})}}var c=new Ao.a(this.limitSlippage||0);3===this.selected&&(c=new Ao.a(this.noGasSlippage||0)),c=new Ao.a(1).minus(c.div(100));var u=new Ao.a(lo["v"][t.chain||this.$store.getters.netId]||0).times(5);u=u.gte(3)?u.gte(50)?new Ao.a(50):u:new Ao.a(3);var d=new Ao.a(i).times(t.price).gte(u.times(.999));if(!d){var m=this.$t("minimumTransactionAmount",{n:u.toFixed()});return 3===this.selected&&(m=this.$t("minimumTransactionNoGasAmount",{n:u.toFixed()})),void this.$dialog.alert({title:this.$t("tips"),message:m,confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})}var p=this.limitToken1.chain||this.$store.getters.netId;this.limitInfo={chain:p,orderType:3===this.selected?2:this.selected,fromToken:t,toToken:o,fromAmount:i,toAmount:n,targetToken:this.limitToken1.address,targetTokenInfo:this.limitToken1,targetLimitPrice:"solana"===p?this.limitSolanaPriceU:this.limitPrice,triggerPrice:this.triggerPrice,activeTab:this.activeTab,minReturn:new Ao.a(n||0).times(c).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],slippage:3===this.selected?this.noGasSlippage:this.limitSlippage},"solana"===p?(this.loadingLimit=!0,Object(ao["fb"])([this.limitInfo.targetToken+"-"+p]).then((function(t){var o,i,n,a,l,s,r,c,u,d,m=(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.current_price_usd)||(null===(i=e.limitInfo)||void 0===i||null===(n=i.targetTokenInfo)||void 0===n?void 0:n.current_price_usd);if(0===e.activeTab&&(console.log("price",m,null===(a=e.limitInfo)||void 0===a?void 0:a.targetLimitPrice),new Ao.a(m).lt(null===(l=e.limitInfo)||void 0===l?void 0:l.targetLimitPrice)))return void e.$dialog.alert({title:e.$t("tips"),message:e.$t("limitPriceTips",{p1:e.$f.formatNumber2(null===(s=e.limitInfo)||void 0===s?void 0:s.targetLimitPrice),p2:e.$f.formatNumber2(m)}),confirmButtonText:e.$t("okay"),confirmButtonColor:"#558BED"});if(1===e.activeTab&&(console.log("price",m,null===(r=e.limitInfo)||void 0===r?void 0:r.targetLimitPrice,new Ao.a(m).gt(null===(c=e.limitInfo)||void 0===c?void 0:c.targetLimitPrice)),new Ao.a(m).gt(null===(u=e.limitInfo)||void 0===u?void 0:u.targetLimitPrice)))return void e.$dialog.alert({title:e.$t("tips"),message:e.$t("limitPriceTips1",{p1:e.$f.formatNumber2(null===(d=e.limitInfo)||void 0===d?void 0:d.targetLimitPrice),p2:e.$f.formatNumber2(m)}),confirmButtonText:e.$t("okay"),confirmButtonColor:"#558BED"});e.dialogVisibleLimit=!0,e.loadingLimit=!1})).catch((function(t){console.log(t),e.$f.handleError(t)})).finally((function(){e.loadingLimit=!1}))):this.dialogVisibleLimit=!0},submitLimitOrder:function(){var e=this;if(this.supportChainLimit()){var t=new Ao.a(this.limitSlippage||0);3===this.selected&&(t=new Ao.a(this.noGasSlippage||0)),t=new Ao.a(1).minus(t.div(100));var o=this.$store.state.currentAccount;console.log("maker",o);var i=0===this.activeTab?this.limitToken2:this.limitToken1,n=0===this.activeTab?this.limitToken1:this.limitToken2,a=0===this.activeTab?this.limitAmount2:this.limitAmount1,l=0===this.activeTab?this.limitAmount1:this.limitAmount2,s=i.address,r=Bt["utils"].parseUnits(new Ao.a(a||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(i.decimals,"})?")))[0],i.decimals).toString(),c=n.address,u=Bt["utils"].parseUnits(new Ao.a(l||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n.decimals,"})?")))[0],n.decimals).toString(),d=Bt["utils"].parseUnits(new Ao.a(l||0).times(t).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n.decimals,"})?")))[0],n.decimals).toString(),m=this.limitToken1.address,p=this.limitPrice;this.loadingConfirmLimit=!0;var b=3===this.selected?2:this.selected,f=this.triggerPrice,h=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"";if(3===this.selected){var v={chain:this.$store.getters.netId,from_token:s,from_amount:r,to_token:c,to_amount:u,maker:o,to_min_amount:d,target_token:m,target_limit_price:"0",trigger_price:"0",current_price:"0",order_type:2,open_time:0};Object(ao["g"])(v).then((function(t){console.log("appExchangeNoGas result",t),t?setTimeout((function(){e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1,e.$toast.success(e.$t("transactionsSubmitted")),e.limitAmount1="",e.limitAmount2="",e.getNoGasList(!0)}),1e3):(e.loadingConfirmLimit=!1,e.$toast({message:e.$t("fail"),type:"fail"}))})).catch((function(t){console.log(t),e.loadingConfirmLimit=!1,e.$f.handleError(t)}))}else{if("solana"===this.chain){var g=this.solanaLimitExpiredTime?Number(parseInt(Date.now()/1e3)+parseInt(this.solanaLimitExpiredTime)):null,k="";return void Object(ao["m"])({fromToken:s,fromAmount:r,toToken:c,toAmount:u,expiredAt:g}).then((function(e){var t=e.result;return k=t.orderPubkey,console.log("result",t),e.send()})).then((function(t){console.log(t);var o={from_token:s,from_token_symbol:null===i||void 0===i?void 0:i.symbol,from_token_decimals:null===i||void 0===i?void 0:i.decimals,to_token:c,to_token_symbol:null===n||void 0===n?void 0:n.symbol,to_token_decimals:null===n||void 0===n?void 0:n.decimals,from_amount:Number(r)||0,to_amount:Number(u)||0,id:k,orderKey:k,chain:"solana",created_at:0,state:"Sending",from_amount_used:"0",percent:"0",expiredAt:g};return e.limitOrders=[o].concat(Object(ct["a"])(e.limitOrders)),e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1,t.wait()})).then((function(){e.getLimitOrder(k),e.limitAmount1="",e.limitAmount2=""})).catch((function(t){e.limitOrders=e.limitOrders.filter((function(e){return e.orderKey!==k})),e.$f.handleError(t)})).finally((function(){e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1}))}Object(ao["tb"])(o,s,r,c,d,u,m,p,b,f,h).then((function(t){console.log(t),e.$notify({type:"success",message:e.$t("submitOrdersSuccess")}),e.getLimitOrder(),e.limitAmount1="",e.limitAmount2="",e.getGasBalance(),s===lo["k"]&&(s===e.limitToken1.address?e.getToken1Info():s===e.limitToken2.address&&e.getToken2Info())})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1}))}}},getAvgPrice:function(){if(!this.fromAmount||!this.toAmount)return"--";var e=this.fromAmount,t=this.toAmount;if(this.isTax){var o,i,n,a,l=(null===(o=this.swapQuoteInfo)||void 0===o?void 0:o.totalTax)||((null===(i=this.swapQuoteInfo)||void 0===i?void 0:i.total_sell_tax)||0)+((null===(n=this.swapQuoteInfo)||void 0===n?void 0:n.total_buy_tax)||0);l=Math.min(49,l),null!==(a=this.swapQuoteInfo)&&void 0!==a&&a.isAmountOut?e=new Ao.a(e).times(100+l).div(100):t=new Ao.a(t).times(100-l).div(100)}var s="solana"===this.chain?this.solanaSwapTokenPrice[0]:this.swapQuoteInfo.from_price,r="solana"===this.chain?this.solanaSwapTokenPrice[1]:this.swapQuoteInfo.to_price;return s&&r?0===this.activeTab?this.$f.formatNumber2(e/t/(r/s)*r):1===this.activeTab?this.$f.formatNumber2(t/e/(s/r)*s):void 0:"--"},onSubmitSlippage:function(e){this.slippageInfo=e,this.autoSlippage!==e.autoSlippage&&e.autoSlippage?(this.slippage=si,localStorage.slippage=JSON.stringify(e.slippage),this.onCountDownFinish()):(this.slippage=e.slippage,localStorage.slippage=JSON.stringify(e.slippage)),this.autoSlippage=e.autoSlippage,localStorage.autoSlippage=JSON.stringify(e.autoSlippage)},onSubmitLimitSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.limitSlippage=(null===e||void 0===e?void 0:e.slippage)||"5")},onSubmitNoGasSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.noGasSlippage=(null===e||void 0===e?void 0:e.slippage)||"5")},minusTriggerPrice:function(){this.triggerPrice&&new Ao.a(this.triggerPrice).gt("0")&&(this.triggerPrice=this.$f.formatNumber(new Ao.a(this.triggerPrice).times(.99).toFixed()))},addTriggerPrice:function(){this.limitPrice&&new Ao.a(this.triggerPrice).gt("0")&&(this.triggerPrice=this.$f.formatNumber(new Ao.a(this.triggerPrice).times(1.01).toFixed()))},getNoGasList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o={account:this.$store.state.currentAccount,chain:this.$store.getters.netId};if(null!==o&&void 0!==o&&o.account&&null!==o&&void 0!==o&&o.chain){var i={maker:null===o||void 0===o?void 0:o.account,chain:null===o||void 0===o?void 0:o.chain};this.loadingGetNoGasList=!0,this.isHasUnTx=!0,Object(ao["M"])(i).then((function(o){var i,n;e.noGasTxList=o||[],e.isHasUnTx=null===(i=e.noGasTxList)||void 0===i||null===(n=i.some)||void 0===n?void 0:n.call(i,(function(e){return 0===e.status||-1===e.status})),!e.isHasUnTx&&t&&(e.getUserTokenList(),e.getGasBalance(),e.getTokenDetails())})).finally((function(){setTimeout((function(){e.loadingGetNoGasList=!1}),800),ti&&(clearTimeout(ti),ti=null),ti=setTimeout((function(){var o,i;null!==(o=e.noGasTxList)&&void 0!==o&&null!==(i=o.some)&&void 0!==i&&i.call(o,(function(e){return 0===e.status||-1===e.status}))&&e.getNoGasList(t)}),1e4)}))}},getGasBalance:function(){var e,t,o,i,n;this.$store.getters.netId;"evm"!==localStorage.okxwallet_chain&&(window.solana||null!==(e=window)&&void 0!==e&&null!==(t=e.trustwallet)&&void 0!==t&&t.solana&&(null===(o=window.ethereum)||void 0===o||null===(i=o.address)||void 0===i||null===(n=i.startsWith)||void 0===n||!n.call(i,"0x"))&&window.ethereum.address)},hasNoGas:function(){var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appExchangeNoGas){new Ao.a(this.gasBalance||0);var o=0===this.activeTab?this.token2:this.token1,i=o.chain||this.$store.getters.netId,n=(new Ao.a(lo["j"][i]||.001).div(2),!1);return n&&2===this.selected?(this.selected=3,this.$dialog.alert({title:this.$t("tips"),message:this.$t("freeGasTips"),confirmButtonText:this.$t("confirm"),confirmButtonColor:"#3F80F7"})):n||3!==this.selected||(this.selected=2),void(this.isNoGas=n)}3===this.selected&&(this.selected=2),this.isNoGas=!1},updateGasPrice:function(e){this.gasSetting=e},onSubmitSolanaSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.solanaSlippage=(null===e||void 0===e?void 0:e.slippage)||"2",this.solanaSlippage=localStorage.solanaSlippage,this.isAmount?this.watchFromAmount():this.watchToAmount())},unwrapSol:function(e){var t=this;this.loadingUnwrap=!0,Object(Ko["m"])(e).then((function(e){return e.wait()})).then((function(e){console.log(e),t.$toast.success(t.$t("unwrapSuccess")),t.getUserTokenList(),t.getTokenDetails()})).catch((function(e){console.log(e),t.$f.handleError(e)})).finally((function(){t.loadingUnwrap=!1}))},watchLimitSolanaPrice:function(){var e=this;Number(this.limitSolanaPriceU)&&(Number(this.limitAmount1)||Number(this.limitAmount2))&&this.limitToken1.address!==this.limitToken2.address&&""!==this.$store.state.wallet?(ai&&(clearTimeout(ai),ai=null),this.limitQuoteLoading=!0,ai=setTimeout((function(){e.limitAmount1?e.quoteLimitTokenPrice().then((function(t){var o;console.log("res",t),e.limitAmount2=new Ao.a(e.limitAmount1).times(e.limitSolanaPriceU).div((null===(o=e.limitToken2)||void 0===o?void 0:o.price)||1).toFixed(e.limitToken2.decimals)})).finally((function(){e.limitQuoteLoading=!1})):e.limitAmount2?e.quoteLimitTokenPrice().then((function(t){var o;console.log("res",t),e.limitAmount1=new Ao.a(e.limitAmount2).times((null===(o=e.limitToken2)||void 0===o?void 0:o.price)||0).div(e.limitSolanaPriceU).toFixed(e.limitToken1.decimals)})).finally((function(){e.limitQuoteLoading=!1})):e.limitQuoteLoading=!1}),1e3)):this.limitToken1.address===this.limitToken2.address&&this.$toast({position:"top",message:this.$t("twoIdenticalTokens")})},minusLimitSolanaPrice:function(){this.limitSolanaPriceU&&new Ao.a(this.limitSolanaPriceU).gt("0")&&(this.limitSolanaPriceU=this.$f.formatNumber(new Ao.a(this.limitSolanaPriceU).times(.99).toFixed()),this.watchLimitSolanaPrice())},addLimitSolanaPrice:function(){this.limitSolanaPriceU&&new Ao.a(this.limitSolanaPriceU).gt("0")&&(this.limitSolanaPriceU=this.$f.formatNumber(new Ao.a(this.limitSolanaPriceU).times(1.01).toFixed()),this.watchLimitSolanaPrice())},quoteLimitSolana:function(){var e,t,o,i,n,a=this;if(null!==(e=this.limitToken1)&&void 0!==e&&e.address&&null!==(t=this.limitToken2)&&void 0!==t&&t.address&&"solana"===this.chain&&0===this.selected){var l={from_token:null===(o=this.limitToken1)||void 0===o?void 0:o.address,to_token:null===(i=this.limitToken2)||void 0===i?void 0:i.address,amountIn:Bt["utils"].parseUnits("1",null===(n=this.limitToken1)||void 0===n?void 0:n.decimals).toString()};this.limitSolanaError="",Object(ao["pb"])(l).then((function(e){var t,o=Bt["utils"].formatUnits((null===e||void 0===e?void 0:e.outAmount)||0,null===(t=a.limitToken2)||void 0===t?void 0:t.decimals);a.limitSolanaPrice=o,a.quoteLimitTokenPrice().then((function(e){console.log("res",e)})),a.limitSolanaError=""})).catch((function(e){console.log("err",e),a.limitSolanaPrice=0,a.limitSolanaError="1"}))}},getSolanaPumpInfo:function(){var e=this;return new Promise((function(t,o){var i,n,a,l=(null===(i=e.$route.params)||void 0===i?void 0:i.id)||"",s=null===(n=l.split("-"))||void 0===n?void 0:n[0],r=null===(a=l.split("-"))||void 0===a?void 0:a[1];e.token1.address&&(s=e.token1.address),e.token1.chain&&(r=e.token1.chain),s&&"solana"===r?Object(ao["V"])(s).then((function(o){if(console.log("getSolanaPumpInfo",o),!1===(null===o||void 0===o?void 0:o.completed)){var i;if(e.isPump=!0,"So11111111111111111111111111111111111111112"!==e.token2.address&&(null===(i=e.tokens)||void 0===i?void 0:i.length)>0){var n,a;console.log(e.tokens);var l=Object(rt["a"])({},null===(n=e.tokens)||void 0===n||null===(a=n.slice())||void 0===a?void 0:a.find((function(e){return"So11111111111111111111111111111111111111112"===e.address})));e.token2=Object(rt["a"])({},l),setTimeout((function(){e.handleSelectToken2(l)}),1e3)}t(!0)}else e.isPump=!1,t(!1)})):(e.isPump=!1,t(!1))}))},testTron:function(){}}};o("4d8f");const ui=Dt()(ci,[["render",at],["__scopeId","data-v-453f4cd2"]]);t["default"]=ui},3731:function(e,t,o){"use strict";o("f898")},3963:function(e,t,o){},"404a":function(e,t,o){"use strict";o("c240")},"449c":function(e,t,o){"use strict";var i=o("7a23"),n=function(e){return Object(i["pushScopeId"])("data-v-11eaf9ee"),e=e(),Object(i["popScopeId"])(),e},a=n((function(){return Object(i["createElementVNode"])("use",{"xlink:href":"#icon-slippage"},null,-1)})),l=[a],s={class:"popup-title"},r={class:"slippage-label"},c=n((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),u={style:{width:"100%"}},d={class:"radio-group"},m={key:0,style:{flex:"1"}},p=["id","value","disabled"],b=["for"],f={class:"slippage-input"},h=n((function(){return Object(i["createElementVNode"])("span",null,"%",-1)})),v={class:"form-submit"};function g(e,t,o,n,a,g){var k=this,O=Object(i["resolveComponent"])("van-checkbox"),j=Object(i["resolveComponent"])("van-field"),w=Object(i["resolveComponent"])("van-button"),y=Object(i["resolveComponent"])("van-form"),S=Object(i["resolveComponent"])("van-popup");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[0===o.icon?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{key:0,class:"icon-svg icon-slippage","aria-hidden":"true",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return a.slippageVisible=!0}),["stop"]))},l)):1===o.icon?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:1,class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[1]||(t[1]=Object(i["withModifiers"])((function(e){return a.slippageVisible=!0}),["stop"]))})):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(S,{show:a.slippageVisible,"onUpdate:show":t[7]||(t[7]=function(e){return a.slippageVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("h3",s,Object(i["toDisplayString"])(e.$t("setSlippage")),1),Object(i["createVNode"])(y,{class:"popup-content",onSubmit:g.confirmSubmit},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",r,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[2]||(t[2]=Object(i["withModifiers"])((function(){return g.openSlippageTips&&g.openSlippageTips.apply(g,arguments)}),["stop"])),style:{"font-size":"0.38rem","margin-left":"0.05rem",color:"#558BED"}}),c,o.isAutoSlippage?(Object(i["openBlock"])(),Object(i["createBlock"])(O,{key:0,modelValue:a.autoSlippage,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.autoSlippage=e})},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("autoSlippage")),1)]})),_:1},8,["modelValue"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createVNode"])(j,{name:"slippage",modelValue:a.slippageValue,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.slippageValue=e}),disabled:a.autoSlippage,label:"",style:{"--van-cell-horizontal-padding":"0"},rules:[{required:!0,message:k.$t("enterSlippage")},{validator:g.validator,message:k.$t("slippageMaxTip")}],border:!1},{input:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",u,[Object(i["createElementVNode"])("div",d,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.slippageList,(function(e,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:o},[0!==o?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",m)):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"radio-".concat(e),"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.slippageValue=e}),value:e,class:"radio-input",disabled:a.autoSlippage},null,8,p),[[i["vModelRadio"],a.slippageValue]]),Object(i["createElementVNode"])("label",{for:"radio-".concat(e),class:"radio-item"},Object(i["toDisplayString"])(e)+"%",9,b)],64)})),128))]),Object(i["createElementVNode"])("div",f,[Object(i["createVNode"])(j,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",modelValue:a.slippageValue,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.slippageValue=e}),disabled:a.autoSlippage,onBlur:g.handleBlur,clearable:""},null,8,["modelValue","disabled","onBlur"]),h])])]})),_:1},8,["modelValue","disabled","rules"]),Object(i["createElementVNode"])("div",v,[Object(i["createVNode"])(w,{class:"btn",block:"",round:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])],64)}o("a9e3");var k={name:"slippageButton",props:{slippage:{type:String,default:"2"},slippageList:{type:Array,default:function(){return["0.5","1","2"]}},min:{type:Number,default:0},icon:{type:Number,default:0},isAutoSlippage:{type:Boolean,default:!1},initAutoSlippage:{type:Boolean,default:!0}},emits:["update:slippage","onSubmit"],data:function(){return{slippageVisible:!1,slippageValue:this.slippage||"1",autoSlippage:this.initAutoSlippage}},watch:{slippageVisible:function(e){var t,o,i;e&&(this.slippageValue=this.slippage||"1",this.isAutoSlippage?this.autoSlippage=this.initAutoSlippage:this.autoSlippage=!1),console.log("isRefreshEnable",!e),null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)}},methods:{confirmSubmit:function(){this.slippageVisible&&Number(this.slippageValue)<this.min&&(this.slippageValue=this.min),this.$emit("update:slippage",this.slippageValue),this.$emit("onSubmit",{slippage:this.slippageValue,autoSlippage:this.autoSlippage}),this.slippageVisible=!1},openSlippageTips:function(){this.$dialog.alert({title:this.$t("slippage"),message:this.$t("slippageTips"),confirmButtonText:this.$t("iKnown"),confirmButtonColor:"#558BED",messageAlign:"left"}).then((function(){}))},handleBlur:function(){this.slippageVisible&&Number(this.slippageValue)<0&&(this.slippageValue=0),this.slippageVisible&&Number(this.slippageValue)<this.min&&(this.slippageValue=this.min)},validator:function(e){return Number(e)<=49.99}}},O=(o("0bb0"),o("6b0d")),j=o.n(O);const w=j()(k,[["render",g],["__scopeId","data-v-11eaf9ee"]]);t["a"]=w},"497e":function(e,t,o){"use strict";o("caad"),o("2532"),o("ac1f"),o("5319");var i=o("7a23"),n=o("335a"),a=o("7f08"),l=o("4360"),s=["onClick"],r={class:"rebate-bg"},c={class:"rebate-bg fastTrade"},u={setup:function(e){var t,u,d,m,p,b,f,h,v=o("ddc3"),g=null===(t=(null===(d=window)||void 0===d?void 0:d.main)||(null===(m=window)||void 0===m?void 0:m._tw_)||{})||void 0===t||null===(u=t.appGetPlatform)||void 0===u?void 0:u.call(t),k=null===(p=(null===(f=window)||void 0===f?void 0:f.main)||(null===(h=window)||void 0===h?void 0:h._tw_)||{})||void 0===p||null===(b=p.getAppVersionCode)||void 0===b?void 0:b.call(p),O=Object(i["computed"])((function(){var e=window.navigator.userAgent;return!!e.includes("OSType/2")||"android"===g&&k>104})),j=Object(i["computed"])((function(){var e,t,o=window.navigator.userAgent,i=l["a"].getters.netId;if(o.includes("OSType/2")){var n,a,s=o.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),r=v.gte(s,"2.3.0");return(null===(n=(a=["eth","bsc"]).includes)||void 0===n?void 0:n.call(a,i))&&r}var c="android"===g&&k>112;return(null===(e=(t=["eth","bsc"]).includes)||void 0===e?void 0:e.call(t,i))&&c}));function w(){var e,t=(null===(e=n["a"].get("ave_globalConfig",{}))||void 0===e?void 0:e.Inviter_Url)||"https://m.avepromotion.xyz";Object(a["appOpenWebPage"])(t)}return function(e,t){var o=Object(i["resolveComponent"])("van-swipe-item"),n=Object(i["resolveComponent"])("van-swipe");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(n,{class:"rebate-swipe",autoplay:3e3,"lazy-render":"","show-indicators":!1},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(o,null,{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",{class:"rebate-container clickable",onClick:Object(i["withModifiers"])(w,["stop"])},[Object(i["createElementVNode"])("div",r,Object(i["toDisplayString"])(e.$t("rebateTips")),1)],8,s)]})),_:1}),Object(i["unref"])(j)?(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:0},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",{class:"rebate-container",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(){}),["stop"]))},[Object(i["createElementVNode"])("div",c,Object(i["toDisplayString"])(e.$t("fastTradeTips")),1)])]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:1},512)),[[i["vShow"],Object(i["unref"])(O)]])}}},d=(o("404a"),o("6b0d")),m=o.n(d);const p=m()(u,[["__scopeId","data-v-9bc1a90a"]]);t["a"]=p},"4d8f":function(e,t,o){"use strict";o("82bc")},"57c9":function(e,t,o){"use strict";o("a9e3");var i=o("7a23"),n=o("afd7"),a=o.n(n),l={class:"tx-li-item_1"},s={style:{display:"flex","align-items":"center","justify-content":"left","min-width":"42%"}},r={style:{display:"flex","align-items":"center",flex:"1","justify-content":"center","overflow-x":"hidden","min-width":"0.4rem"}},c={key:0,src:a.a,style:{width:"100%"},alt:"",srcset:""},u={key:1,class:"iconfont icon-jiantou2"},d={style:{display:"flex","align-items":"center","min-width":"42%","justify-content":"right","flex-wrap":"wrap"}},m={style:{"text-align":"right","word-break":"break-word","margin-left":"0.1rem"}},p={class:"tx-li-item_3"},b={key:0},f={key:1},h={key:2},v={key:3,style:{color:"#999999"}},g={key:4};function k(e,t,n,a,k,O){var j,w,y,S,T,_,N,V,$,E,x,B=Object(i["resolveComponent"])("van-image");return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"tx-li-item",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(){return O.goLink&&O.goLink.apply(O,arguments)}),["stop"]))},[Object(i["createElementVNode"])("div",l,[Object(i["createElementVNode"])("div",s,[Object(i["createVNode"])(B,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:null!==(j=n.item)&&void 0!==j&&j.from_address_logo_url?e.$f.formatIcon({logo_url:n.item.from_address_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(n.item.from_amount))+" "+Object(i["toDisplayString"])(n.item.from_symbol||""),1)]),Object(i["createElementVNode"])("div",r,[0===(null===(w=n.item)||void 0===w?void 0:w.is_merged)&&1e3*(null===(y=n.item)||void 0===y?void 0:y.time)>=Date.now()-6e4&&"timeout"!==(null===(S=n.item)||void 0===S?void 0:S.status)&&"fail"!==(null===(T=n.item)||void 0===T?void 0:T.status)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",c)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",u))]),Object(i["createElementVNode"])("div",d,[Object(i["createVNode"])(B,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem","min-width":"0.32rem"},"lazy-load":"","show-loading":"",src:null!==(_=n.item)&&void 0!==_&&_.to_address_logo_url?e.$f.formatIcon({logo_url:n.item.to_address_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(n.item.to_amount)),1),Object(i["createElementVNode"])("span",m,Object(i["toDisplayString"])(n.item.to_symbol||""),1)])]),Object(i["createElementVNode"])("ul",p,[Object(i["createElementVNode"])("li",null,[1===n.item.is_merged?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",b,Object(i["toDisplayString"])(e.$f.formatDate(n.item.time)),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",f,"--")),1===n.item.is_merged&&""!==n.item.from_price_usd?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",h,Object(i["toDisplayString"])(e.$f.formatNumberCurrencyUnit((Number(n.item.from_amount)||0)*(Number(n.item.from_price_usd)||0))),1)):("timeout"===(null===(N=n.item)||void 0===N?void 0:N.status)||"fail"===(null===(V=n.item)||void 0===V?void 0:V.status)||1e3*(null===($=n.item)||void 0===$?void 0:$.time)<Date.now()-6e4)&&0===n.item.is_merged&&"solana"===(null===(E=n.item)||void 0===E?void 0:E.chain)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",v,Object(i["toDisplayString"])("fail"===(null===(x=n.item)||void 0===x?void 0:x.status)?e.$t("failed"):e.$t("timeout")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",g,"--"))])])])}var O={name:"TxItem",props:{item:Object},data:function(){return{}},methods:{goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.item.chain,this.item.transaction,"tx"))}}},j=(o("8aa54"),o("6b0d")),w=o.n(j);const y=w()(O,[["render",k],["__scopeId","data-v-26659eee"]]);t["a"]=y},"5c10":function(e,t,o){},"82bc":function(e,t,o){},"85b6":function(e,t,o){"use strict";var i=o("7a23"),n=function(e){return Object(i["pushScopeId"])("data-v-b557f64c"),e=e(),Object(i["popScopeId"])(),e},a={key:0,class:"gap"},l=["onClick"],s=n((function(){return Object(i["createElementVNode"])("div",{class:"bar"},null,-1)})),r={class:"text"};function c(e,t,o,n,c,u){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"percent-container",style:Object(i["normalizeStyle"])({"--percent-active-color":o.activeColor})},[Object(i["createElementVNode"])("div",{for:"percent-radio-0",class:Object(i["normalizeClass"])({active:0===c.activePercent})},null,2),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(c.percentList,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",a)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["label",{active:e===c.activePercent}]),onClick:Object(i["withModifiers"])((function(t){return u.handleClick(e)}),["stop"])},[s,Object(i["createElementVNode"])("div",r,Object(i["toDisplayString"])(e)+"%",1)],10,l)],64)})),128))],4)}var u={name:"PercentStep",props:{activeColor:String},emits:["change"],data:function(){return{activePercent:0,percentList:[25,50,75,100]}},methods:{handleClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e===this.activePercent?(this.activePercent=0,this.$emit("change",0,t)):(this.activePercent=e,this.$emit("change",e,t))}}},d=(o("3731"),o("6b0d")),m=o.n(d);const p=m()(u,[["render",c],["__scopeId","data-v-b557f64c"]]);t["a"]=p},"8aa54":function(e,t,o){"use strict";o("dffd")},"8dc0":function(e,t,o){"use strict";o("c752")},"8e2e":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var i=o("f3f3"),n=o("0122"),a=(o("e9c4"),o("a002")),l=o.n(a),s=o("7a23");function r(e,t){var o=Object(s["ref"])(t);function a(){l.a.getItem(e).then((function(i){console.log("read",e,null!==i&&void 0!==i?i:t),null===i?(o.value=t,l.a.setItem(e,t)):o.value=i})).catch((function(e){o.value=v}))}function r(t){var a=t||o.value;return a?Array.isArray(a)?l.a.setItem(e,JSON.parse(JSON.stringify(o.value))):void("object"===Object(n["a"])(o.value)?l.a.setItem(e,Object(i["a"])({},a)):l.a.setItem(e,a)):l.a.removeItem(e)}return a(),Object(s["watch"])(o,(function(e){r()})),o}},"940b":function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));o("f3f3"),o("c964"),o("96cf"),o("d3b7"),o("2ca0");var i=o("4360");o("a18c");function n(){window.addEventListener("message",(function(e){e.data.message&&"accountsChanged"===e.data.message.action&&(console.log("got accountsChanged event",e.data),i["a"].commit("setCurrentAccount",window.tronWeb.defaultAddress.base58)),e.data.message&&"setNode"==e.data.message.action&&console.log("got setNode event",e.data),e.data.message&&"connect"==e.data.message.action&&console.log("got connect event",e.data),e.data.message&&"disconnect"==e.data.message.action&&(console.log("got connect event",e.data),i["a"].commit("setWallet",""),i["a"].commit("setProvider",""))}))}function a(){return new Promise((function(e,t){window.tronLink?e(!0):(window.addEventListener("tronLink#initialized",(function(){window.tronLink?(console.log("tronLink successfully detected!"),e(!0)):(console.log("Please install TronLink-Extension!"),t("Please install TronLink-Extension!"))}),{once:!0}),setTimeout((function(){window.tronLink?(console.log("tronLink successfully detected!"),e(!0)):(console.log("Please install TronLink-Extension!"),t("Please install TronLink-Extension!"))}),3e3))}))}function l(){return n(),new Promise((function(e,t){var o,n,l;window.tronWeb?(console.log("---tron_requestAccounts start----",null===(o=window)||void 0===o?void 0:o.tronWeb),null===(n=window)||void 0===n||null===(l=n.tronWeb)||void 0===l||l.request({method:"tron_requestAccounts"}).then((function(o){var n,a,l;console.log("tron_requestAccounts",o),200===o.code&&null!==(n=window)&&void 0!==n&&null!==(a=n.tronWeb)&&void 0!==a&&null!==(l=a.defaultAddress)&&void 0!==l&&l.base58?(i["a"].commit("setCurrentAccount",window.tronWeb.defaultAddress.base58),i["a"].commit("setProvider",window.tronWeb),i["a"].commit("setChainId","tron"),i["a"].commit("setWallet","TronLink"),e(window.tronWeb.defaultAddress.base58)):4001===o.code&&t(o)})).catch((function(e){console.log("connect tronLink error",e),4001===e.code?t("please connect tronLink"):console.error(e)}))):a().then((function(){var o,n;null===(o=window)||void 0===o||null===(n=o.tronWeb)||void 0===n||n.request({method:"tron_requestAccounts"}).then((function(o){var n,a,l;console.log("tron_requestAccounts",o),200===o.code&&null!==(n=window)&&void 0!==n&&null!==(a=n.tronWeb)&&void 0!==a&&null!==(l=a.defaultAddress)&&void 0!==l&&l.base58?(i["a"].commit("setProvider",window.tronWeb),i["a"].commit("setChainId","tron"),i["a"].commit("setWallet","TronLink"),i["a"].commit("setCurrentAccount",window.tronWeb.defaultAddress.base58),e(window.tronWeb.defaultAddress.base58)):4001===o.code&&t(o)})).catch((function(e){console.log("connect tronLink error",e),4001===e.code?t("请连接"):console.error(e)}))}))}))}},9587:function(e,t,o){"use strict";o("99af");var i=o("7a23"),n=function(e){return Object(i["pushScopeId"])("data-v-9640257c"),e=e(),Object(i["popScopeId"])(),e},a={class:"flex items-center"},l={class:"label mr-20"},s={key:0,class:"token-container"},r={class:"icon-token-container mr-5"},c=["src"],u={class:"mr-5"},d=n((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),m={class:"flex items-center mt-10"},p={class:"label mr-20"},b={key:0,class:"token-container"},f={class:"icon-token-container mr-5"},h=["src"],v={class:"mr-5"},g={class:"flex items-center mt-10"},k={class:"label mr-20"},O={key:0,class:"token-container"},j={class:"flex items-center justify-between mt-10"},w={class:"label mr-20 flex items-center"},y={key:0},S=n((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),T={class:"flex items-center"},_={class:"label mr-20"},N={key:0,class:"token-container"},V={class:"icon-token-container mr-5"},$=["src"],E={class:"mr-5"},x=n((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),B={class:"flex items-center mt-10"},C={class:"label mr-20"},A={key:0,class:"token-container"},I={class:"icon-token-container mr-5"},P=["src"],D={class:"mr-5"},L={class:"flex justify-between mt-10"},F={class:"label mr-20"},U={class:"token-container flex items-end flex-col",style:{"align-items":"end"}},R={class:"text-size-12"},M={class:"color-999 text-size-12"},G={class:"flex items-center justify-between mt-10"},z={class:"mr-20 label"},W={key:0,class:"color-333 text-size-12"},q={class:"label"},Q={key:1,class:"color-333 text-size-12"},H={class:"label"},K={key:0,class:"flex items-center justify-between mt-10"},Y={class:"mr-20 label"},J={class:"color-333 text-size-12"};function X(e,t,n,X,Z,ee){var te,oe,ie,ne,ae,le,se,re,ce=Object(i["resolveComponent"])("van-image"),ue=Object(i["resolveComponent"])("van-loading"),de=Object(i["resolveComponent"])("van-button");return"solana"!==n.item.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:0,class:"tx-li-item van-hairline--bottom clickable",onClick:t[1]||(t[1]=Object(i["withModifiers"])((function(e){return ee.goLink(n.item)}),["stop"]))},[Object(i["createElementVNode"])("div",a,[Object(i["createElementVNode"])("span",l,Object(i["toDisplayString"])(e.$t("from")),1),n.item.from_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",s,[Object(i["createElementVNode"])("div",r,[Object(i["createVNode"])(ce,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(te=n.item)&&void 0!==te&&te.from_token_logo_url?e.$f.formatIcon({logo_url:n.item.from_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,c)]),Object(i["createElementVNode"])("span",u,Object(i["toDisplayString"])(e.$f.formatNumber2(ee.formatUnits(n.item.from_amount,n.item.from_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.item.from_token_symbol||""),1)])):Object(i["createCommentVNode"])("",!0),d,0===n.item.is_merged?(Object(i["openBlock"])(),Object(i["createBlock"])(ue,{key:1,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",m,[Object(i["createElementVNode"])("span",p,Object(i["toDisplayString"])(e.$t("to")),1),n.item.to_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",b,[Object(i["createElementVNode"])("div",f,[Object(i["createVNode"])(ce,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(oe=n.item)&&void 0!==oe&&oe.to_token_logo_url?e.$f.formatIcon({logo_url:n.item.to_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,h)]),Object(i["createElementVNode"])("span",v,Object(i["toDisplayString"])(e.$f.formatNumber2(ee.formatUnits(n.item.to_amount,n.item.to_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===(ie=n.item)||void 0===ie?void 0:ie.to_token_symbol)||""),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",g,[Object(i["createElementVNode"])("span",k,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(n.item.target_token===n.item.from_token?(null===(ne=n.item)||void 0===ne?void 0:ne.from_token_symbol)||"":(null===(ae=n.item)||void 0===ae?void 0:ae.to_token_symbol)||"")+")",1),n.item.target_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",O,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(n.item.target_limit_price?e.$f.formatNumber2(n.item.target_limit_price):"--"),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",j,[Object(i["createElementVNode"])("div",w,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatDate(n.item.created_at)),1),(0===n.item.status||-1===n.item.status)&&Date.now()<1e3*n.item.created_at+Z.LimitExpiredTime?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",y,"("+Object(i["toDisplayString"])(e.$t("expiresInTime",{t:e.$dayjs(1e3*n.item.created_at+Z.LimitExpiredTime).fromNow()}))+")",1)):Object(i["createCommentVNode"])("",!0)]),1===n.item.status||2===n.item.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(i["normalizeStyle"])({color:ee.formatStatusColor(n.item)})},Object(i["toDisplayString"])(ee.formatStatus(n.item)),5)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[S,0!==n.item.status||(0===n.item.status||-1===n.item.status)&&1e3*n.item.created_at+Z.LimitExpiredTime<Date.now()&&"solana"!==n.item.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(i["normalizeStyle"])({color:ee.formatStatusColor(n.item)})},Object(i["toDisplayString"])(ee.formatStatus(n.item)),5)):Object(i["createCommentVNode"])("",!0),"solana"===n.item.chain&&0===n.item.status||n.item.from_token===Z.NATIVE_TOKEN||(0===n.item.status||-1===n.item.status)&&1e3*n.item.created_at+Z.LimitExpiredTime>Date.now()?(Object(i["openBlock"])(),Object(i["createBlock"])(de,{key:1,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:Z.loading,"loading-text":e.$t("revoke"),"loading-size":"0.28rem",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return ee.confirmCancel(n.item)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("revoke")),1)]})),_:1},8,["loading","loading-text"])):Object(i["createCommentVNode"])("",!0)],64))])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:1,class:"tx-li-item van-hairline--bottom clickable",onClick:t[3]||(t[3]=Object(i["withModifiers"])((function(e){return ee.goLink(n.item)}),["stop"]))},[Object(i["createElementVNode"])("div",T,[Object(i["createElementVNode"])("span",_,Object(i["toDisplayString"])(e.$t("from")),1),n.item.from_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",N,[Object(i["createElementVNode"])("div",V,[Object(i["createVNode"])(ce,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(le=n.item)&&void 0!==le&&le.from_token_logo_url?e.$f.formatIcon({logo_url:n.item.from_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,$)]),Object(i["createElementVNode"])("span",E,Object(i["toDisplayString"])(e.$f.formatNumber2(ee.formatUnits(n.item.from_amount,n.item.from_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.item.from_token_symbol||""),1)])):Object(i["createCommentVNode"])("",!0),x,"Sending"===n.item.state?(Object(i["openBlock"])(),Object(i["createBlock"])(ue,{key:1,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"})):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("span",{class:"label",style:Object(i["normalizeStyle"])({color:ee.formatSolanaStatusColor(n.item)})},Object(i["toDisplayString"])(ee.formatSolanaStatus(n.item)),5),"solana"===n.item.chain&&"Pending"===n.item.state?(Object(i["openBlock"])(),Object(i["createBlock"])(de,{key:0,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:Z.loadingSolana[n.item.publicKey],"loading-text":e.$t("revoke"),"loading-size":"0.28rem",onClick:t[2]||(t[2]=Object(i["withModifiers"])((function(e){return ee.confirmCancel(n.item)}),["stop"]))},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("revoke")),1)]})),_:1},8,["loading","loading-text"])):Object(i["createCommentVNode"])("",!0)],64))]),Object(i["createElementVNode"])("div",B,[Object(i["createElementVNode"])("span",C,Object(i["toDisplayString"])(e.$t("to")),1),n.item.to_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",A,[Object(i["createElementVNode"])("div",I,[Object(i["createVNode"])(ce,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(se=n.item)&&void 0!==se&&se.to_token_logo_url?e.$f.formatIcon({logo_url:n.item.to_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"]),Object(i["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,P)]),Object(i["createElementVNode"])("span",D,Object(i["toDisplayString"])(e.$f.formatNumber2(ee.formatUnits(n.item.to_amount,n.item.to_token_decimals))),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===(re=n.item)||void 0===re?void 0:re.to_token_symbol)||""),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",L,[Object(i["createElementVNode"])("span",F,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(ee.solanaPriceSymbol(n.item))+")",1),Object(i["createElementVNode"])("div",U,[Object(i["createElementVNode"])("span",R,"$"+Object(i["toDisplayString"])(ee.solanaPriceU(n.item)),1),Object(i["createElementVNode"])("span",M,"("+Object(i["toDisplayString"])(ee.solanaPrice(n.item))+")",1)])]),Object(i["createElementVNode"])("div",G,[Object(i["createElementVNode"])("span",z,Object(i["toDisplayString"])(e.$t("amount1")),1),ee.solanaTarget(n.item)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",W,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(ee.formatUnits(n.item.from_amount_used||0,n.item.from_token_decimals)))+"/"+Object(i["toDisplayString"])(e.$f.formatNumber2(ee.formatUnits(n.item.from_amount||0,n.item.from_token_decimals)))+" "+Object(i["toDisplayString"])(n.item.from_token_symbol),1),Object(i["createElementVNode"])("span",q,"("+Object(i["toDisplayString"])(e.$f.formatNumber2(n.item.percent||0))+"%)",1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Q,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(ee.formatUnits(n.item.to_amount_used||0,n.item.to_token_decimals)))+"/"+Object(i["toDisplayString"])(e.$f.formatNumber2(ee.formatUnits(n.item.to_amount||0,n.item.to_token_decimals)))+" "+Object(i["toDisplayString"])(n.item.to_token_symbol),1),Object(i["createElementVNode"])("span",H,"("+Object(i["toDisplayString"])(e.$f.formatNumber2(n.item.percent||0))+"%)",1)]))]),void 0!==n.item.expiredAt?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",K,[Object(i["createElementVNode"])("span",Y,Object(i["toDisplayString"])(e.$t("expiredTime")),1),Object(i["createElementVNode"])("span",J,Object(i["toDisplayString"])(n.item.expiredAt?e.$f.formatDate(n.item.expiredAt):e.$t("never")),1)])):Object(i["createCommentVNode"])("",!0)]))}o("d3b7"),o("b680"),o("a9e3");var Z=o("365c"),ee=o("c9d9"),te=o("6779"),oe=o("901e"),ie=o.n(oe),ne={name:"TxItem",props:{item:Object},emits:["refresh"],data:function(){return{loading:!1,LimitExpiredTime:ee["g"],NATIVE_TOKEN:ee["k"],loadingSolana:{}}},methods:{formatUnits:te["utils"].formatUnits,goLink:function(e){if("solana"===e.chain){if("Sending"===(null===e||void 0===e?void 0:e.state))return;this.$router.push({name:"LimitOrder",params:{id:e.orderKey},query:{chain:"solana",inputMint:e.from_token,outputMint:e.to_token,wallet:e.maker}})}else this.$router.push({name:"LimitOrder",params:{id:e.id}})},confirmCancel:function(e){var t=this,o="solana"===(null===e||void 0===e?void 0:e.chain)?this.$t("cancelOrderConfirmingSolana"):this.$t("confirmCancelMessage");this.$dialog.confirm({title:this.$t("cancelOrderConfirming"),message:o,confirmButtonText:this.$t("confirm1"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){t.cancelLimitOrder(e)}))},cancelLimitOrder:function(e){var t=this;if("solana"!==e.chain){var o={fromToken:e.from_token,fromAmount:e.from_amount,toToken:e.to_token,minReturn:e.to_min_amount,salt:e.salt,id:e.id,order_id:e.order_id};console.log(o),this.loading=!0,Object(Z["k"])(o).then((function(o){console.log(o),t.$notify({type:"success",message:t.$t("cancelledOrderSuccessfully")}),t.$emit("refresh",e)})).catch((function(e){t.$f.handleError(e)})).finally((function(){t.loading=!1}))}else this.cancelSolanaLimitOrder(e)},cancelSolanaLimitOrder:function(e){var t=this;this.loadingSolana[e.publicKey]=!0,Object(Z["l"])(e.publicKey).then((function(e){return console.log(e),e.wait()})).then((function(o){console.log(o),setTimeout((function(){t.$emit("refresh",e,t.loadingSolana)}),3e3)})).catch((function(o){t.$f.handleError(o),t.loadingSolana[e.publicKey]=!1})).finally((function(){}))},formatStatus:function(e){var t;if((0===e.status||-1===e.status)&&1e3*e.created_at+ee["g"]<Date.now()&&"solana"!==e.chain)return this.$t("expired1");var o=e.status,i={0:"",1:this.$t("cancelled"),2:this.$t("completed"),3:this.$t("unknownError1"),7:this.$t("unknownError1"),5:this.$t("insufficientSlippage1"),8:this.$t("insufficientSlippage1"),6:this.$t("transferFailed"),4:this.$t("fail1")+"(".concat(this.$t("notEnoughBalance"),")"),10:this.$t("fail1")+"(".concat(this.$t("nonceError"),")"),11:this.$t("fail1")+"(".concat(this.$t("chainError"),")"),12:this.$t("fail1")+"(".concat(this.$t("signatureError"),")"),13:this.$t("fail1")+"(".concat(this.$t("approveGasPriceLow"),")"),"-1":""};return null!==(t=i[o])&&void 0!==t?t:o},formatStatusColor:function(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+ee["g"]<Date.now())return"#999999";var t=e.status;return 1===t||10===t||11===t||12===t||4===t?"#999999":2===t?"#12B886":0===t?"#3F80F7":"#FF0000"},solanaTarget:function(e){var t=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"],o=t.indexOf(e.from_token),i=t.indexOf(e.to_token);return o<=i},solanaPriceSymbol:function(e){return this.solanaTarget(e)?(null===e||void 0===e?void 0:e.from_token_symbol)||"":(null===e||void 0===e?void 0:e.to_token_symbol)||""},solanaPriceU:function(e){return this.solanaTarget(e)?this.$f.formatNumber2(new ie.a(e.to_amount).times(Math.pow(10,(null===e||void 0===e?void 0:e.from_token_decimals)-(null===e||void 0===e?void 0:e.to_token_decimals))).times((null===e||void 0===e?void 0:e.to_token_price)||0).div(e.from_amount).toFixed()):this.$f.formatNumber2(new ie.a(e.from_amount).times(Math.pow(10,(null===e||void 0===e?void 0:e.to_token_decimals)-(null===e||void 0===e?void 0:e.from_token_decimals))).times((null===e||void 0===e?void 0:e.from_token_price)||0).div(e.to_amount).toFixed())},solanaPrice:function(e){return this.solanaTarget(e)?this.$f.formatNumber2(e.to_amount*Math.pow(10,(null===e||void 0===e?void 0:e.from_token_decimals)-(null===e||void 0===e?void 0:e.to_token_decimals))/e.from_amount)+" "+((null===e||void 0===e?void 0:e.to_token_symbol)||"")+" per "+((null===e||void 0===e?void 0:e.from_token_symbol)||""):this.$f.formatNumber2(e.from_amount*Math.pow(10,(null===e||void 0===e?void 0:e.to_token_decimals)-(null===e||void 0===e?void 0:e.from_token_decimals))/e.to_amount)+" "+((null===e||void 0===e?void 0:e.from_token_symbol)||"")+" per "+((null===e||void 0===e?void 0:e.to_token_symbol)||"")},formatSolanaStatus:function(e){var t;if("Pending"===(null===e||void 0===e?void 0:e.state)&&null!==(null===e||void 0===e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null===e||void 0===e?void 0:e.expiredAt)||0))return this.$t("expired1");var o=e.state,i={Pending:"",Completed:this.$t("completed"),Cancelled:this.$t("cancelled")};return null!==(t=i[o])&&void 0!==t?t:o},formatSolanaStatusColor:function(e){var t;if("Pending"===(null===e||void 0===e?void 0:e.state)&&null!==(null===e||void 0===e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null===e||void 0===e?void 0:e.expiredAt)||0))return"#999999";var o=e.state,i={Pending:"",Completed:"#12B886",Cancelled:"#999999"};return null!==(t=i[o])&&void 0!==t?t:"#3F80F7"}}},ae=(o("8dc0"),o("6b0d")),le=o.n(ae);const se=le()(ne,[["render",X],["__scopeId","data-v-9640257c"]]);t["a"]=se},"965b":function(e,t,o){e.exports=o.p+"static/img/audit-logo.01052351.png"},"969b":function(e,t,o){},a277:function(e,t,o){"use strict";o("5c10")},a28f:function(e,t,o){"use strict";o("3963")},a2ef:function(e,t,o){"use strict";o("b0c0"),o("fb6a"),o("99af");var i=o("7a23"),n=o("e524"),a=o.n(n),l={class:"swap-title"},s={class:"swap-info"},r={class:"swap-info_item header"},c={class:"header-li"},u={class:"header-li_left"},d=["src"],m={class:"header-li_right"},p={class:"switch-box"},b={class:"header-li"},f={class:"header-li_left"},h=["src"],v={class:"header-li_right"},g={key:0,class:"b-s-c"},k={class:"color-3f80f7"},O=Object(i["createTextVNode"])(") "),j={class:"text-size-12 color-999",style:{"max-height":"2rem","overflow-y":"auto"}},w={class:"flex justify-between items-center mt-5"},y={key:0,style:{color:"var(--van-danger-color)"}},S={key:1},T={key:1,class:"bg-change"},_={class:"swap-info_item"},N={class:"swap-info_item-label"},V={class:"swap-info_item-value"},$={class:"p-item"},E={class:"p-item"},x={key:2,class:"swap-info_item"},B={class:"swap-info_item-label"},C={class:"swap-info_item-value"},A={key:3,class:"swap-info_item"},I={class:"swap-info_item-label"},P={class:"swap-info_item-value"},D={key:0,class:"swap-info_item"},L={class:"swap-info_item-label"},F={class:"swap-info_item-value"},U={key:1,class:"swap-info_item"},R={class:"swap-info_item-label"},M={class:"swap-info_item-value"},G={class:"swap-info_item"},z={class:"swap-info_item-label"},W={key:0,class:"swap-info_item-value path-list"},q={key:0},Q={class:"path-amm"},H={key:1,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},K={key:1},Y={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},J={key:1},X={key:5,class:"swap-info_item"},Z={class:"swap-info_item-label"},ee={class:"swap-info_item-value"},te=["href"],oe={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},ie={class:"footer"};function ne(e,t,n,a,ne,ae){var le=Object(i["resolveComponent"])("van-icon"),se=Object(i["resolveComponent"])("van-button"),re=Object(i["resolveComponent"])("van-image"),ce=Object(i["resolveComponent"])("van-popup"),ue=Object(i["resolveDirective"])("copy");return Object(i["openBlock"])(),Object(i["createBlock"])(ce,{show:ae.dialogVisible,"onUpdate:show":t[1]||(t[1]=function(e){return ae.dialogVisible=e}),style:Object(i["normalizeStyle"])({width:"90%",padding:"0.4rem"}),closeable:"",round:"",teleport:"#app"},{default:Object(i["withCtx"])((function(){var a,ce,de,me,pe,be,fe,he,ve,ge,ke,Oe,je,we,ye,Se,Te;return[Object(i["createElementVNode"])("header",l,Object(i["toDisplayString"])(e.$t("tradeConfirm")),1),Object(i["createElementVNode"])("ul",s,[Object(i["createElementVNode"])("li",r,[Object(i["createElementVNode"])("div",c,[Object(i["createElementVNode"])("div",u,[Object(i["createElementVNode"])("img",{class:"icon-token",src:ae.formatLogo(n.swapInfo.fromToken),alt:"",height:"20"},null,8,d),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.swapInfo.fromToken.symbol),1)]),Object(i["createElementVNode"])("div",m,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(a=n.swapInfo)||void 0===a?void 0:a.fromAmount)||ae.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals))||"0"),1)]),Object(i["createElementVNode"])("div",p,[Object(i["createVNode"])(le,{class:"switch-icon",name:"down"})]),Object(i["createElementVNode"])("div",b,[Object(i["createElementVNode"])("div",f,[Object(i["createElementVNode"])("img",{class:"icon-token",src:ae.formatLogo(n.swapInfo.toToken),alt:"",height:"20"},null,8,h),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.swapInfo.toToken.symbol),1)]),Object(i["createElementVNode"])("div",v,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(ce=n.swapInfo)||void 0===ce?void 0:ce.toAmount)||ae.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals))||"0"),1)])]),e.$store.state.isBatchSwap&&ne.isCanBatchSwap?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",g,[Object(i["createElementVNode"])("button",{class:"clickable",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return ne.isShowBatchAddress=!ne.isShowBatchAddress}),["stop"]))},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("batchSwapDetails"))+"(",1),Object(i["createElementVNode"])("span",k,Object(i["toDisplayString"])((null===(de=ae.selectSubWallets)||void 0===de?void 0:de.length)||0),1),O,Object(i["withDirectives"])(Object(i["createVNode"])(le,{name:"arrow-down"},null,512),[[i["vShow"],!ne.isShowBatchAddress]]),Object(i["withDirectives"])(Object(i["createVNode"])(le,{name:"arrow-up"},null,512),[[i["vShow"],ne.isShowBatchAddress]])]),Object(i["withDirectives"])(Object(i["createElementVNode"])("ul",j,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(ae.selectSubWallets||[],(function(t,o){var a;return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",w,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.name)+"("+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.address.slice(0,6))+"..."+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.address.slice(-4))+")",1),null!==(a=ae.swapTxs)&&void 0!==a&&a[o]?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",S,"-"+Object(i["toDisplayString"])(e.$f.formatNumber2(ae.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals))||"0")+" "+Object(i["toDisplayString"])(n.swapInfo.fromToken.symbol),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",y,Object(i["toDisplayString"])(e.$t("insufficientBalance")),1))])})),256))],512),[[i["vShow"],ne.isShowBatchAddress]])])):Object(i["createCommentVNode"])("",!0),ne.priceUpdated?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",T,[Object(i["createElementVNode"])("div",null,Object(i["toDisplayString"])(e.$t("priceUpdated")),1),Object(i["createVNode"])(se,{class:"btn",type:"primary",color:"#3F80F7",size:"small",round:"",onClick:ae.accept},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("accept")),1)]})),_:1},8,["onClick"])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("li",_,[Object(i["createElementVNode"])("div",N,Object(i["toDisplayString"])(e.$t("price")),1),Object(i["createElementVNode"])("div",V,[Object(i["createElementVNode"])("div",$,"1 "+Object(i["toDisplayString"])(n.swapInfo.fromToken.symbol)+" = "+Object(i["toDisplayString"])(ae.getPrice((null===(me=n.swapInfo)||void 0===me?void 0:me.fromAmount)||ae.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals),(null===(pe=n.swapInfo)||void 0===pe?void 0:pe.toAmount)||ae.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals)))+" "+Object(i["toDisplayString"])(n.swapInfo.toToken.symbol),1),Object(i["createElementVNode"])("div",E,"1 "+Object(i["toDisplayString"])(n.swapInfo.toToken.symbol)+" = "+Object(i["toDisplayString"])(ae.getPrice((null===(be=n.swapInfo)||void 0===be?void 0:be.toAmount)||ae.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals),(null===(fe=n.swapInfo)||void 0===fe?void 0:fe.fromAmount)||ae.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals)))+" "+Object(i["toDisplayString"])(n.swapInfo.fromToken.symbol),1)])]),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",x,[Object(i["createElementVNode"])("div",B,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("div",C,Object(i["toDisplayString"])(n.slippage)+"%",1)])),n.swapInfo.gasValue&&n.swapInfo.gasValue>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",A,[Object(i["createElementVNode"])("div",I,Object(i["toDisplayString"])(e.$t("estimatedGas")),1),Object(i["createElementVNode"])("div",P,"≈ "+Object(i["toDisplayString"])(ae.getEstimatedFee(n.swapInfo.gasValue)),1)])):Object(i["createCommentVNode"])("",!0),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[n.swapInfo.isAmountOut?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",U,[Object(i["createElementVNode"])("div",R,Object(i["toDisplayString"])(e.$t("maximumReceived")),1),Object(i["createElementVNode"])("div",M,Object(i["toDisplayString"])(ae.maxSold)+" "+Object(i["toDisplayString"])(null===(ge=n.swapInfo)||void 0===ge||null===(ke=ge.fromToken)||void 0===ke?void 0:ke.symbol),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",D,[Object(i["createElementVNode"])("div",L,Object(i["toDisplayString"])(e.$t("minimumReceived")),1),Object(i["createElementVNode"])("div",F,Object(i["toDisplayString"])(ae.minReceived)+" "+Object(i["toDisplayString"])(null===(he=n.swapInfo)||void 0===he||null===(ve=he.toToken)||void 0===ve?void 0:ve.symbol),1)]))],64)),Object(i["createElementVNode"])("li",G,[Object(i["createElementVNode"])("div",z,Object(i["toDisplayString"])(e.$t("tokenRoute")),1),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",K,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(ae.swapRouterPath,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Y)):Object(i["createCommentVNode"])("",!0),e.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",J,Object(i["toDisplayString"])(e.symbol),1)):Object(i["createCommentVNode"])("",!0)],64)})),128))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",W,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(ae.swapRouterPath,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:n},[t.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",q,Object(i["toDisplayString"])(t.symbol),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Q,[t.nextAmm&&"unknown"!==t.nextAmm?(Object(i["openBlock"])(),Object(i["createBlock"])(re,{key:0,class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"".concat(e.$store.state.s3BaseUrl,"swap/").concat(t.nextAmm,".jpeg"),"error-icon":o("aeccf")},null,8,["src","error-icon"])):Object(i["createCommentVNode"])("",!0),n!==ae.swapRouterPath.length-1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",H)):Object(i["createCommentVNode"])("",!0)])],64)})),128))]))]),null!==(Oe=n.swapInfo)&&void 0!==Oe&&Oe.transaction?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",X,[Object(i["createElementVNode"])("div",Z,Object(i["toDisplayString"])(e.$t("txHash")),1),Object(i["createElementVNode"])("div",ee,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.chain,n.swapInfo.transaction,"tx"),target:"_blank"},Object(i["toDisplayString"])((null===(je=n.swapInfo)||void 0===je||null===(we=je.transaction)||void 0===we?void 0:we.slice(0,6))+"..."+(null===(ye=n.swapInfo)||void 0===ye||null===(Se=ye.transaction)||void 0===Se?void 0:Se.slice(-6))),9,te),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",oe,null,512),[[ue,null===(Te=n.swapInfo)||void 0===Te?void 0:Te.transaction]])])])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",ie,[Object(i["createVNode"])(se,{class:"submit-button",type:"primary",loading:ae.isLoading,"loading-text":e.$t("confirming"),block:"",onClick:Object(i["withModifiers"])(ae.submitSwap,["stop"]),disabled:ne.priceUpdated},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["loading","loading-text","onClick","disabled"])])]})),_:1},8,["show","style"])}o("a9e3"),o("b680"),o("d3b7"),o("25f0"),o("caad"),o("2532");var ae=o("901e"),le=o.n(ae),se=o("6779"),re=o("c9d9"),ce={name:"ConfirmSwap",props:{visible:Boolean,swapInfo:Object,slippage:String,loading:Boolean,chain:String,nativePrice:Number,gasPrice:String},emits:["update:visible","submit"],data:function(){var e,t;return{priceUpdated:!1,isShowBatchAddress:!0,isCanBatchSwap:!(null===(e=window)||void 0===e||null===(t=e._tw_)||void 0===t||!t.appSelectSubWallet)||!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},isLoading:function(){return this.loading},minReceived:function(){var e,t,o,i,n=(null===(e=this.swapInfo)||void 0===e||null===(t=e.toToken)||void 0===t?void 0:t.decimals)||0,a=null===(o=this.swapInfo)||void 0===o?void 0:o.toAmount;return a?this.$f.formatNumber(new le.a(a||0).times(100-Number(this.slippage)).div(100).toFixed()):this.$f.formatNumber(se["utils"].formatUnits(new le.a((null===(i=this.swapInfo)||void 0===i?void 0:i.toTokenAmount)||0).times(100-Number(this.slippage)).div(100).toFixed(0),n))},maxSold:function(){var e,t,o,i,n=(null===(e=this.swapInfo)||void 0===e||null===(t=e.fromToken)||void 0===t?void 0:t.decimals)||0,a=null===(o=this.swapInfo)||void 0===o?void 0:o.fromAmount;return a?this.$f.formatNumber(new le.a(a||0).times(100+Number(this.slippage)).div(100).toFixed()):this.$f.formatNumber(se["utils"].formatUnits(new le.a((null===(i=this.swapInfo)||void 0===i?void 0:i.fromTokenAmount)||0).times(100+Number(this.slippage)).div(100).toFixed(0),n))},swapRouterPath:function(){var e;return(null===(e=this.swapInfo)||void 0===e?void 0:e.swapRouterPath)||[]},subTxs:function(){var e;return(null===(e=this.swapInfo)||void 0===e?void 0:e.subTxs)||{}},selectSubWallets:function(){return this.$store.getters.selectSubWallets||[]},swapTxs:function(){var e,t;return(null===(e=this.$store.state)||void 0===e||null===(t=e.subTxs)||void 0===t?void 0:t.swapTxs)||[]}},watch:{swapInfo:function(e,t){},visible:function(e){var t,o,i;e&&(this.priceUpdated=!1),null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)}},methods:{formatUnits:se["utils"].formatUnits,formatPrice:function(e){return this.$f.formatNumber(e&&""!==e?se["utils"].formatEther(this.nativePrice):0)},getPrice:function(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new le.a(t).div(e).toFixed())||"0"},getEstimatedFee:function(e){return e?this.$f.formatNumberCurrencyUnit(new le.a(e.toString()).times(this.nativePrice).times(this.gasPrice).div(String(Math.pow(10,18))).toFixed()||"0",2):"0"},submitSwap:function(){this.$emit("submit")},formatLogo:function(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?e.logo_url?this.$f.formatIcon(e):e.isETH?this.$f.formatIcon(re["k"]+"-"+this.chain):"/icon-default.png":e.logoURI},goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.chain,this.swapInfo.transaction,"tx"))},accept:function(){this.priceUpdated=!1}}},ue=(o("a28f"),o("6b0d")),de=o.n(ue);const me=de()(ce,[["render",ne],["__scopeId","data-v-3eabeb3e"]]);t["a"]=me},a6ec:function(e,t,o){"use strict";o("24500")},aa57:function(e,t,o){},aeccf:function(e,t,o){e.exports=o.p+"static/img/icon-default.75f6e9a0.png"},afd7:function(e,t,o){e.exports=o.p+"static/img/loading.fdd45987.svg"},c240:function(e,t,o){},c2b9:function(e,t,o){},c752:function(e,t,o){},ce94:function(e,t,o){"use strict";var i=o("7a23"),n={key:0,class:"swap-title"},a={key:1,class:"swap-title"},l={key:2,class:"swap-title"},s={key:3,class:"swap-info"},r={key:0,class:"swap-info_item"},c={class:"swap-info_item-label"},u={class:"swap-info_item-value"},d={class:"swap-info_item"},m={class:"swap-info_item-label"},p={class:"swap-info_item-value"},b=["src"],f={class:"ml-5"},h={key:0,class:"swap-info_item"},v={class:"swap-info_item-label"},g={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},k={style:{color:"#3F80F7"}},O={key:1,class:"swap-info_item"},j={class:"swap-info_item-label"},w={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},y={style:{color:"#3F80F7"}},S={class:"swap-info_item"},T={class:"swap-info_item-label"},_={class:"swap-info_item-value"},N=["src"],V={class:"ml-5"},$={class:"swap-info_item"},E={class:"swap-info_item-label"},x={class:"swap-info_item-value"},B=["src"],C={class:"ml-5"},A={key:0,class:"swap-info_item"},I={class:"swap-info_item-label"},P={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},D={style:{color:"#3F80F7"}},L={key:1,class:"swap-info_item"},F={class:"swap-info_item-label"},U={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},R={style:{color:"#3F80F7"}},M={class:"swap-info_item"},G={class:"swap-info_item-label"},z={class:"swap-info_item-value"},W=["src"],q={class:"ml-5"},Q={key:3,class:"swap-info_item"},H={class:"swap-info_item-label"},K={class:"swap-info_item-value",style:{"text-align":"right"}},Y={class:"swap-info_item tips warning"},J={class:"swap-info_item tips warning"},X={key:0,class:"swap-info_item tips warning"},Z={key:1,class:"swap-info_item tips warning"},ee={key:4,class:"swap-info"},te={class:"swap-info_item header"},oe={class:"header-li"},ie={class:"header-li_left"},ne=["src"],ae={class:"header-li_right"},le={class:"switch-box"},se={class:"header-li"},re={class:"header-li_left"},ce=["src"],ue={class:"header-li_right"},de={class:"swap-info_item"},me={class:"swap-info_item-label"},pe={class:"swap-info_item-value"},be={class:"swap-info_item"},fe={class:"swap-info_item-label"},he={class:"swap-info_item-value"},ve={class:"swap-info_item"},ge={class:"swap-info_item-label"},ke={class:"swap-info_item-value"},Oe={class:"footer"};function je(e,t,o,je,we,ye){var Se=Object(i["resolveComponent"])("van-icon"),Te=Object(i["resolveComponent"])("van-button"),_e=Object(i["resolveComponent"])("van-popup");return Object(i["openBlock"])(),Object(i["createBlock"])(_e,{show:ye.dialogVisible,"onUpdate:show":t[1]||(t[1]=function(e){return ye.dialogVisible=e}),style:Object(i["normalizeStyle"])({width:"90%",padding:"0.4rem"}),closeable:"",round:"",teleport:"#app"},{default:Object(i["withCtx"])((function(){var je,_e,Ne,Ve,$e,Ee,xe,Be,Ce,Ae,Ie,Pe,De,Le,Fe,Ue,Re,Me,Ge,ze,We,qe,Qe,He,Ke,Ye,Je,Xe,Ze,et,tt,ot,it,nt,at,lt;return[0===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("header",n,Object(i["toDisplayString"])(0===o.limitInfo.activeTab?e.$t("limitBuy"):e.$t("limitSell")),1)):Object(i["createCommentVNode"])("",!0),1===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("header",a,Object(i["toDisplayString"])(0===o.limitInfo.activeTab?e.$t("stopLimitBuy"):e.$t("stopLimitSell")),1)):Object(i["createCommentVNode"])("",!0),2===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("header",l,Object(i["toDisplayString"])(e.$t("tradeConfirm")),1)):Object(i["createCommentVNode"])("",!0),0===o.limitInfo.orderType||1===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",s,[1===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",r,[Object(i["createElementVNode"])("div",c,Object(i["toDisplayString"])(e.$t("limitEffective")),1),Object(i["createElementVNode"])("div",u,Object(i["toDisplayString"])(e.$t("triggerPriceEffective",{symbol:1===o.limitInfo.activeTab?(null===(je=o.limitInfo)||void 0===je||null===(_e=je.fromToken)||void 0===_e?void 0:_e.symbol)||"":(null===(Ne=o.limitInfo)||void 0===Ne||null===(Ve=Ne.toToken)||void 0===Ve?void 0:Ve.symbol)||"",price:e.$f.formatNumber2((null===($e=o.limitInfo)||void 0===$e?void 0:$e.triggerPrice)||0)})),1)])):Object(i["createCommentVNode"])("",!0),0===o.limitInfo.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("li",d,[Object(i["createElementVNode"])("div",m,Object(i["toDisplayString"])(e.$t("limitBuy")),1),Object(i["createElementVNode"])("div",p,[Object(i["createElementVNode"])("img",{class:"icon-token",src:ye.formatLogo(o.limitInfo.toToken),alt:"",height:"20"},null,8,b),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.toAmount||0)),1),Object(i["createElementVNode"])("span",f,Object(i["toDisplayString"])((null===(Ee=o.limitInfo)||void 0===Ee||null===(xe=Ee.toToken)||void 0===xe?void 0:xe.symbol)||""),1)])]),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",h,[Object(i["createElementVNode"])("div",v,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(Be=o.limitInfo)||void 0===Be||null===(Ce=Be.fromToken)||void 0===Ce?void 0:Ce.symbol)||"":(null===(Ae=o.limitInfo)||void 0===Ae||null===(Ie=Ae.toToken)||void 0===Ie?void 0:Ie.symbol)||"")+")",1),Object(i["createElementVNode"])("div",g,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.targetLimitPrice||0)),1),Object(i["createElementVNode"])("span",k,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceBuy"))+")",1)])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",O,[Object(i["createElementVNode"])("div",j,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(Pe=o.limitInfo)||void 0===Pe||null===(De=Pe.fromToken)||void 0===De?void 0:De.symbol)||"":(null===(Le=o.limitInfo)||void 0===Le||null===(Fe=Le.toToken)||void 0===Fe?void 0:Fe.symbol)||"")+")",1),Object(i["createElementVNode"])("div",w,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.targetLimitPrice||0)),1),Object(i["createElementVNode"])("span",y,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceBuy"))+")",1)])])),Object(i["createElementVNode"])("li",S,[Object(i["createElementVNode"])("div",T,Object(i["toDisplayString"])(e.$t("expectedPayment")),1),Object(i["createElementVNode"])("div",_,[Object(i["createElementVNode"])("img",{class:"icon-token",src:ye.formatLogo(o.limitInfo.fromToken),alt:"",height:"20"},null,8,N),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.fromAmount||0)),1),Object(i["createElementVNode"])("span",V,Object(i["toDisplayString"])((null===(Ue=o.limitInfo)||void 0===Ue||null===(Re=Ue.fromToken)||void 0===Re?void 0:Re.symbol)||""),1)])])],64)):Object(i["createCommentVNode"])("",!0),1===o.limitInfo.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("li",$,[Object(i["createElementVNode"])("div",E,Object(i["toDisplayString"])(e.$t("limitSell")),1),Object(i["createElementVNode"])("div",x,[Object(i["createElementVNode"])("img",{class:"icon-token",src:ye.formatLogo(o.limitInfo.fromToken),alt:"",height:"20"},null,8,B),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.fromAmount||0)),1),Object(i["createElementVNode"])("span",C,Object(i["toDisplayString"])((null===(Me=o.limitInfo)||void 0===Me||null===(Ge=Me.fromToken)||void 0===Ge?void 0:Ge.symbol)||""),1)])]),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",A,[Object(i["createElementVNode"])("div",I,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(ze=o.limitInfo)||void 0===ze||null===(We=ze.fromToken)||void 0===We?void 0:We.symbol)||"":(null===(qe=o.limitInfo)||void 0===qe||null===(Qe=qe.toToken)||void 0===Qe?void 0:Qe.symbol)||"")+")",1),Object(i["createElementVNode"])("div",P,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.targetLimitPrice||0)),1),Object(i["createElementVNode"])("span",D,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceSell"))+")",1)])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",L,[Object(i["createElementVNode"])("div",F,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(He=o.limitInfo)||void 0===He||null===(Ke=He.fromToken)||void 0===Ke?void 0:Ke.symbol)||"":(null===(Ye=o.limitInfo)||void 0===Ye||null===(Je=Ye.toToken)||void 0===Je?void 0:Je.symbol)||"")+")",1),Object(i["createElementVNode"])("div",U,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.targetLimitPrice||0)),1),Object(i["createElementVNode"])("span",R,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceSell"))+")",1)])])),Object(i["createElementVNode"])("li",M,[Object(i["createElementVNode"])("div",G,Object(i["toDisplayString"])(e.$t("expectedReceivable")),1),Object(i["createElementVNode"])("div",z,[Object(i["createElementVNode"])("img",{class:"icon-token",src:ye.formatLogo(o.limitInfo.toToken),alt:"",height:"20"},null,8,W),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.toAmount||0)),1),Object(i["createElementVNode"])("span",q,Object(i["toDisplayString"])((null===(Xe=o.limitInfo)||void 0===Xe||null===(Ze=Xe.toToken)||void 0===Ze?void 0:Ze.symbol)||""),1)])])],64)):Object(i["createCommentVNode"])("",!0),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Q,[Object(i["createElementVNode"])("div",H,Object(i["toDisplayString"])(e.$t("estimateGas")),1),Object(i["createElementVNode"])("div",K,Object(i["toDisplayString"])(e.$t("estimateGasTips",{n:e.$f.formatNumber2("solana"===o.chain?"0.1":null!==(et=o.limitGasU)&&void 0!==et?et:1,1)})),1)])):Object(i["createCommentVNode"])("",!0),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[Object(i["createElementVNode"])("li",Y,"* "+Object(i["toDisplayString"])(e.$t("limitFeeTip")),1),Object(i["createElementVNode"])("li",J,"* "+Object(i["toDisplayString"])(e.$t("limitTokenTips")),1),(null===(tt=o.limitInfo)||void 0===tt||null===(ot=tt.fromToken)||void 0===ot?void 0:ot.address)===we.NATIVE_TOKEN?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",X,Object(i["toDisplayString"])(e.$t("limitTips1")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Z,Object(i["toDisplayString"])(e.$t("limitTips2")),1))],64)):Object(i["createCommentVNode"])("",!0)])):2===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",ee,[Object(i["createElementVNode"])("li",te,[Object(i["createElementVNode"])("div",oe,[Object(i["createElementVNode"])("div",ie,[Object(i["createElementVNode"])("img",{class:"icon-token",src:ye.formatLogo(o.limitInfo.fromToken),alt:"",height:"20"},null,8,ne),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.limitInfo.fromToken.symbol),1)]),Object(i["createElementVNode"])("div",ae,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.fromAmount||0)||"0"),1)]),Object(i["createElementVNode"])("div",le,[Object(i["createVNode"])(Se,{class:"switch-icon",name:"down"})]),Object(i["createElementVNode"])("div",se,[Object(i["createElementVNode"])("div",re,[Object(i["createElementVNode"])("img",{class:"icon-token",src:ye.formatLogo(o.limitInfo.toToken),alt:"",height:"20"},null,8,ce),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.limitInfo.toToken.symbol),1)]),Object(i["createElementVNode"])("div",ue,Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitInfo.toAmount||0)||"0"),1)])]),Object(i["createElementVNode"])("li",de,[Object(i["createElementVNode"])("div",me,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("div",pe,Object(i["toDisplayString"])(null===(it=o.limitInfo)||void 0===it?void 0:it.slippage)+"%",1)]),Object(i["createElementVNode"])("li",be,[Object(i["createElementVNode"])("div",fe,Object(i["toDisplayString"])(e.$t("estimatedGas")),1),Object(i["createElementVNode"])("div",he,[Object(i["createElementVNode"])("span",null,"≈ $"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.limitGasU||"0")),1),Object(i["createElementVNode"])("button",{type:"button",class:"clickable flex items-center tag-question",onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(t){var i,n;return e.$dialog.alert({title:e.$t("tips"),message:e.$t("noGasTips",{s:(null===(i=o.limitInfo)||void 0===i||null===(n=i.fromToken)||void 0===n?void 0:n.symbol)||""}),confirmButtonText:e.$t("iKnown"),confirmButtonColor:"#3F80F7",messageAlign:"center"})}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("noGas")),1),Object(i["createVNode"])(Se,{name:"question-o"})])])]),Object(i["createElementVNode"])("li",ve,[Object(i["createElementVNode"])("div",ge,Object(i["toDisplayString"])(e.$t("minimumReceived")),1),Object(i["createElementVNode"])("div",ke,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(nt=o.limitInfo)||void 0===nt?void 0:nt.minReturn)||0))+" "+Object(i["toDisplayString"])(null===(at=o.limitInfo)||void 0===at||null===(lt=at.toToken)||void 0===lt?void 0:lt.symbol),1)])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Oe,[Object(i["createVNode"])(Te,{class:"submit-button",type:"primary",loading:ye.isLoading,"loading-text":e.$t("confirming"),block:"",round:"",onClick:Object(i["withModifiers"])(ye.submitSwap,["stop"])},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["loading","loading-text","onClick"])])]})),_:1},8,["show","style"])}o("a9e3"),o("b680"),o("caad"),o("2532");var we=o("901e"),ye=o.n(we),Se=o("6779"),Te=o("c9d9"),_e={name:"ConfirmLimit",props:{visible:Boolean,limitInfo:Object,loading:Boolean,chain:String,limitGasU:String},emits:["update:visible","submit"],data:function(){return{NATIVE_TOKEN:Te["k"],limitContractsFee:Te["v"]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},isLoading:function(){return this.loading}},watch:{visible:function(e){var t,o,i;console.log("isRefreshEnable",e),null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)}},methods:{formatUnits:Se["utils"].formatUnits,getPrice:function(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new ye.a(t).div(e).toFixed())||"0"},submitSwap:function(){this.$emit("submit")},formatLogo:function(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?e.logo_url?this.$f.formatIcon(e):"/icon-default.png":e.logoURI},goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.chain,this.limitInfo.transaction,"tx"))}}},Ne=(o("a277"),o("6b0d")),Ve=o.n(Ne);const $e=Ve()(_e,[["render",je],["__scopeId","data-v-37f08fbf"]]);t["a"]=$e},cf1a:function(e,t,o){"use strict";var i=o("7a23"),n={class:"chart-container"},a=["id"];function l(e,t,o,l,s,r){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",n,[Object(i["createElementVNode"])("div",{id:s.chartId,style:Object(i["normalizeStyle"])({height:"1.45rem",width:"100%"})},null,12,a)])}o("d81d");var s=o("22b4"),r=o("1be7"),c=o("3620"),u=o("2da7"),d=o("4b2a"),m=o("5e81"),p=o("e600"),b=o("ee29"),f=o("c55a"),h=o("f95e"),v=o("ec26");s["a"]([u["a"],d["a"],m["a"],p["a"],c["a"],b["a"],f["a"],h["a"]]);var g={name:"PriceChart",props:{dataX:Array,dataY:Array},data:function(){return{chartId:"chart-".concat(Object(v["a"])()),myChart:null,loading:!1}},watch:{dataY:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dataX,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dataY,i=t.map((function(t){return e.$f.formatDate(t,"MM-DD HH:mm")}));if(document.getElementById(this.chartId)){var n=r["b"](document.getElementById(this.chartId));n||(n=r["c"](document.getElementById(this.chartId)));var a={tooltip:{trigger:"axis",appendToBody:!0},grid:{left:"0",right:"0",top:"5%",bottom:"3%",containLabel:!0},xAxis:{data:i,axisLine:{show:!1,lineStyle:{color:"#23293C"}},axisLabel:{show:!1,color:"#777"},axisTick:{show:!1},nameTextStyle:{fontSize:12}},yAxis:{type:"value",name:"",nameTextStyle:{fontSize:14},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1,lineStyle:{type:"solid",color:["#FF646D"]}}},series:[{name:"",type:"line",data:o,smooth:!0,symbolSize:3,areaStyle:{color:"#558BED",opacity:.2},itemStyle:{color:"#558BED",lineStyle:{color:"#558BED"}},tooltip:{valueFormatter:function(t){return e.$f.formatNumberCurrencyUnit(t||0,3,4)}}}]};n.setOption(a)}}}},k=(o("f5f1"),o("6b0d")),O=o.n(k);const j=O()(g,[["render",l],["__scopeId","data-v-41576853"]]);t["a"]=j},dffd:function(e,t,o){},e524:function(e,t,o){e.exports=o.p+"static/img/arrow-right.484eb652.svg"},e60c:function(e,t,o){},eb18:function(e,t,o){"use strict";o("c2b9")},f5f1:function(e,t,o){"use strict";o("284e")},f7ee:function(e,t,o){"use strict";o("aa57")},f898:function(e,t,o){},fadf:function(e,t,o){"use strict";o("b0c0"),o("99af"),o("fb6a");var i=o("7a23"),n=function(e){return Object(i["pushScopeId"])("data-v-a962d930"),e=e(),Object(i["popScopeId"])(),e},a={class:"select-box"},l={class:"flex items-center"},s={key:0,class:"color-999"},r=Object(i["createTextVNode"])("("),c=Object(i["createTextVNode"])(")"),u=n((function(){return Object(i["createElementVNode"])("span",{class:"mr-5 ml-5"},"|",-1)})),d={style:{"margin-right":"0.1rem"}},m=n((function(){return Object(i["createElementVNode"])("span",{class:"mr-5 ml-5"},"|",-1)})),p={class:"mr-5"},b={style:{background:"#fff",padding:"0 0.3rem 1rem 0.3rem","--van-cell-background-color":"transparent"}},f={class:"setting-title"},h={class:"slippage-setting"},v=Object(i["createTextVNode"])("%"),g={key:0,class:"class-b-s"},k={class:"setting-title flex items-center justify-between"},O={class:"mr-5"},j=Object(i["createTextVNode"])("NEW"),w=n((function(){return Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),y={class:"flex items-center justify-between text-size-14 mt-15"},S={style:{"max-width":"65%"}},T={key:0,class:"flex items-center justify-between clickable",style:{padding:"0",color:"#BFBFBF"}},_={class:"setting-title mb-0"},N={class:"inline-flex items-center"},V={class:"mr-5"},$={key:0,class:"icon-svg",style:{"font-size":"0.46rem"},"aria-hidden":"true"},E=n((function(){return Object(i["createElementVNode"])("use",{"xlink:href":"#icon-HOT"},null,-1)})),x=[E],B={class:"popup-title"},C={class:"form-submit mt-10"};function A(e,t,o,n,E,A){var I,P,D=Object(i["resolveComponent"])("van-field"),L=Object(i["resolveComponent"])("van-tag"),F=Object(i["resolveComponent"])("van-switch"),U=Object(i["resolveComponent"])("van-icon"),R=Object(i["resolveComponent"])("van-divider"),M=Object(i["resolveComponent"])("van-radio"),G=Object(i["resolveComponent"])("van-cell"),z=Object(i["resolveComponent"])("van-radio-group"),W=Object(i["resolveComponent"])("van-button"),q=Object(i["resolveComponent"])("van-action-sheet"),Q=Object(i["resolveComponent"])("van-checkbox"),H=Object(i["resolveComponent"])("van-checkbox-group"),K=Object(i["resolveComponent"])("van-empty"),Y=Object(i["resolveComponent"])("van-form"),J=Object(i["resolveComponent"])("van-popup");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",a,[Object(i["createElementVNode"])("div",l,[A.isSwapMode?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])([{"text-align":"right"},{color:"protect"===o.swapMode?"#F81111":"",fontWeight:"protect"===o.swapMode?"500":"normal"}])},Object(i["toDisplayString"])(A.swapModeName),5),A.autoName?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",s,[r,Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:"protect"===o.autoSwapMode?"#F81111":"",fontWeight:"protect"===o.autoSwapMode?"500":"normal"})},Object(i["toDisplayString"])(A.autoName),5),c])):Object(i["createCommentVNode"])("",!0),u],64)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",d,Object(i["toDisplayString"])("auto"===o.slippage?e.$t("autoSlippage"):e.$t("manualSlippage"))+"("+Object(i["toDisplayString"])("auto"===o.slippage?o.autoSlippage:o.slippage)+"%)",1),E.isCanBatchSwap&&(null===(I=A.selectSubWallets)||void 0===I?void 0:I.length)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[m,Object(i["createElementVNode"])("span",p,Object(i["toDisplayString"])((null===(P=A.selectSubWallets)||void 0===P?void 0:P.length)||0)+" "+Object(i["toDisplayString"])(e.$t("subWallets")),1)],64)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("i",{class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[0]||(t[0]=Object(i["withModifiers"])((function(e){return E.show=!0}),["stop"]))})]),Object(i["createVNode"])(q,{show:E.show,"onUpdate:show":t[9]||(t[9]=function(e){return E.show=e}),title:e.$t("swapSet"),style:{"--van-popup-background-color":"#fff","min-height":"40%"}},{default:Object(i["withCtx"])((function(){var o,n;return[Object(i["createElementVNode"])("div",b,[Object(i["createElementVNode"])("div",f,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("div",h,[Object(i["createElementVNode"])("button",{type:"button",class:Object(i["normalizeClass"])({active:"0.5"===E.slippageValue}),onClick:t[1]||(t[1]=function(e){return E.slippageValue="0.5"})},"0.5%",2),Object(i["createElementVNode"])("button",{type:"button",class:Object(i["normalizeClass"])({active:"1"===E.slippageValue}),onClick:t[2]||(t[2]=function(e){return E.slippageValue="1"})},"1%",2),Object(i["createElementVNode"])("button",{type:"button",class:Object(i["normalizeClass"])({active:void 0===E.slippageValue}),onClick:t[3]||(t[3]=function(e){return E.slippageValue=void 0})},Object(i["toDisplayString"])(e.$t("smartSetting")),3),Object(i["createVNode"])(D,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",placeholder:e.$t("custom"),modelValue:E.slippageValue,"onUpdate:modelValue":t[4]||(t[4]=function(e){return E.slippageValue=e}),onBlur:A.handleBlur,clearable:""},{"right-icon":Object(i["withCtx"])((function(){return[v]})),_:1},8,["placeholder","modelValue","onBlur"])]),E.isCanBatchSwap?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",g,[Object(i["createElementVNode"])("div",k,[Object(i["createElementVNode"])("span",O,Object(i["toDisplayString"])(e.$t("batchSwap")),1),Object(i["createVNode"])(L,{type:"danger",color:"#eb5139"},{default:Object(i["withCtx"])((function(){return[j]})),_:1}),w,Object(i["createVNode"])(F,{modelValue:E.isBatchSwap,"onUpdate:modelValue":t[5]||(t[5]=function(e){return E.isBatchSwap=e}),size:"0.32rem","inactive-color":"#BFBFBF"},null,8,["modelValue"])]),Object(i["createElementVNode"])("div",y,[Object(i["createElementVNode"])("span",S,Object(i["toDisplayString"])(e.$t("selectAddressCanSwapSameTime")),1),E.isBatchSwap?0===(null===(o=A.selectSubWallets)||void 0===o?void 0:o.length)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:1,onClick:t[6]||(t[6]=Object(i["withModifiers"])((function(e){return E.selectSubWalletVisible=!0}),["stop"])),class:"flex items-center justify-between clickable",style:{padding:"0",color:"#F6465D"}},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("plsSelectAddress")),1),Object(i["createVNode"])(U,{name:"arrow"})])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:2,class:"flex items-center justify-between clickable text-right",style:{padding:"0",color:"#3F80F7"},onClick:t[7]||(t[7]=Object(i["withModifiers"])((function(e){return E.selectSubWalletVisible=!0}),["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("selectedAddress",{n:null===(n=A.selectSubWallets)||void 0===n?void 0:n.length})),1),Object(i["createVNode"])(U,{name:"arrow"})])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",T,[Object(i["createVNode"])(U,{name:"arrow"})]))])])):Object(i["createCommentVNode"])("",!0),A.isSwapMode?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[E.isCanBatchSwap?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(R,{key:0,style:{margin:"0.4rem 0"}})),Object(i["createElementVNode"])("div",_,Object(i["toDisplayString"])(e.$t("swapMode")),1),Object(i["createVNode"])(z,{modelValue:E.swapModeValue,"onUpdate:modelValue":t[8]||(t[8]=function(e){return E.swapModeValue=e}),style:{"--van-cell-label-margin-top":"0"}},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(A.typeSwapMode,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(G,{key:e.value,border:!1,clickable:"",onClick:function(t){return E.swapModeValue=e.value},style:{padding:"0.16rem 0"}},{title:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",N,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])("iconfont icon-".concat(e.icon))},null,2),Object(i["createElementVNode"])("span",V,Object(i["toDisplayString"])(e.name),1),"auto"===e.value?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",$,x)):Object(i["createCommentVNode"])("",!0)])]})),label:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.label),1)]})),"right-icon":Object(i["withCtx"])((function(){return[Object(i["createVNode"])(M,{"icon-size":"0.3rem",name:e.value},null,8,["name"])]})),_:2},1032,["onClick"])})),128))]})),_:1},8,["modelValue"])],64)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(W,{block:"",type:"primary","native-type":"button",color:"#3F80F7",class:"submit-btn",style:Object(i["normalizeStyle"])({marginTop:A.isSwapMode?"0.5rem":"1.5rem"}),onClick:Object(i["withModifiers"])(A.submitSwapSet,["stop"])},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["style","onClick"])])]})),_:1},8,["show","title"]),Object(i["createVNode"])(J,{show:E.selectSubWalletVisible,"onUpdate:show":t[12]||(t[12]=function(e){return E.selectSubWalletVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("h3",B,Object(i["toDisplayString"])(e.$t("selectSubWallet")),1),Object(i["createVNode"])(Y,{class:"popup-content",onSubmit:A.confirmSubmitSelectSubWallet},{default:Object(i["withCtx"])((function(){var o;return[A.subWallets&&(null===(o=A.subWallets)||void 0===o?void 0:o.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(H,{key:0,modelValue:E.subWalletChecked,"onUpdate:modelValue":t[11]||(t[11]=function(e){return E.subWalletChecked=e}),style:{"max-height":"50vh","min-height":"30vh","--van-cell-horizontal-padding":"0.1rem","--van-cell-background-color":"transparent","overflow-y":"auto"}},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(A.subWallets,(function(e,o){var n,a,l,s;return Object(i["openBlock"])(),Object(i["createBlock"])(G,{clickable:"",key:e,border:!1,title:"".concat(e.name,"(").concat(null===e||void 0===e||null===(n=e.address)||void 0===n||null===(a=n.slice)||void 0===a?void 0:a.call(n,0,4),"...").concat(null===e||void 0===e||null===(l=e.address)||void 0===l||null===(s=l.slice)||void 0===s?void 0:s.call(l,-4),")"),onClick:function(e){return A.toggle(o)}},{"right-icon":Object(i["withCtx"])((function(){return[Object(i["createVNode"])(Q,{name:e.address,ref_for:!0,ref:"checkbox-".concat(o),onClick:t[10]||(t[10]=Object(i["withModifiers"])((function(){}),["stop"]))},null,8,["name"])]})),_:2},1032,["title","onClick"])})),128))]})),_:1},8,["modelValue"])):(Object(i["openBlock"])(),Object(i["createBlock"])(K,{key:1,style:{"--van-empty-padding":"0.1rem 0 0.5rem 0","--van-empty-description-color":"#888"},description:e.$t("noWallets")},null,8,["description"])),Object(i["createElementVNode"])("div",C,[Object(i["createVNode"])(W,{class:"btn",style:{"border-radius":"0.08rem"},block:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])])}o("7db0"),o("d3b7"),o("caad"),o("2532"),o("ac1f"),o("5319"),o("d81d"),o("a9e3"),o("4de4");var I=o("2c28"),P=o("ddc3"),D={name:"SwapSelectMode",props:{autoSwapMode:String,swapMode:String,slippage:{type:String,default:"2"},autoSlippage:String},emits:["update:swapMode","update:slippage"],setup:function(){var e=Object(I["useStorage"])("batchSwapClicked",!1,localStorage);return{batchSwapClicked:e}},data:function(){var e,t,o;return{show:!1,slippageValue:"auto"===this.slippage?void 0:this.slippage,swapModeValue:this.swapMode,isBatchSwap:(null===(e=this.$store.state)||void 0===e?void 0:e.isBatchSwap)||!1,addressList:[],selectSubWalletVisible:!1,subWalletChecked:[],isCanBatchSwap:!(null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||!o.appSelectSubWallet)||!1}},computed:{typeSwapMode:function(){return[{name:this.$t("fastMode"),value:"fast",label:this.$t("fastLabel"),icon:"jisu",symbol:this.$t("fast")},{name:this.$t("semi-privateMode"),value:"private",label:this.$t("semi-privateLabel"),icon:"banyinsi",symbol:this.$t("semi-Private")},{name:this.$t("privacy"),value:"protect",label:this.$t("protectLabel"),icon:"yinsi",symbol:this.$t("protect")},{name:this.$t("smartMode"),value:"auto",label:this.$t("smartLabel"),icon:"zhineng"}]},swapModeName:function(){var e,t=this;return null===(e=this.typeSwapMode.find((function(e){return e.value===t.swapMode})))||void 0===e?void 0:e.name},autoName:function(){var e=this;if("auto"===this.swapMode){var t,o=null===(t=this.typeSwapMode.find((function(t){return t.value===e.autoSwapMode})))||void 0===t?void 0:t.symbol;return"".concat(o)}return""},isSwapMode:function(){var e,t,o,i,n,a,l,s,r,c,u=window.navigator.userAgent;if(u.includes("OSType/2")){var d,m,p=u.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),b=P.gte(p,"2.3.0");return(null===(d=(m=["eth","bsc"]).includes)||void 0===d?void 0:d.call(m,this.$store.getters.netId))&&b}var f=null===(e=(null===(o=window)||void 0===o?void 0:o.main)||(null===(i=window)||void 0===i?void 0:i._tw_)||{})||void 0===e||null===(t=e.appGetPlatform)||void 0===t?void 0:t.call(e),h=null===(n=(null===(l=window)||void 0===l?void 0:l.main)||(null===(s=window)||void 0===s?void 0:s._tw_)||{})||void 0===n||null===(a=n.getAppVersionCode)||void 0===a?void 0:a.call(n),v="android"===f&&h>112;return(null===(r=(c=["eth","bsc"]).includes)||void 0===r?void 0:r.call(c,this.$store.getters.netId))&&v},subWallets:function(){return this.$store.state.subWallets||[]},selectSubWallets:function(){return this.$store.getters.selectSubWallets||[]}},watch:{show:function(e){var t,o,i,n;e&&(this.slippageValue="auto"===this.slippage?void 0:this.slippage,this.isBatchSwap=(null===(n=this.$store.state)||void 0===n?void 0:n.isBatchSwap)||!1,console.log("subWallets",this.subWallets));console.log("isRefreshEnable",!e),null===(t=window)||void 0===t||null===(o=t._tw_)||void 0===o||null===(i=o.isRefreshEnable)||void 0===i||i.call(o,"bridge",!e)},selectSubWalletVisible:function(e){e&&(this.subWalletChecked=this.selectSubWallets.map((function(e){return e.address})))}},methods:{handleBlur:function(){"auto"!==this.slippageValue&&(this.show&&Number(this.slippageValue)<0&&(this.slippageValue="0"),this.show&&Number(this.slippageValue)>49.99&&(this.slippageValue="49.99"))},submitSwapSet:function(){this.$emit("update:swapMode",this.swapModeValue),localStorage.swapMode=this.swapModeValue,void 0===this.slippageValue?(this.$emit("update:slippage","auto"),localStorage.swapSlippage="auto"):(this.$emit("update:slippage",this.slippageValue),localStorage.swapSlippage=this.slippageValue),this.$store.state.isBatchSwap=this.isBatchSwap,this.isBatchSwap||this.$store.commit("setSelectSubWallets",[]),this.show=!1},confirmSubmitSelectSubWallet:function(){var e,t,o=this;console.log("confirmSubmitSelectSubWallet----");var i=null===(e=this.subWallets)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(function(e){return o.subWalletChecked.includes(e.address)}));console.log(i),this.$store.commit("setSelectSubWallets",i),this.selectSubWalletVisible=!1},toggle:function(e){var t,o,i;null===(t=this.$refs["checkbox-".concat(e)])||void 0===t||null===(o=t[0])||void 0===o||null===(i=o.toggle)||void 0===i||i.call(o)}}},L=(o("a6ec"),o("6b0d")),F=o.n(L);const U=F()(D,[["render",A],["__scopeId","data-v-a962d930"]]);t["a"]=U},fae6:function(e,t,o){"use strict";o("969b")}}]);